(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();function Ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ug(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var ea={exports:{}},Tr={},ta={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function Fg(){if(Od)return le;Od=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function C(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,R={};function N(A,F,se){this.props=A,this.context=F,this.refs=R,this.updater=se||S}N.prototype.isReactComponent={},N.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},N.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function q(){}q.prototype=N.prototype;function O(A,F,se){this.props=A,this.context=F,this.refs=R,this.updater=se||S}var D=O.prototype=new q;D.constructor=O,x(D,N.prototype),D.isPureReactComponent=!0;var B=Array.isArray,H=Object.prototype.hasOwnProperty,J={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function ge(A,F,se){var ue,he={},pe=null,Ce=null;if(F!=null)for(ue in F.ref!==void 0&&(Ce=F.ref),F.key!==void 0&&(pe=""+F.key),F)H.call(F,ue)&&!Z.hasOwnProperty(ue)&&(he[ue]=F[ue]);var ye=arguments.length-2;if(ye===1)he.children=se;else if(1<ye){for(var xe=Array(ye),dt=0;dt<ye;dt++)xe[dt]=arguments[dt+2];he.children=xe}if(A&&A.defaultProps)for(ue in ye=A.defaultProps,ye)he[ue]===void 0&&(he[ue]=ye[ue]);return{$$typeof:t,type:A,key:pe,ref:Ce,props:he,_owner:J.current}}function ne(A,F){return{$$typeof:t,type:A.type,key:F,ref:A.ref,props:A.props,_owner:A._owner}}function de(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ae(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(se){return F[se]})}var De=/\/+/g;function Ke(A,F){return typeof A=="object"&&A!==null&&A.key!=null?ae(""+A.key):F.toString(36)}function ot(A,F,se,ue,he){var pe=typeof A;(pe==="undefined"||pe==="boolean")&&(A=null);var Ce=!1;if(A===null)Ce=!0;else switch(pe){case"string":case"number":Ce=!0;break;case"object":switch(A.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=A,he=he(Ce),A=ue===""?"."+Ke(Ce,0):ue,B(he)?(se="",A!=null&&(se=A.replace(De,"$&/")+"/"),ot(he,F,se,"",function(dt){return dt})):he!=null&&(de(he)&&(he=ne(he,se+(!he.key||Ce&&Ce.key===he.key?"":(""+he.key).replace(De,"$&/")+"/")+A)),F.push(he)),1;if(Ce=0,ue=ue===""?".":ue+":",B(A))for(var ye=0;ye<A.length;ye++){pe=A[ye];var xe=ue+Ke(pe,ye);Ce+=ot(pe,F,se,xe,he)}else if(xe=C(A),typeof xe=="function")for(A=xe.call(A),ye=0;!(pe=A.next()).done;)pe=pe.value,xe=ue+Ke(pe,ye++),Ce+=ot(pe,F,se,xe,he);else if(pe==="object")throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Fe(A,F,se){if(A==null)return A;var ue=[],he=0;return ot(A,ue,"","",function(pe){return F.call(se,pe,he++)}),ue}function qe(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(se){(A._status===0||A._status===-1)&&(A._status=1,A._result=se)},function(se){(A._status===0||A._status===-1)&&(A._status=2,A._result=se)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var Re={current:null},b={transition:null},oe={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:b,ReactCurrentOwner:J};function K(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:Fe,forEach:function(A,F,se){Fe(A,function(){F.apply(this,arguments)},se)},count:function(A){var F=0;return Fe(A,function(){F++}),F},toArray:function(A){return Fe(A,function(F){return F})||[]},only:function(A){if(!de(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},le.Component=N,le.Fragment=n,le.Profiler=s,le.PureComponent=O,le.StrictMode=r,le.Suspense=m,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,le.act=K,le.cloneElement=function(A,F,se){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ue=x({},A.props),he=A.key,pe=A.ref,Ce=A._owner;if(F!=null){if(F.ref!==void 0&&(pe=F.ref,Ce=J.current),F.key!==void 0&&(he=""+F.key),A.type&&A.type.defaultProps)var ye=A.type.defaultProps;for(xe in F)H.call(F,xe)&&!Z.hasOwnProperty(xe)&&(ue[xe]=F[xe]===void 0&&ye!==void 0?ye[xe]:F[xe])}var xe=arguments.length-2;if(xe===1)ue.children=se;else if(1<xe){ye=Array(xe);for(var dt=0;dt<xe;dt++)ye[dt]=arguments[dt+2];ue.children=ye}return{$$typeof:t,type:A.type,key:he,ref:pe,props:ue,_owner:Ce}},le.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},le.createElement=ge,le.createFactory=function(A){var F=ge.bind(null,A);return F.type=A,F},le.createRef=function(){return{current:null}},le.forwardRef=function(A){return{$$typeof:h,render:A}},le.isValidElement=de,le.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:qe}},le.memo=function(A,F){return{$$typeof:p,type:A,compare:F===void 0?null:F}},le.startTransition=function(A){var F=b.transition;b.transition={};try{A()}finally{b.transition=F}},le.unstable_act=K,le.useCallback=function(A,F){return Re.current.useCallback(A,F)},le.useContext=function(A){return Re.current.useContext(A)},le.useDebugValue=function(){},le.useDeferredValue=function(A){return Re.current.useDeferredValue(A)},le.useEffect=function(A,F){return Re.current.useEffect(A,F)},le.useId=function(){return Re.current.useId()},le.useImperativeHandle=function(A,F,se){return Re.current.useImperativeHandle(A,F,se)},le.useInsertionEffect=function(A,F){return Re.current.useInsertionEffect(A,F)},le.useLayoutEffect=function(A,F){return Re.current.useLayoutEffect(A,F)},le.useMemo=function(A,F){return Re.current.useMemo(A,F)},le.useReducer=function(A,F,se){return Re.current.useReducer(A,F,se)},le.useRef=function(A){return Re.current.useRef(A)},le.useState=function(A){return Re.current.useState(A)},le.useSyncExternalStore=function(A,F,se){return Re.current.useSyncExternalStore(A,F,se)},le.useTransition=function(){return Re.current.useTransition()},le.version="18.3.1",le}var Hd;function Fa(){return Hd||(Hd=1,ta.exports=Fg()),ta.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function Vg(){if(bd)return Tr;bd=1;var t=Fa(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,p){var y,_={},C=null,S=null;p!==void 0&&(C=""+p),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(S=m.ref);for(y in m)r.call(m,y)&&!c.hasOwnProperty(y)&&(_[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)_[y]===void 0&&(_[y]=m[y]);return{$$typeof:e,type:h,key:C,ref:S,props:_,_owner:s.current}}return Tr.Fragment=n,Tr.jsx=d,Tr.jsxs=d,Tr}var zd;function $g(){return zd||(zd=1,ea.exports=Vg()),ea.exports}var L=$g(),Ne=Fa();const Bg=Ua(Ne);var Hi={},na={exports:{}},ut={},oa={exports:{}},ra={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd;function qg(){return Jd||(Jd=1,function(t){function e(b,oe){var K=b.length;b.push(oe);e:for(;0<K;){var A=K-1>>>1,F=b[A];if(0<s(F,oe))b[A]=oe,b[K]=F,K=A;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var oe=b[0],K=b.pop();if(K!==oe){b[0]=K;e:for(var A=0,F=b.length,se=F>>>1;A<se;){var ue=2*(A+1)-1,he=b[ue],pe=ue+1,Ce=b[pe];if(0>s(he,K))pe<F&&0>s(Ce,he)?(b[A]=Ce,b[pe]=K,A=pe):(b[A]=he,b[ue]=K,A=ue);else if(pe<F&&0>s(Ce,K))b[A]=Ce,b[pe]=K,A=pe;else break e}}return oe}function s(b,oe){var K=b.sortIndex-oe.sortIndex;return K!==0?K:b.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var m=[],p=[],y=1,_=null,C=3,S=!1,x=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(b){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=b)r(p),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(p)}}function B(b){if(R=!1,D(b),!x)if(n(m)!==null)x=!0,qe(H);else{var oe=n(p);oe!==null&&Re(B,oe.startTime-b)}}function H(b,oe){x=!1,R&&(R=!1,q(ge),ge=-1),S=!0;var K=C;try{for(D(oe),_=n(m);_!==null&&(!(_.expirationTime>oe)||b&&!ae());){var A=_.callback;if(typeof A=="function"){_.callback=null,C=_.priorityLevel;var F=A(_.expirationTime<=oe);oe=t.unstable_now(),typeof F=="function"?_.callback=F:_===n(m)&&r(m),D(oe)}else r(m);_=n(m)}if(_!==null)var se=!0;else{var ue=n(p);ue!==null&&Re(B,ue.startTime-oe),se=!1}return se}finally{_=null,C=K,S=!1}}var J=!1,Z=null,ge=-1,ne=5,de=-1;function ae(){return!(t.unstable_now()-de<ne)}function De(){if(Z!==null){var b=t.unstable_now();de=b;var oe=!0;try{oe=Z(!0,b)}finally{oe?Ke():(J=!1,Z=null)}}else J=!1}var Ke;if(typeof O=="function")Ke=function(){O(De)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,Fe=ot.port2;ot.port1.onmessage=De,Ke=function(){Fe.postMessage(null)}}else Ke=function(){N(De,0)};function qe(b){Z=b,J||(J=!0,Ke())}function Re(b,oe){ge=N(function(){b(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){x||S||(x=!0,qe(H))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(b){switch(C){case 1:case 2:case 3:var oe=3;break;default:oe=C}var K=C;C=oe;try{return b()}finally{C=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,oe){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var K=C;C=b;try{return oe()}finally{C=K}},t.unstable_scheduleCallback=function(b,oe,K){var A=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?A+K:A):K=A,b){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,b={id:y++,callback:oe,priorityLevel:b,startTime:K,expirationTime:F,sortIndex:-1},K>A?(b.sortIndex=K,e(p,b),n(m)===null&&b===n(p)&&(R?(q(ge),ge=-1):R=!0,Re(B,K-A))):(b.sortIndex=F,e(m,b),x||S||(x=!0,qe(H))),b},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(b){var oe=C;return function(){var K=C;C=oe;try{return b.apply(this,arguments)}finally{C=K}}}}(ra)),ra}var Wd;function Gg(){return Wd||(Wd=1,oa.exports=qg()),oa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function Og(){if(Kd)return ut;Kd=1;var t=Fa(),e=Gg();function n(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function c(o,i){d(o,i),d(o+"Capture",i)}function d(o,i){for(s[o]=i,o=0;o<i.length;o++)r.add(i[o])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function C(o){return m.call(_,o)?!0:m.call(y,o)?!1:p.test(o)?_[o]=!0:(y[o]=!0,!1)}function S(o,i,u,f){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,i,u,f){if(i===null||typeof i>"u"||S(o,i,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function R(o,i,u,f,g,v,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=o,this.type=i,this.sanitizeURL=v,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];N[i]=new R(i,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function O(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(q,O);N[i]=new R(i,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(q,O);N[i]=new R(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(q,O);N[i]=new R(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function D(o,i,u,f){var g=N.hasOwnProperty(i)?N[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,u,g,f)&&(u=null),f||g===null?C(i)&&(u===null?o.removeAttribute(i):o.setAttribute(i,""+u)):g.mustUseProperty?o[g.propertyName]=u===null?g.type===3?!1:"":u:(i=g.attributeName,f=g.attributeNamespace,u===null?o.removeAttribute(i):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?o.setAttributeNS(f,i,u):o.setAttribute(i,u))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),ae=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),Ke=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),b=Symbol.iterator;function oe(o){return o===null||typeof o!="object"?null:(o=b&&o[b]||o["@@iterator"],typeof o=="function"?o:null)}var K=Object.assign,A;function F(o){if(A===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);A=i&&i[1]||""}return`
`+A+o}var se=!1;function ue(o,i){if(!o||se)return"";se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(M){var f=M}Reflect.construct(o,[],i)}else{try{i.call()}catch(M){f=M}o.call(i.prototype)}else{try{throw Error()}catch(M){f=M}o()}}catch(M){if(M&&f&&typeof M.stack=="string"){for(var g=M.stack.split(`
`),v=f.stack.split(`
`),T=g.length-1,w=v.length-1;1<=T&&0<=w&&g[T]!==v[w];)w--;for(;1<=T&&0<=w;T--,w--)if(g[T]!==v[w]){if(T!==1||w!==1)do if(T--,w--,0>w||g[T]!==v[w]){var E=`
`+g[T].replace(" at new "," at ");return o.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",o.displayName)),E}while(1<=T&&0<=w);break}}}finally{se=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?F(o):""}function he(o){switch(o.tag){case 5:return F(o.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return o=ue(o.type,!1),o;case 11:return o=ue(o.type.render,!1),o;case 1:return o=ue(o.type,!0),o;default:return""}}function pe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Z:return"Fragment";case J:return"Portal";case ne:return"Profiler";case ge:return"StrictMode";case Ke:return"Suspense";case ot:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ae:return(o.displayName||"Context")+".Consumer";case de:return(o._context.displayName||"Context")+".Provider";case De:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Fe:return i=o.displayName||null,i!==null?i:pe(o.type)||"Memo";case qe:i=o._payload,o=o._init;try{return pe(o(i))}catch{}}return null}function Ce(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ye(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function xe(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dt(o){var i=xe(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),f=""+o[i];if(!o.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,v.call(this,T)}}),Object.defineProperty(o,i,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Dr(o){o._valueTracker||(o._valueTracker=dt(o))}function Ka(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var u=i.getValue(),f="";return o&&(f=xe(o)?o.checked?"true":"false":o.value),o=f,o!==u?(i.setValue(o),!0):!1}function Lr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ls(o,i){var u=i.checked;return K({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function Ya(o,i){var u=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;u=ye(i.value!=null?i.value:u),o._wrapperState={initialChecked:f,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Qa(o,i){i=i.checked,i!=null&&D(o,"checked",i,!1)}function as(o,i){Qa(o,i);var u=ye(i.value),f=i.type;if(u!=null)f==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?us(o,i.type,u):i.hasOwnProperty("defaultValue")&&us(o,i.type,ye(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function Xa(o,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,u||i===o.value||(o.value=i),o.defaultValue=i}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function us(o,i,u){(i!=="number"||Lr(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var Fo=Array.isArray;function On(o,i,u,f){if(o=o.options,i){i={};for(var g=0;g<u.length;g++)i["$"+u[g]]=!0;for(u=0;u<o.length;u++)g=i.hasOwnProperty("$"+o[u].value),o[u].selected!==g&&(o[u].selected=g),g&&f&&(o[u].defaultSelected=!0)}else{for(u=""+ye(u),i=null,g=0;g<o.length;g++){if(o[g].value===u){o[g].selected=!0,f&&(o[g].defaultSelected=!0);return}i!==null||o[g].disabled||(i=o[g])}i!==null&&(i.selected=!0)}}function cs(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Za(o,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if(Fo(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}o._wrapperState={initialValue:ye(u)}}function ja(o,i){var u=ye(i.value),f=ye(i.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),i.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),f!=null&&(o.defaultValue=""+f)}function eu(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function tu(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ds(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?tu(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ur,nu=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,f,g){MSApp.execUnsafeLocalFunction(function(){return o(i,u,f,g)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ur.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function Vo(o,i){if(i){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=i;return}}o.textContent=i}var $o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bp=["Webkit","ms","Moz","O"];Object.keys($o).forEach(function(o){Bp.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),$o[i]=$o[o]})});function ou(o,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||$o.hasOwnProperty(o)&&$o[o]?(""+i).trim():i+"px"}function ru(o,i){o=o.style;for(var u in i)if(i.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=ou(u,i[u],f);u==="float"&&(u="cssFloat"),f?o.setProperty(u,g):o[u]=g}}var qp=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fs(o,i){if(i){if(qp[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function hs(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function ms(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var gs=null,Hn=null,bn=null;function iu(o){if(o=sr(o)){if(typeof gs!="function")throw Error(n(280));var i=o.stateNode;i&&(i=ri(i),gs(o.stateNode,o.type,i))}}function su(o){Hn?bn?bn.push(o):bn=[o]:Hn=o}function lu(){if(Hn){var o=Hn,i=bn;if(bn=Hn=null,iu(o),i)for(o=0;o<i.length;o++)iu(i[o])}}function au(o,i){return o(i)}function uu(){}var ys=!1;function cu(o,i,u){if(ys)return o(i,u);ys=!0;try{return au(o,i,u)}finally{ys=!1,(Hn!==null||bn!==null)&&(uu(),lu())}}function Bo(o,i){var u=o.stateNode;if(u===null)return null;var f=ri(u);if(f===null)return null;u=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var vs=!1;if(h)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){vs=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{vs=!1}function Gp(o,i,u,f,g,v,T,w,E){var M=Array.prototype.slice.call(arguments,3);try{i.apply(u,M)}catch(V){this.onError(V)}}var Go=!1,Fr=null,Vr=!1,_s=null,Op={onError:function(o){Go=!0,Fr=o}};function Hp(o,i,u,f,g,v,T,w,E){Go=!1,Fr=null,Gp.apply(Op,arguments)}function bp(o,i,u,f,g,v,T,w,E){if(Hp.apply(this,arguments),Go){if(Go){var M=Fr;Go=!1,Fr=null}else throw Error(n(198));Vr||(Vr=!0,_s=M)}}function Tn(o){var i=o,u=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,(i.flags&4098)!==0&&(u=i.return),o=i.return;while(o)}return i.tag===3?u:null}function du(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function fu(o){if(Tn(o)!==o)throw Error(n(188))}function zp(o){var i=o.alternate;if(!i){if(i=Tn(o),i===null)throw Error(n(188));return i!==o?null:o}for(var u=o,f=i;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return fu(g),o;if(v===f)return fu(g),i;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=v;else{for(var T=!1,w=g.child;w;){if(w===u){T=!0,u=g,f=v;break}if(w===f){T=!0,f=g,u=v;break}w=w.sibling}if(!T){for(w=v.child;w;){if(w===u){T=!0,u=v,f=g;break}if(w===f){T=!0,f=v,u=g;break}w=w.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?o:i}function hu(o){return o=zp(o),o!==null?pu(o):null}function pu(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=pu(o);if(i!==null)return i;o=o.sibling}return null}var mu=e.unstable_scheduleCallback,gu=e.unstable_cancelCallback,Jp=e.unstable_shouldYield,Wp=e.unstable_requestPaint,Le=e.unstable_now,Kp=e.unstable_getCurrentPriorityLevel,Cs=e.unstable_ImmediatePriority,yu=e.unstable_UserBlockingPriority,$r=e.unstable_NormalPriority,Yp=e.unstable_LowPriority,vu=e.unstable_IdlePriority,Br=null,Nt=null;function Qp(o){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Br,o,void 0,(o.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:jp,Xp=Math.log,Zp=Math.LN2;function jp(o){return o>>>=0,o===0?32:31-(Xp(o)/Zp|0)|0}var qr=64,Gr=4194304;function Oo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Or(o,i){var u=o.pendingLanes;if(u===0)return 0;var f=0,g=o.suspendedLanes,v=o.pingedLanes,T=u&268435455;if(T!==0){var w=T&~g;w!==0?f=Oo(w):(v&=T,v!==0&&(f=Oo(v)))}else T=u&~g,T!==0?f=Oo(T):v!==0&&(f=Oo(v));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,v=i&-i,g>=v||g===16&&(v&4194240)!==0))return i;if((f&4)!==0&&(f|=u&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=f;0<i;)u=31-St(i),g=1<<u,f|=o[u],i&=~g;return f}function em(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(o,i){for(var u=o.suspendedLanes,f=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes;0<v;){var T=31-St(v),w=1<<T,E=g[T];E===-1?((w&u)===0||(w&f)!==0)&&(g[T]=em(w,i)):E<=i&&(o.expiredLanes|=w),v&=~w}}function Ts(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function _u(){var o=qr;return qr<<=1,(qr&4194240)===0&&(qr=64),o}function ws(o){for(var i=[],u=0;31>u;u++)i.push(o);return i}function Ho(o,i,u){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-St(i),o[i]=u}function nm(o,i){var u=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<u;){var g=31-St(u),v=1<<g;i[g]=0,f[g]=-1,o[g]=-1,u&=~v}}function Ss(o,i){var u=o.entangledLanes|=i;for(o=o.entanglements;u;){var f=31-St(u),g=1<<f;g&i|o[f]&i&&(o[f]|=i),u&=~g}}var ve=0;function Cu(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Tu,Es,wu,Su,Eu,ks=!1,Hr=[],Qt=null,Xt=null,Zt=null,bo=new Map,zo=new Map,jt=[],om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(o,i){switch(o){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":bo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(i.pointerId)}}function Jo(o,i,u,f,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:i,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},i!==null&&(i=sr(i),i!==null&&Es(i)),o):(o.eventSystemFlags|=f,i=o.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),o)}function rm(o,i,u,f,g){switch(i){case"focusin":return Qt=Jo(Qt,o,i,u,f,g),!0;case"dragenter":return Xt=Jo(Xt,o,i,u,f,g),!0;case"mouseover":return Zt=Jo(Zt,o,i,u,f,g),!0;case"pointerover":var v=g.pointerId;return bo.set(v,Jo(bo.get(v)||null,o,i,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,zo.set(v,Jo(zo.get(v)||null,o,i,u,f,g)),!0}return!1}function xu(o){var i=wn(o.target);if(i!==null){var u=Tn(i);if(u!==null){if(i=u.tag,i===13){if(i=du(u),i!==null){o.blockedOn=i,Eu(o.priority,function(){wu(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function br(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var u=As(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var f=new u.constructor(u.type,u);ps=f,u.target.dispatchEvent(f),ps=null}else return i=sr(u),i!==null&&Es(i),o.blockedOn=u,!1;i.shift()}return!0}function Au(o,i,u){br(o)&&u.delete(i)}function im(){ks=!1,Qt!==null&&br(Qt)&&(Qt=null),Xt!==null&&br(Xt)&&(Xt=null),Zt!==null&&br(Zt)&&(Zt=null),bo.forEach(Au),zo.forEach(Au)}function Wo(o,i){o.blockedOn===i&&(o.blockedOn=null,ks||(ks=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,im)))}function Ko(o){function i(g){return Wo(g,o)}if(0<Hr.length){Wo(Hr[0],o);for(var u=1;u<Hr.length;u++){var f=Hr[u];f.blockedOn===o&&(f.blockedOn=null)}}for(Qt!==null&&Wo(Qt,o),Xt!==null&&Wo(Xt,o),Zt!==null&&Wo(Zt,o),bo.forEach(i),zo.forEach(i),u=0;u<jt.length;u++)f=jt[u],f.blockedOn===o&&(f.blockedOn=null);for(;0<jt.length&&(u=jt[0],u.blockedOn===null);)xu(u),u.blockedOn===null&&jt.shift()}var zn=B.ReactCurrentBatchConfig,zr=!0;function sm(o,i,u,f){var g=ve,v=zn.transition;zn.transition=null;try{ve=1,xs(o,i,u,f)}finally{ve=g,zn.transition=v}}function lm(o,i,u,f){var g=ve,v=zn.transition;zn.transition=null;try{ve=4,xs(o,i,u,f)}finally{ve=g,zn.transition=v}}function xs(o,i,u,f){if(zr){var g=As(o,i,u,f);if(g===null)bs(o,i,f,Jr,u),ku(o,f);else if(rm(g,o,i,u,f))f.stopPropagation();else if(ku(o,f),i&4&&-1<om.indexOf(o)){for(;g!==null;){var v=sr(g);if(v!==null&&Tu(v),v=As(o,i,u,f),v===null&&bs(o,i,f,Jr,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else bs(o,i,f,null,u)}}var Jr=null;function As(o,i,u,f){if(Jr=null,o=ms(f),o=wn(o),o!==null)if(i=Tn(o),i===null)o=null;else if(u=i.tag,u===13){if(o=du(i),o!==null)return o;o=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return Jr=o,null}function Iu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kp()){case Cs:return 1;case yu:return 4;case $r:case Yp:return 16;case vu:return 536870912;default:return 16}default:return 16}}var en=null,Is=null,Wr=null;function Pu(){if(Wr)return Wr;var o,i=Is,u=i.length,f,g="value"in en?en.value:en.textContent,v=g.length;for(o=0;o<u&&i[o]===g[o];o++);var T=u-o;for(f=1;f<=T&&i[u-f]===g[v-f];f++);return Wr=g.slice(o,1<f?1-f:void 0)}function Kr(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function Yr(){return!0}function Ru(){return!1}function ft(o){function i(u,f,g,v,T){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var w in o)o.hasOwnProperty(w)&&(u=o[w],this[w]=u?u(v):v[w]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Yr:Ru,this.isPropagationStopped=Ru,this}return K(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=ft(Jn),Yo=K({},Jn,{view:0,detail:0}),am=ft(Yo),Rs,Ms,Qo,Qr=K({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Qo&&(Qo&&o.type==="mousemove"?(Rs=o.screenX-Qo.screenX,Ms=o.screenY-Qo.screenY):Ms=Rs=0,Qo=o),Rs)},movementY:function(o){return"movementY"in o?o.movementY:Ms}}),Mu=ft(Qr),um=K({},Qr,{dataTransfer:0}),cm=ft(um),dm=K({},Yo,{relatedTarget:0}),Ns=ft(dm),fm=K({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),hm=ft(fm),pm=K({},Jn,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mm=ft(pm),gm=K({},Jn,{data:0}),Nu=ft(gm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cm(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=_m[o])?!!i[o]:!1}function Ds(){return Cm}var Tm=K({},Yo,{key:function(o){if(o.key){var i=ym[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=Kr(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?vm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(o){return o.type==="keypress"?Kr(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Kr(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wm=ft(Tm),Sm=K({},Qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=ft(Sm),Em=K({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),km=ft(Em),xm=K({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Am=ft(xm),Im=K({},Qr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=ft(Im),Rm=[9,13,27,32],Ls=h&&"CompositionEvent"in window,Xo=null;h&&"documentMode"in document&&(Xo=document.documentMode);var Mm=h&&"TextEvent"in window&&!Xo,Lu=h&&(!Ls||Xo&&8<Xo&&11>=Xo),Uu=" ",Fu=!1;function Vu(o,i){switch(o){case"keyup":return Rm.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $u(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Wn=!1;function Nm(o,i){switch(o){case"compositionend":return $u(i);case"keypress":return i.which!==32?null:(Fu=!0,Uu);case"textInput":return o=i.data,o===Uu&&Fu?null:o;default:return null}}function Dm(o,i){if(Wn)return o==="compositionend"||!Ls&&Vu(o,i)?(o=Pu(),Wr=Is=en=null,Wn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Lu&&i.locale!=="ko"?null:i.data;default:return null}}var Lm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!Lm[o.type]:i==="textarea"}function qu(o,i,u,f){su(f),i=ti(i,"onChange"),0<i.length&&(u=new Ps("onChange","change",null,u,f),o.push({event:u,listeners:i}))}var Zo=null,jo=null;function Um(o){rc(o,0)}function Xr(o){var i=Zn(o);if(Ka(i))return o}function Fm(o,i){if(o==="change")return i}var Gu=!1;if(h){var Us;if(h){var Fs="oninput"in document;if(!Fs){var Ou=document.createElement("div");Ou.setAttribute("oninput","return;"),Fs=typeof Ou.oninput=="function"}Us=Fs}else Us=!1;Gu=Us&&(!document.documentMode||9<document.documentMode)}function Hu(){Zo&&(Zo.detachEvent("onpropertychange",bu),jo=Zo=null)}function bu(o){if(o.propertyName==="value"&&Xr(jo)){var i=[];qu(i,jo,o,ms(o)),cu(Um,i)}}function Vm(o,i,u){o==="focusin"?(Hu(),Zo=i,jo=u,Zo.attachEvent("onpropertychange",bu)):o==="focusout"&&Hu()}function $m(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xr(jo)}function Bm(o,i){if(o==="click")return Xr(i)}function qm(o,i){if(o==="input"||o==="change")return Xr(i)}function Gm(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var Et=typeof Object.is=="function"?Object.is:Gm;function er(o,i){if(Et(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var u=Object.keys(o),f=Object.keys(i);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!m.call(i,g)||!Et(o[g],i[g]))return!1}return!0}function zu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ju(o,i){var u=zu(o);o=0;for(var f;u;){if(u.nodeType===3){if(f=o+u.textContent.length,o<=i&&f>=i)return{node:u,offset:i-o};o=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=zu(u)}}function Wu(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Wu(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Ku(){for(var o=window,i=Lr();i instanceof o.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)o=i.contentWindow;else break;i=Lr(o.document)}return i}function Vs(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Om(o){var i=Ku(),u=o.focusedElem,f=o.selectionRange;if(i!==u&&u&&u.ownerDocument&&Wu(u.ownerDocument.documentElement,u)){if(f!==null&&Vs(u)){if(i=f.start,o=f.end,o===void 0&&(o=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(o,u.value.length);else if(o=(i=u.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var g=u.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!o.extend&&v>f&&(g=f,f=v,v=g),g=Ju(u,v);var T=Ju(u,f);g&&T&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==T.node||o.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),o.removeAllRanges(),v>f?(o.addRange(i),o.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),o.addRange(i)))}}for(i=[],o=u;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)o=i[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Hm=h&&"documentMode"in document&&11>=document.documentMode,Kn=null,$s=null,tr=null,Bs=!1;function Yu(o,i,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bs||Kn==null||Kn!==Lr(f)||(f=Kn,"selectionStart"in f&&Vs(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),tr&&er(tr,f)||(tr=f,f=ti($s,"onSelect"),0<f.length&&(i=new Ps("onSelect","select",null,i,u),o.push({event:i,listeners:f}),i.target=Kn)))}function Zr(o,i){var u={};return u[o.toLowerCase()]=i.toLowerCase(),u["Webkit"+o]="webkit"+i,u["Moz"+o]="moz"+i,u}var Yn={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},qs={},Qu={};h&&(Qu=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function jr(o){if(qs[o])return qs[o];if(!Yn[o])return o;var i=Yn[o],u;for(u in i)if(i.hasOwnProperty(u)&&u in Qu)return qs[o]=i[u];return o}var Xu=jr("animationend"),Zu=jr("animationiteration"),ju=jr("animationstart"),ec=jr("transitionend"),tc=new Map,nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(o,i){tc.set(o,i),c(i,[o])}for(var Gs=0;Gs<nc.length;Gs++){var Os=nc[Gs],bm=Os.toLowerCase(),zm=Os[0].toUpperCase()+Os.slice(1);tn(bm,"on"+zm)}tn(Xu,"onAnimationEnd"),tn(Zu,"onAnimationIteration"),tn(ju,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(ec,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jm=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function oc(o,i,u){var f=o.type||"unknown-event";o.currentTarget=u,bp(f,i,void 0,o),o.currentTarget=null}function rc(o,i){i=(i&4)!==0;for(var u=0;u<o.length;u++){var f=o[u],g=f.event;f=f.listeners;e:{var v=void 0;if(i)for(var T=f.length-1;0<=T;T--){var w=f[T],E=w.instance,M=w.currentTarget;if(w=w.listener,E!==v&&g.isPropagationStopped())break e;oc(g,w,M),v=E}else for(T=0;T<f.length;T++){if(w=f[T],E=w.instance,M=w.currentTarget,w=w.listener,E!==v&&g.isPropagationStopped())break e;oc(g,w,M),v=E}}}if(Vr)throw o=_s,Vr=!1,_s=null,o}function Se(o,i){var u=i[Qs];u===void 0&&(u=i[Qs]=new Set);var f=o+"__bubble";u.has(f)||(ic(i,o,2,!1),u.add(f))}function Hs(o,i,u){var f=0;i&&(f|=4),ic(u,o,f,i)}var ei="_reactListening"+Math.random().toString(36).slice(2);function or(o){if(!o[ei]){o[ei]=!0,r.forEach(function(u){u!=="selectionchange"&&(Jm.has(u)||Hs(u,!1,o),Hs(u,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[ei]||(i[ei]=!0,Hs("selectionchange",!1,i))}}function ic(o,i,u,f){switch(Iu(i)){case 1:var g=sm;break;case 4:g=lm;break;default:g=xs}u=g.bind(null,i,u,o),g=void 0,!vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?o.addEventListener(i,u,{capture:!0,passive:g}):o.addEventListener(i,u,!0):g!==void 0?o.addEventListener(i,u,{passive:g}):o.addEventListener(i,u,!1)}function bs(o,i,u,f,g){var v=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var w=f.stateNode.containerInfo;if(w===g||w.nodeType===8&&w.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var E=T.tag;if((E===3||E===4)&&(E=T.stateNode.containerInfo,E===g||E.nodeType===8&&E.parentNode===g))return;T=T.return}for(;w!==null;){if(T=wn(w),T===null)return;if(E=T.tag,E===5||E===6){f=v=T;continue e}w=w.parentNode}}f=f.return}cu(function(){var M=v,V=ms(u),$=[];e:{var U=tc.get(o);if(U!==void 0){var z=Ps,Y=o;switch(o){case"keypress":if(Kr(u)===0)break e;case"keydown":case"keyup":z=wm;break;case"focusin":Y="focus",z=Ns;break;case"focusout":Y="blur",z=Ns;break;case"beforeblur":case"afterblur":z=Ns;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=km;break;case Xu:case Zu:case ju:z=hm;break;case ec:z=Am;break;case"scroll":z=am;break;case"wheel":z=Pm;break;case"copy":case"cut":case"paste":z=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Du}var Q=(i&4)!==0,Ue=!Q&&o==="scroll",I=Q?U!==null?U+"Capture":null:U;Q=[];for(var k=M,P;k!==null;){P=k;var G=P.stateNode;if(P.tag===5&&G!==null&&(P=G,I!==null&&(G=Bo(k,I),G!=null&&Q.push(rr(k,G,P)))),Ue)break;k=k.return}0<Q.length&&(U=new z(U,Y,null,u,V),$.push({event:U,listeners:Q}))}}if((i&7)===0){e:{if(U=o==="mouseover"||o==="pointerover",z=o==="mouseout"||o==="pointerout",U&&u!==ps&&(Y=u.relatedTarget||u.fromElement)&&(wn(Y)||Y[$t]))break e;if((z||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,z?(Y=u.relatedTarget||u.toElement,z=M,Y=Y?wn(Y):null,Y!==null&&(Ue=Tn(Y),Y!==Ue||Y.tag!==5&&Y.tag!==6)&&(Y=null)):(z=null,Y=M),z!==Y)){if(Q=Mu,G="onMouseLeave",I="onMouseEnter",k="mouse",(o==="pointerout"||o==="pointerover")&&(Q=Du,G="onPointerLeave",I="onPointerEnter",k="pointer"),Ue=z==null?U:Zn(z),P=Y==null?U:Zn(Y),U=new Q(G,k+"leave",z,u,V),U.target=Ue,U.relatedTarget=P,G=null,wn(V)===M&&(Q=new Q(I,k+"enter",Y,u,V),Q.target=P,Q.relatedTarget=Ue,G=Q),Ue=G,z&&Y)t:{for(Q=z,I=Y,k=0,P=Q;P;P=Qn(P))k++;for(P=0,G=I;G;G=Qn(G))P++;for(;0<k-P;)Q=Qn(Q),k--;for(;0<P-k;)I=Qn(I),P--;for(;k--;){if(Q===I||I!==null&&Q===I.alternate)break t;Q=Qn(Q),I=Qn(I)}Q=null}else Q=null;z!==null&&sc($,U,z,Q,!1),Y!==null&&Ue!==null&&sc($,Ue,Y,Q,!0)}}e:{if(U=M?Zn(M):window,z=U.nodeName&&U.nodeName.toLowerCase(),z==="select"||z==="input"&&U.type==="file")var X=Fm;else if(Bu(U))if(Gu)X=qm;else{X=$m;var ee=Vm}else(z=U.nodeName)&&z.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(X=Bm);if(X&&(X=X(o,M))){qu($,X,u,V);break e}ee&&ee(o,U,M),o==="focusout"&&(ee=U._wrapperState)&&ee.controlled&&U.type==="number"&&us(U,"number",U.value)}switch(ee=M?Zn(M):window,o){case"focusin":(Bu(ee)||ee.contentEditable==="true")&&(Kn=ee,$s=M,tr=null);break;case"focusout":tr=$s=Kn=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,Yu($,u,V);break;case"selectionchange":if(Hm)break;case"keydown":case"keyup":Yu($,u,V)}var te;if(Ls)e:{switch(o){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Wn?Vu(o,u)&&(re="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(re="onCompositionStart");re&&(Lu&&u.locale!=="ko"&&(Wn||re!=="onCompositionStart"?re==="onCompositionEnd"&&Wn&&(te=Pu()):(en=V,Is="value"in en?en.value:en.textContent,Wn=!0)),ee=ti(M,re),0<ee.length&&(re=new Nu(re,o,null,u,V),$.push({event:re,listeners:ee}),te?re.data=te:(te=$u(u),te!==null&&(re.data=te)))),(te=Mm?Nm(o,u):Dm(o,u))&&(M=ti(M,"onBeforeInput"),0<M.length&&(V=new Nu("onBeforeInput","beforeinput",null,u,V),$.push({event:V,listeners:M}),V.data=te))}rc($,i)})}function rr(o,i,u){return{instance:o,listener:i,currentTarget:u}}function ti(o,i){for(var u=i+"Capture",f=[];o!==null;){var g=o,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Bo(o,u),v!=null&&f.unshift(rr(o,v,g)),v=Bo(o,i),v!=null&&f.push(rr(o,v,g))),o=o.return}return f}function Qn(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function sc(o,i,u,f,g){for(var v=i._reactName,T=[];u!==null&&u!==f;){var w=u,E=w.alternate,M=w.stateNode;if(E!==null&&E===f)break;w.tag===5&&M!==null&&(w=M,g?(E=Bo(u,v),E!=null&&T.unshift(rr(u,E,w))):g||(E=Bo(u,v),E!=null&&T.push(rr(u,E,w)))),u=u.return}T.length!==0&&o.push({event:i,listeners:T})}var Wm=/\r\n?/g,Km=/\u0000|\uFFFD/g;function lc(o){return(typeof o=="string"?o:""+o).replace(Wm,`
`).replace(Km,"")}function ni(o,i,u){if(i=lc(i),lc(o)!==i&&u)throw Error(n(425))}function oi(){}var zs=null,Js=null;function Ws(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ks=typeof setTimeout=="function"?setTimeout:void 0,Ym=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,Qm=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(o){return ac.resolve(null).then(o).catch(Xm)}:Ks;function Xm(o){setTimeout(function(){throw o})}function Ys(o,i){var u=i,f=0;do{var g=u.nextSibling;if(o.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){o.removeChild(g),Ko(i);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);Ko(i)}function nn(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function uc(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return o;i--}else u==="/$"&&i++}o=o.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Xn,ir="__reactProps$"+Xn,$t="__reactContainer$"+Xn,Qs="__reactEvents$"+Xn,Zm="__reactListeners$"+Xn,jm="__reactHandles$"+Xn;function wn(o){var i=o[Dt];if(i)return i;for(var u=o.parentNode;u;){if(i=u[$t]||u[Dt]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(o=uc(o);o!==null;){if(u=o[Dt])return u;o=uc(o)}return i}o=u,u=o.parentNode}return null}function sr(o){return o=o[Dt]||o[$t],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Zn(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function ri(o){return o[ir]||null}var Xs=[],jn=-1;function on(o){return{current:o}}function Ee(o){0>jn||(o.current=Xs[jn],Xs[jn]=null,jn--)}function Te(o,i){jn++,Xs[jn]=o.current,o.current=i}var rn={},Ye=on(rn),rt=on(!1),Sn=rn;function eo(o,i){var u=o.type.contextTypes;if(!u)return rn;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in u)g[v]=i[v];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=g),g}function it(o){return o=o.childContextTypes,o!=null}function ii(){Ee(rt),Ee(Ye)}function cc(o,i,u){if(Ye.current!==rn)throw Error(n(168));Te(Ye,i),Te(rt,u)}function dc(o,i,u){var f=o.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(n(108,Ce(o)||"Unknown",g));return K({},u,f)}function si(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||rn,Sn=Ye.current,Te(Ye,o),Te(rt,rt.current),!0}function fc(o,i,u){var f=o.stateNode;if(!f)throw Error(n(169));u?(o=dc(o,i,Sn),f.__reactInternalMemoizedMergedChildContext=o,Ee(rt),Ee(Ye),Te(Ye,o)):Ee(rt),Te(rt,u)}var Bt=null,li=!1,Zs=!1;function hc(o){Bt===null?Bt=[o]:Bt.push(o)}function eg(o){li=!0,hc(o)}function sn(){if(!Zs&&Bt!==null){Zs=!0;var o=0,i=ve;try{var u=Bt;for(ve=1;o<u.length;o++){var f=u[o];do f=f(!0);while(f!==null)}Bt=null,li=!1}catch(g){throw Bt!==null&&(Bt=Bt.slice(o+1)),mu(Cs,sn),g}finally{ve=i,Zs=!1}}return null}var to=[],no=0,ai=null,ui=0,gt=[],yt=0,En=null,qt=1,Gt="";function kn(o,i){to[no++]=ui,to[no++]=ai,ai=o,ui=i}function pc(o,i,u){gt[yt++]=qt,gt[yt++]=Gt,gt[yt++]=En,En=o;var f=qt;o=Gt;var g=32-St(f)-1;f&=~(1<<g),u+=1;var v=32-St(i)+g;if(30<v){var T=g-g%5;v=(f&(1<<T)-1).toString(32),f>>=T,g-=T,qt=1<<32-St(i)+g|u<<g|f,Gt=v+o}else qt=1<<v|u<<g|f,Gt=o}function js(o){o.return!==null&&(kn(o,1),pc(o,1,0))}function el(o){for(;o===ai;)ai=to[--no],to[no]=null,ui=to[--no],to[no]=null;for(;o===En;)En=gt[--yt],gt[yt]=null,Gt=gt[--yt],gt[yt]=null,qt=gt[--yt],gt[yt]=null}var ht=null,pt=null,Ae=!1,kt=null;function mc(o,i){var u=Tt(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=o,i=o.deletions,i===null?(o.deletions=[u],o.flags|=16):i.push(u)}function gc(o,i){switch(o.tag){case 5:var u=o.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,ht=o,pt=nn(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,ht=o,pt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=En!==null?{id:qt,overflow:Gt}:null,o.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Tt(18,null,null,0),u.stateNode=i,u.return=o,o.child=u,ht=o,pt=null,!0):!1;default:return!1}}function tl(o){return(o.mode&1)!==0&&(o.flags&128)===0}function nl(o){if(Ae){var i=pt;if(i){var u=i;if(!gc(o,i)){if(tl(o))throw Error(n(418));i=nn(u.nextSibling);var f=ht;i&&gc(o,i)?mc(f,u):(o.flags=o.flags&-4097|2,Ae=!1,ht=o)}}else{if(tl(o))throw Error(n(418));o.flags=o.flags&-4097|2,Ae=!1,ht=o}}}function yc(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ht=o}function ci(o){if(o!==ht)return!1;if(!Ae)return yc(o),Ae=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!Ws(o.type,o.memoizedProps)),i&&(i=pt)){if(tl(o))throw vc(),Error(n(418));for(;i;)mc(o,i),i=nn(i.nextSibling)}if(yc(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(i===0){pt=nn(o.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}o=o.nextSibling}pt=null}}else pt=ht?nn(o.stateNode.nextSibling):null;return!0}function vc(){for(var o=pt;o;)o=nn(o.nextSibling)}function oo(){pt=ht=null,Ae=!1}function ol(o){kt===null?kt=[o]:kt.push(o)}var tg=B.ReactCurrentBatchConfig;function lr(o,i,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,o));var g=f,v=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(T){var w=g.refs;T===null?delete w[v]:w[v]=T},i._stringRef=v,i)}if(typeof o!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,o))}return o}function di(o,i){throw o=Object.prototype.toString.call(i),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function _c(o){var i=o._init;return i(o._payload)}function Cc(o){function i(I,k){if(o){var P=I.deletions;P===null?(I.deletions=[k],I.flags|=16):P.push(k)}}function u(I,k){if(!o)return null;for(;k!==null;)i(I,k),k=k.sibling;return null}function f(I,k){for(I=new Map;k!==null;)k.key!==null?I.set(k.key,k):I.set(k.index,k),k=k.sibling;return I}function g(I,k){return I=pn(I,k),I.index=0,I.sibling=null,I}function v(I,k,P){return I.index=P,o?(P=I.alternate,P!==null?(P=P.index,P<k?(I.flags|=2,k):P):(I.flags|=2,k)):(I.flags|=1048576,k)}function T(I){return o&&I.alternate===null&&(I.flags|=2),I}function w(I,k,P,G){return k===null||k.tag!==6?(k=Kl(P,I.mode,G),k.return=I,k):(k=g(k,P),k.return=I,k)}function E(I,k,P,G){var X=P.type;return X===Z?V(I,k,P.props.children,G,P.key):k!==null&&(k.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===qe&&_c(X)===k.type)?(G=g(k,P.props),G.ref=lr(I,k,P),G.return=I,G):(G=Ui(P.type,P.key,P.props,null,I.mode,G),G.ref=lr(I,k,P),G.return=I,G)}function M(I,k,P,G){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=Yl(P,I.mode,G),k.return=I,k):(k=g(k,P.children||[]),k.return=I,k)}function V(I,k,P,G,X){return k===null||k.tag!==7?(k=Dn(P,I.mode,G,X),k.return=I,k):(k=g(k,P),k.return=I,k)}function $(I,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Kl(""+k,I.mode,P),k.return=I,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return P=Ui(k.type,k.key,k.props,null,I.mode,P),P.ref=lr(I,null,k),P.return=I,P;case J:return k=Yl(k,I.mode,P),k.return=I,k;case qe:var G=k._init;return $(I,G(k._payload),P)}if(Fo(k)||oe(k))return k=Dn(k,I.mode,P,null),k.return=I,k;di(I,k)}return null}function U(I,k,P,G){var X=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return X!==null?null:w(I,k,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===X?E(I,k,P,G):null;case J:return P.key===X?M(I,k,P,G):null;case qe:return X=P._init,U(I,k,X(P._payload),G)}if(Fo(P)||oe(P))return X!==null?null:V(I,k,P,G,null);di(I,P)}return null}function z(I,k,P,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return I=I.get(P)||null,w(k,I,""+G,X);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case H:return I=I.get(G.key===null?P:G.key)||null,E(k,I,G,X);case J:return I=I.get(G.key===null?P:G.key)||null,M(k,I,G,X);case qe:var ee=G._init;return z(I,k,P,ee(G._payload),X)}if(Fo(G)||oe(G))return I=I.get(P)||null,V(k,I,G,X,null);di(k,G)}return null}function Y(I,k,P,G){for(var X=null,ee=null,te=k,re=k=0,He=null;te!==null&&re<P.length;re++){te.index>re?(He=te,te=null):He=te.sibling;var me=U(I,te,P[re],G);if(me===null){te===null&&(te=He);break}o&&te&&me.alternate===null&&i(I,te),k=v(me,k,re),ee===null?X=me:ee.sibling=me,ee=me,te=He}if(re===P.length)return u(I,te),Ae&&kn(I,re),X;if(te===null){for(;re<P.length;re++)te=$(I,P[re],G),te!==null&&(k=v(te,k,re),ee===null?X=te:ee.sibling=te,ee=te);return Ae&&kn(I,re),X}for(te=f(I,te);re<P.length;re++)He=z(te,I,re,P[re],G),He!==null&&(o&&He.alternate!==null&&te.delete(He.key===null?re:He.key),k=v(He,k,re),ee===null?X=He:ee.sibling=He,ee=He);return o&&te.forEach(function(mn){return i(I,mn)}),Ae&&kn(I,re),X}function Q(I,k,P,G){var X=oe(P);if(typeof X!="function")throw Error(n(150));if(P=X.call(P),P==null)throw Error(n(151));for(var ee=X=null,te=k,re=k=0,He=null,me=P.next();te!==null&&!me.done;re++,me=P.next()){te.index>re?(He=te,te=null):He=te.sibling;var mn=U(I,te,me.value,G);if(mn===null){te===null&&(te=He);break}o&&te&&mn.alternate===null&&i(I,te),k=v(mn,k,re),ee===null?X=mn:ee.sibling=mn,ee=mn,te=He}if(me.done)return u(I,te),Ae&&kn(I,re),X;if(te===null){for(;!me.done;re++,me=P.next())me=$(I,me.value,G),me!==null&&(k=v(me,k,re),ee===null?X=me:ee.sibling=me,ee=me);return Ae&&kn(I,re),X}for(te=f(I,te);!me.done;re++,me=P.next())me=z(te,I,re,me.value,G),me!==null&&(o&&me.alternate!==null&&te.delete(me.key===null?re:me.key),k=v(me,k,re),ee===null?X=me:ee.sibling=me,ee=me);return o&&te.forEach(function(Lg){return i(I,Lg)}),Ae&&kn(I,re),X}function Ue(I,k,P,G){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:e:{for(var X=P.key,ee=k;ee!==null;){if(ee.key===X){if(X=P.type,X===Z){if(ee.tag===7){u(I,ee.sibling),k=g(ee,P.props.children),k.return=I,I=k;break e}}else if(ee.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===qe&&_c(X)===ee.type){u(I,ee.sibling),k=g(ee,P.props),k.ref=lr(I,ee,P),k.return=I,I=k;break e}u(I,ee);break}else i(I,ee);ee=ee.sibling}P.type===Z?(k=Dn(P.props.children,I.mode,G,P.key),k.return=I,I=k):(G=Ui(P.type,P.key,P.props,null,I.mode,G),G.ref=lr(I,k,P),G.return=I,I=G)}return T(I);case J:e:{for(ee=P.key;k!==null;){if(k.key===ee)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){u(I,k.sibling),k=g(k,P.children||[]),k.return=I,I=k;break e}else{u(I,k);break}else i(I,k);k=k.sibling}k=Yl(P,I.mode,G),k.return=I,I=k}return T(I);case qe:return ee=P._init,Ue(I,k,ee(P._payload),G)}if(Fo(P))return Y(I,k,P,G);if(oe(P))return Q(I,k,P,G);di(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(u(I,k.sibling),k=g(k,P),k.return=I,I=k):(u(I,k),k=Kl(P,I.mode,G),k.return=I,I=k),T(I)):u(I,k)}return Ue}var ro=Cc(!0),Tc=Cc(!1),fi=on(null),hi=null,io=null,rl=null;function il(){rl=io=hi=null}function sl(o){var i=fi.current;Ee(fi),o._currentValue=i}function ll(o,i,u){for(;o!==null;){var f=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),o===u)break;o=o.return}}function so(o,i){hi=o,rl=io=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&i)!==0&&(st=!0),o.firstContext=null)}function vt(o){var i=o._currentValue;if(rl!==o)if(o={context:o,memoizedValue:i,next:null},io===null){if(hi===null)throw Error(n(308));io=o,hi.dependencies={lanes:0,firstContext:o}}else io=io.next=o;return i}var xn=null;function al(o){xn===null?xn=[o]:xn.push(o)}function wc(o,i,u,f){var g=i.interleaved;return g===null?(u.next=u,al(i)):(u.next=g.next,g.next=u),i.interleaved=u,Ot(o,f)}function Ot(o,i){o.lanes|=i;var u=o.alternate;for(u!==null&&(u.lanes|=i),u=o,o=o.return;o!==null;)o.childLanes|=i,u=o.alternate,u!==null&&(u.childLanes|=i),u=o,o=o.return;return u.tag===3?u.stateNode:null}var ln=!1;function ul(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sc(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ht(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function an(o,i,u){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(fe&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,Ot(o,u)}return g=f.interleaved,g===null?(i.next=i,al(f)):(i.next=g.next,g.next=i),f.interleaved=i,Ot(o,u)}function pi(o,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var f=i.lanes;f&=o.pendingLanes,u|=f,i.lanes=u,Ss(o,u)}}function Ec(o,i){var u=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?g=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?g=v=i:v=v.next=i}else g=v=i;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=i:o.next=i,u.lastBaseUpdate=i}function mi(o,i,u,f){var g=o.updateQueue;ln=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var E=w,M=E.next;E.next=null,T===null?v=M:T.next=M,T=E;var V=o.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==T&&(w===null?V.firstBaseUpdate=M:w.next=M,V.lastBaseUpdate=E))}if(v!==null){var $=g.baseState;T=0,V=M=E=null,w=v;do{var U=w.lane,z=w.eventTime;if((f&U)===U){V!==null&&(V=V.next={eventTime:z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Y=o,Q=w;switch(U=i,z=u,Q.tag){case 1:if(Y=Q.payload,typeof Y=="function"){$=Y.call(z,$,U);break e}$=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=Q.payload,U=typeof Y=="function"?Y.call(z,$,U):Y,U==null)break e;$=K({},$,U);break e;case 2:ln=!0}}w.callback!==null&&w.lane!==0&&(o.flags|=64,U=g.effects,U===null?g.effects=[w]:U.push(w))}else z={eventTime:z,lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(M=V=z,E=$):V=V.next=z,T|=U;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;U=w,w=U.next,U.next=null,g.lastBaseUpdate=U,g.shared.pending=null}}while(!0);if(V===null&&(E=$),g.baseState=E,g.firstBaseUpdate=M,g.lastBaseUpdate=V,i=g.shared.interleaved,i!==null){g=i;do T|=g.lane,g=g.next;while(g!==i)}else v===null&&(g.shared.lanes=0);Pn|=T,o.lanes=T,o.memoizedState=$}}function kc(o,i,u){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var f=o[i],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var ar={},Lt=on(ar),ur=on(ar),cr=on(ar);function An(o){if(o===ar)throw Error(n(174));return o}function cl(o,i){switch(Te(cr,i),Te(ur,o),Te(Lt,ar),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ds(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=ds(i,o)}Ee(Lt),Te(Lt,i)}function lo(){Ee(Lt),Ee(ur),Ee(cr)}function xc(o){An(cr.current);var i=An(Lt.current),u=ds(i,o.type);i!==u&&(Te(ur,o),Te(Lt,u))}function dl(o){ur.current===o&&(Ee(Lt),Ee(ur))}var Ie=on(0);function gi(o){for(var i=o;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fl=[];function hl(){for(var o=0;o<fl.length;o++)fl[o]._workInProgressVersionPrimary=null;fl.length=0}var yi=B.ReactCurrentDispatcher,pl=B.ReactCurrentBatchConfig,In=0,Pe=null,$e=null,Ge=null,vi=!1,dr=!1,fr=0,ng=0;function Qe(){throw Error(n(321))}function ml(o,i){if(i===null)return!1;for(var u=0;u<i.length&&u<o.length;u++)if(!Et(o[u],i[u]))return!1;return!0}function gl(o,i,u,f,g,v){if(In=v,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,yi.current=o===null||o.memoizedState===null?sg:lg,o=u(f,g),dr){v=0;do{if(dr=!1,fr=0,25<=v)throw Error(n(301));v+=1,Ge=$e=null,i.updateQueue=null,yi.current=ag,o=u(f,g)}while(dr)}if(yi.current=Ti,i=$e!==null&&$e.next!==null,In=0,Ge=$e=Pe=null,vi=!1,i)throw Error(n(300));return o}function yl(){var o=fr!==0;return fr=0,o}function Ut(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Pe.memoizedState=Ge=o:Ge=Ge.next=o,Ge}function _t(){if($e===null){var o=Pe.alternate;o=o!==null?o.memoizedState:null}else o=$e.next;var i=Ge===null?Pe.memoizedState:Ge.next;if(i!==null)Ge=i,$e=o;else{if(o===null)throw Error(n(310));$e=o,o={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ge===null?Pe.memoizedState=Ge=o:Ge=Ge.next=o}return Ge}function hr(o,i){return typeof i=="function"?i(o):i}function vl(o){var i=_t(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var f=$e,g=f.baseQueue,v=u.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}f.baseQueue=g=v,u.pending=null}if(g!==null){v=g.next,f=f.baseState;var w=T=null,E=null,M=v;do{var V=M.lane;if((In&V)===V)E!==null&&(E=E.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),f=M.hasEagerState?M.eagerState:o(f,M.action);else{var $={lane:V,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};E===null?(w=E=$,T=f):E=E.next=$,Pe.lanes|=V,Pn|=V}M=M.next}while(M!==null&&M!==v);E===null?T=f:E.next=w,Et(f,i.memoizedState)||(st=!0),i.memoizedState=f,i.baseState=T,i.baseQueue=E,u.lastRenderedState=f}if(o=u.interleaved,o!==null){g=o;do v=g.lane,Pe.lanes|=v,Pn|=v,g=g.next;while(g!==o)}else g===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function _l(o){var i=_t(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var f=u.dispatch,g=u.pending,v=i.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do v=o(v,T.action),T=T.next;while(T!==g);Et(v,i.memoizedState)||(st=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),u.lastRenderedState=v}return[v,f]}function Ac(){}function Ic(o,i){var u=Pe,f=_t(),g=i(),v=!Et(f.memoizedState,g);if(v&&(f.memoizedState=g,st=!0),f=f.queue,Cl(Mc.bind(null,u,f,o),[o]),f.getSnapshot!==i||v||Ge!==null&&Ge.memoizedState.tag&1){if(u.flags|=2048,pr(9,Rc.bind(null,u,f,g,i),void 0,null),Oe===null)throw Error(n(349));(In&30)!==0||Pc(u,i,g)}return g}function Pc(o,i,u){o.flags|=16384,o={getSnapshot:i,value:u},i=Pe.updateQueue,i===null?(i={lastEffect:null,stores:null},Pe.updateQueue=i,i.stores=[o]):(u=i.stores,u===null?i.stores=[o]:u.push(o))}function Rc(o,i,u,f){i.value=u,i.getSnapshot=f,Nc(i)&&Dc(o)}function Mc(o,i,u){return u(function(){Nc(i)&&Dc(o)})}function Nc(o){var i=o.getSnapshot;o=o.value;try{var u=i();return!Et(o,u)}catch{return!0}}function Dc(o){var i=Ot(o,1);i!==null&&Pt(i,o,1,-1)}function Lc(o){var i=Ut();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:o},i.queue=o,o=o.dispatch=ig.bind(null,Pe,o),[i.memoizedState,o]}function pr(o,i,u,f){return o={tag:o,create:i,destroy:u,deps:f,next:null},i=Pe.updateQueue,i===null?(i={lastEffect:null,stores:null},Pe.updateQueue=i,i.lastEffect=o.next=o):(u=i.lastEffect,u===null?i.lastEffect=o.next=o:(f=u.next,u.next=o,o.next=f,i.lastEffect=o)),o}function Uc(){return _t().memoizedState}function _i(o,i,u,f){var g=Ut();Pe.flags|=o,g.memoizedState=pr(1|i,u,void 0,f===void 0?null:f)}function Ci(o,i,u,f){var g=_t();f=f===void 0?null:f;var v=void 0;if($e!==null){var T=$e.memoizedState;if(v=T.destroy,f!==null&&ml(f,T.deps)){g.memoizedState=pr(i,u,v,f);return}}Pe.flags|=o,g.memoizedState=pr(1|i,u,v,f)}function Fc(o,i){return _i(8390656,8,o,i)}function Cl(o,i){return Ci(2048,8,o,i)}function Vc(o,i){return Ci(4,2,o,i)}function $c(o,i){return Ci(4,4,o,i)}function Bc(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function qc(o,i,u){return u=u!=null?u.concat([o]):null,Ci(4,4,Bc.bind(null,i,o),u)}function Tl(){}function Gc(o,i){var u=_t();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&ml(i,f[1])?f[0]:(u.memoizedState=[o,i],o)}function Oc(o,i){var u=_t();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&ml(i,f[1])?f[0]:(o=o(),u.memoizedState=[o,i],o)}function Hc(o,i,u){return(In&21)===0?(o.baseState&&(o.baseState=!1,st=!0),o.memoizedState=u):(Et(u,i)||(u=_u(),Pe.lanes|=u,Pn|=u,o.baseState=!0),i)}function og(o,i){var u=ve;ve=u!==0&&4>u?u:4,o(!0);var f=pl.transition;pl.transition={};try{o(!1),i()}finally{ve=u,pl.transition=f}}function bc(){return _t().memoizedState}function rg(o,i,u){var f=fn(o);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},zc(o))Jc(i,u);else if(u=wc(o,i,u,f),u!==null){var g=nt();Pt(u,o,f,g),Wc(u,i,f)}}function ig(o,i,u){var f=fn(o),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(zc(o))Jc(i,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,w=v(T,u);if(g.hasEagerState=!0,g.eagerState=w,Et(w,T)){var E=i.interleaved;E===null?(g.next=g,al(i)):(g.next=E.next,E.next=g),i.interleaved=g;return}}catch{}finally{}u=wc(o,i,g,f),u!==null&&(g=nt(),Pt(u,o,f,g),Wc(u,i,f))}}function zc(o){var i=o.alternate;return o===Pe||i!==null&&i===Pe}function Jc(o,i){dr=vi=!0;var u=o.pending;u===null?i.next=i:(i.next=u.next,u.next=i),o.pending=i}function Wc(o,i,u){if((u&4194240)!==0){var f=i.lanes;f&=o.pendingLanes,u|=f,i.lanes=u,Ss(o,u)}}var Ti={readContext:vt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},sg={readContext:vt,useCallback:function(o,i){return Ut().memoizedState=[o,i===void 0?null:i],o},useContext:vt,useEffect:Fc,useImperativeHandle:function(o,i,u){return u=u!=null?u.concat([o]):null,_i(4194308,4,Bc.bind(null,i,o),u)},useLayoutEffect:function(o,i){return _i(4194308,4,o,i)},useInsertionEffect:function(o,i){return _i(4,2,o,i)},useMemo:function(o,i){var u=Ut();return i=i===void 0?null:i,o=o(),u.memoizedState=[o,i],o},useReducer:function(o,i,u){var f=Ut();return i=u!==void 0?u(i):i,f.memoizedState=f.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},f.queue=o,o=o.dispatch=rg.bind(null,Pe,o),[f.memoizedState,o]},useRef:function(o){var i=Ut();return o={current:o},i.memoizedState=o},useState:Lc,useDebugValue:Tl,useDeferredValue:function(o){return Ut().memoizedState=o},useTransition:function(){var o=Lc(!1),i=o[0];return o=og.bind(null,o[1]),Ut().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,u){var f=Pe,g=Ut();if(Ae){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Oe===null)throw Error(n(349));(In&30)!==0||Pc(f,i,u)}g.memoizedState=u;var v={value:u,getSnapshot:i};return g.queue=v,Fc(Mc.bind(null,f,v,o),[o]),f.flags|=2048,pr(9,Rc.bind(null,f,v,u,i),void 0,null),u},useId:function(){var o=Ut(),i=Oe.identifierPrefix;if(Ae){var u=Gt,f=qt;u=(f&~(1<<32-St(f)-1)).toString(32)+u,i=":"+i+"R"+u,u=fr++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=ng++,i=":"+i+"r"+u.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},lg={readContext:vt,useCallback:Gc,useContext:vt,useEffect:Cl,useImperativeHandle:qc,useInsertionEffect:Vc,useLayoutEffect:$c,useMemo:Oc,useReducer:vl,useRef:Uc,useState:function(){return vl(hr)},useDebugValue:Tl,useDeferredValue:function(o){var i=_t();return Hc(i,$e.memoizedState,o)},useTransition:function(){var o=vl(hr)[0],i=_t().memoizedState;return[o,i]},useMutableSource:Ac,useSyncExternalStore:Ic,useId:bc,unstable_isNewReconciler:!1},ag={readContext:vt,useCallback:Gc,useContext:vt,useEffect:Cl,useImperativeHandle:qc,useInsertionEffect:Vc,useLayoutEffect:$c,useMemo:Oc,useReducer:_l,useRef:Uc,useState:function(){return _l(hr)},useDebugValue:Tl,useDeferredValue:function(o){var i=_t();return $e===null?i.memoizedState=o:Hc(i,$e.memoizedState,o)},useTransition:function(){var o=_l(hr)[0],i=_t().memoizedState;return[o,i]},useMutableSource:Ac,useSyncExternalStore:Ic,useId:bc,unstable_isNewReconciler:!1};function xt(o,i){if(o&&o.defaultProps){i=K({},i),o=o.defaultProps;for(var u in o)i[u]===void 0&&(i[u]=o[u]);return i}return i}function wl(o,i,u,f){i=o.memoizedState,u=u(f,i),u=u==null?i:K({},i,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var wi={isMounted:function(o){return(o=o._reactInternals)?Tn(o)===o:!1},enqueueSetState:function(o,i,u){o=o._reactInternals;var f=nt(),g=fn(o),v=Ht(f,g);v.payload=i,u!=null&&(v.callback=u),i=an(o,v,g),i!==null&&(Pt(i,o,g,f),pi(i,o,g))},enqueueReplaceState:function(o,i,u){o=o._reactInternals;var f=nt(),g=fn(o),v=Ht(f,g);v.tag=1,v.payload=i,u!=null&&(v.callback=u),i=an(o,v,g),i!==null&&(Pt(i,o,g,f),pi(i,o,g))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var u=nt(),f=fn(o),g=Ht(u,f);g.tag=2,i!=null&&(g.callback=i),i=an(o,g,f),i!==null&&(Pt(i,o,f,u),pi(i,o,f))}};function Kc(o,i,u,f,g,v,T){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,T):i.prototype&&i.prototype.isPureReactComponent?!er(u,f)||!er(g,v):!0}function Yc(o,i,u){var f=!1,g=rn,v=i.contextType;return typeof v=="object"&&v!==null?v=vt(v):(g=it(i)?Sn:Ye.current,f=i.contextTypes,v=(f=f!=null)?eo(o,g):rn),i=new i(u,v),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wi,o.stateNode=i,i._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=v),i}function Qc(o,i,u,f){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,f),i.state!==o&&wi.enqueueReplaceState(i,i.state,null)}function Sl(o,i,u,f){var g=o.stateNode;g.props=u,g.state=o.memoizedState,g.refs={},ul(o);var v=i.contextType;typeof v=="object"&&v!==null?g.context=vt(v):(v=it(i)?Sn:Ye.current,g.context=eo(o,v)),g.state=o.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(wl(o,i,v,u),g.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&wi.enqueueReplaceState(g,g.state,null),mi(o,u,g,f),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function ao(o,i){try{var u="",f=i;do u+=he(f),f=f.return;while(f);var g=u}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:i,stack:g,digest:null}}function El(o,i,u){return{value:o,source:null,stack:u??null,digest:i??null}}function kl(o,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function Xc(o,i,u){u=Ht(-1,u),u.tag=3,u.payload={element:null};var f=i.value;return u.callback=function(){Pi||(Pi=!0,ql=f),kl(o,i)},u}function Zc(o,i,u){u=Ht(-1,u),u.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;u.payload=function(){return f(g)},u.callback=function(){kl(o,i)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){kl(o,i),typeof f!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),u}function jc(o,i,u){var f=o.pingCache;if(f===null){f=o.pingCache=new ug;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(u)||(g.add(u),o=Sg.bind(null,o,i,u),i.then(o,o))}function ed(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function td(o,i,u,f,g){return(o.mode&1)===0?(o===i?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Ht(-1,1),i.tag=2,an(u,i,1))),u.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var cg=B.ReactCurrentOwner,st=!1;function tt(o,i,u,f){i.child=o===null?Tc(i,null,u,f):ro(i,o.child,u,f)}function nd(o,i,u,f,g){u=u.render;var v=i.ref;return so(i,g),f=gl(o,i,u,f,v,g),u=yl(),o!==null&&!st?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~g,bt(o,i,g)):(Ae&&u&&js(i),i.flags|=1,tt(o,i,f,g),i.child)}function od(o,i,u,f,g){if(o===null){var v=u.type;return typeof v=="function"&&!Wl(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=v,rd(o,i,v,f,g)):(o=Ui(u.type,null,f,i,i.mode,g),o.ref=i.ref,o.return=i,i.child=o)}if(v=o.child,(o.lanes&g)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:er,u(T,f)&&o.ref===i.ref)return bt(o,i,g)}return i.flags|=1,o=pn(v,f),o.ref=i.ref,o.return=i,i.child=o}function rd(o,i,u,f,g){if(o!==null){var v=o.memoizedProps;if(er(v,f)&&o.ref===i.ref)if(st=!1,i.pendingProps=f=v,(o.lanes&g)!==0)(o.flags&131072)!==0&&(st=!0);else return i.lanes=o.lanes,bt(o,i,g)}return xl(o,i,u,f,g)}function id(o,i,u){var f=i.pendingProps,g=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(co,mt),mt|=u;else{if((u&1073741824)===0)return o=v!==null?v.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,Te(co,mt),mt|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Te(co,mt),mt|=f}else v!==null?(f=v.baseLanes|u,i.memoizedState=null):f=u,Te(co,mt),mt|=f;return tt(o,i,g,u),i.child}function sd(o,i){var u=i.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function xl(o,i,u,f,g){var v=it(u)?Sn:Ye.current;return v=eo(i,v),so(i,g),u=gl(o,i,u,f,v,g),f=yl(),o!==null&&!st?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~g,bt(o,i,g)):(Ae&&f&&js(i),i.flags|=1,tt(o,i,u,g),i.child)}function ld(o,i,u,f,g){if(it(u)){var v=!0;si(i)}else v=!1;if(so(i,g),i.stateNode===null)Ei(o,i),Yc(i,u,f),Sl(i,u,f,g),f=!0;else if(o===null){var T=i.stateNode,w=i.memoizedProps;T.props=w;var E=T.context,M=u.contextType;typeof M=="object"&&M!==null?M=vt(M):(M=it(u)?Sn:Ye.current,M=eo(i,M));var V=u.getDerivedStateFromProps,$=typeof V=="function"||typeof T.getSnapshotBeforeUpdate=="function";$||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(w!==f||E!==M)&&Qc(i,T,f,M),ln=!1;var U=i.memoizedState;T.state=U,mi(i,f,T,g),E=i.memoizedState,w!==f||U!==E||rt.current||ln?(typeof V=="function"&&(wl(i,u,V,f),E=i.memoizedState),(w=ln||Kc(i,u,w,f,U,E,M))?($||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=E),T.props=f,T.state=E,T.context=M,f=w):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{T=i.stateNode,Sc(o,i),w=i.memoizedProps,M=i.type===i.elementType?w:xt(i.type,w),T.props=M,$=i.pendingProps,U=T.context,E=u.contextType,typeof E=="object"&&E!==null?E=vt(E):(E=it(u)?Sn:Ye.current,E=eo(i,E));var z=u.getDerivedStateFromProps;(V=typeof z=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(w!==$||U!==E)&&Qc(i,T,f,E),ln=!1,U=i.memoizedState,T.state=U,mi(i,f,T,g);var Y=i.memoizedState;w!==$||U!==Y||rt.current||ln?(typeof z=="function"&&(wl(i,u,z,f),Y=i.memoizedState),(M=ln||Kc(i,u,M,f,U,Y,E)||!1)?(V||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,Y,E),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,Y,E)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||w===o.memoizedProps&&U===o.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&U===o.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Y),T.props=f,T.state=Y,T.context=E,f=M):(typeof T.componentDidUpdate!="function"||w===o.memoizedProps&&U===o.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&U===o.memoizedState||(i.flags|=1024),f=!1)}return Al(o,i,u,f,v,g)}function Al(o,i,u,f,g,v){sd(o,i);var T=(i.flags&128)!==0;if(!f&&!T)return g&&fc(i,u,!1),bt(o,i,v);f=i.stateNode,cg.current=i;var w=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,o!==null&&T?(i.child=ro(i,o.child,null,v),i.child=ro(i,null,w,v)):tt(o,i,w,v),i.memoizedState=f.state,g&&fc(i,u,!0),i.child}function ad(o){var i=o.stateNode;i.pendingContext?cc(o,i.pendingContext,i.pendingContext!==i.context):i.context&&cc(o,i.context,!1),cl(o,i.containerInfo)}function ud(o,i,u,f,g){return oo(),ol(g),i.flags|=256,tt(o,i,u,f),i.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Pl(o){return{baseLanes:o,cachePool:null,transitions:null}}function cd(o,i,u){var f=i.pendingProps,g=Ie.current,v=!1,T=(i.flags&128)!==0,w;if((w=T)||(w=o!==null&&o.memoizedState===null?!1:(g&2)!==0),w?(v=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),Te(Ie,g&1),o===null)return nl(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((i.mode&1)===0?i.lanes=1:o.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=f.children,o=f.fallback,v?(f=i.mode,v=i.child,T={mode:"hidden",children:T},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Fi(T,f,0,null),o=Dn(o,f,u,null),v.return=i,o.return=i,v.sibling=o,i.child=v,i.child.memoizedState=Pl(u),i.memoizedState=Il,o):Rl(i,T));if(g=o.memoizedState,g!==null&&(w=g.dehydrated,w!==null))return dg(o,i,T,f,w,g,u);if(v){v=f.fallback,T=i.mode,g=o.child,w=g.sibling;var E={mode:"hidden",children:f.children};return(T&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=E,i.deletions=null):(f=pn(g,E),f.subtreeFlags=g.subtreeFlags&14680064),w!==null?v=pn(w,v):(v=Dn(v,T,u,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,f=v,v=i.child,T=o.child.memoizedState,T=T===null?Pl(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=o.childLanes&~u,i.memoizedState=Il,f}return v=o.child,o=v.sibling,f=pn(v,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=u),f.return=i,f.sibling=null,o!==null&&(u=i.deletions,u===null?(i.deletions=[o],i.flags|=16):u.push(o)),i.child=f,i.memoizedState=null,f}function Rl(o,i){return i=Fi({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function Si(o,i,u,f){return f!==null&&ol(f),ro(i,o.child,null,u),o=Rl(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function dg(o,i,u,f,g,v,T){if(u)return i.flags&256?(i.flags&=-257,f=El(Error(n(422))),Si(o,i,T,f)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(v=f.fallback,g=i.mode,f=Fi({mode:"visible",children:f.children},g,0,null),v=Dn(v,g,T,null),v.flags|=2,f.return=i,v.return=i,f.sibling=v,i.child=f,(i.mode&1)!==0&&ro(i,o.child,null,T),i.child.memoizedState=Pl(T),i.memoizedState=Il,v);if((i.mode&1)===0)return Si(o,i,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var w=f.dgst;return f=w,v=Error(n(419)),f=El(v,f,void 0),Si(o,i,T,f)}if(w=(T&o.childLanes)!==0,st||w){if(f=Oe,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Ot(o,g),Pt(f,o,g,-1))}return Jl(),f=El(Error(n(421))),Si(o,i,T,f)}return g.data==="$?"?(i.flags|=128,i.child=o.child,i=Eg.bind(null,o),g._reactRetry=i,null):(o=v.treeContext,pt=nn(g.nextSibling),ht=i,Ae=!0,kt=null,o!==null&&(gt[yt++]=qt,gt[yt++]=Gt,gt[yt++]=En,qt=o.id,Gt=o.overflow,En=i),i=Rl(i,f.children),i.flags|=4096,i)}function dd(o,i,u){o.lanes|=i;var f=o.alternate;f!==null&&(f.lanes|=i),ll(o.return,i,u)}function Ml(o,i,u,f,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=g)}function fd(o,i,u){var f=i.pendingProps,g=f.revealOrder,v=f.tail;if(tt(o,i,f.children,u),f=Ie.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&dd(o,u,i);else if(o.tag===19)dd(o,u,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Te(Ie,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(u=i.child,g=null;u!==null;)o=u.alternate,o!==null&&gi(o)===null&&(g=u),u=u.sibling;u=g,u===null?(g=i.child,i.child=null):(g=u.sibling,u.sibling=null),Ml(i,!1,g,u,v);break;case"backwards":for(u=null,g=i.child,i.child=null;g!==null;){if(o=g.alternate,o!==null&&gi(o)===null){i.child=g;break}o=g.sibling,g.sibling=u,u=g,g=o}Ml(i,!0,u,null,v);break;case"together":Ml(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ei(o,i){(i.mode&1)===0&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function bt(o,i,u){if(o!==null&&(i.dependencies=o.dependencies),Pn|=i.lanes,(u&i.childLanes)===0)return null;if(o!==null&&i.child!==o.child)throw Error(n(153));if(i.child!==null){for(o=i.child,u=pn(o,o.pendingProps),i.child=u,u.return=i;o.sibling!==null;)o=o.sibling,u=u.sibling=pn(o,o.pendingProps),u.return=i;u.sibling=null}return i.child}function fg(o,i,u){switch(i.tag){case 3:ad(i),oo();break;case 5:xc(i);break;case 1:it(i.type)&&si(i);break;case 4:cl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;Te(fi,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Te(Ie,Ie.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?cd(o,i,u):(Te(Ie,Ie.current&1),o=bt(o,i,u),o!==null?o.sibling:null);Te(Ie,Ie.current&1);break;case 19:if(f=(u&i.childLanes)!==0,(o.flags&128)!==0){if(f)return fd(o,i,u);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Te(Ie,Ie.current),f)break;return null;case 22:case 23:return i.lanes=0,id(o,i,u)}return bt(o,i,u)}var hd,Nl,pd,md;hd=function(o,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Nl=function(){},pd=function(o,i,u,f){var g=o.memoizedProps;if(g!==f){o=i.stateNode,An(Lt.current);var v=null;switch(u){case"input":g=ls(o,g),f=ls(o,f),v=[];break;case"select":g=K({},g,{value:void 0}),f=K({},f,{value:void 0}),v=[];break;case"textarea":g=cs(o,g),f=cs(o,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=oi)}fs(u,f);var T;u=null;for(M in g)if(!f.hasOwnProperty(M)&&g.hasOwnProperty(M)&&g[M]!=null)if(M==="style"){var w=g[M];for(T in w)w.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(s.hasOwnProperty(M)?v||(v=[]):(v=v||[]).push(M,null));for(M in f){var E=f[M];if(w=g!=null?g[M]:void 0,f.hasOwnProperty(M)&&E!==w&&(E!=null||w!=null))if(M==="style")if(w){for(T in w)!w.hasOwnProperty(T)||E&&E.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in E)E.hasOwnProperty(T)&&w[T]!==E[T]&&(u||(u={}),u[T]=E[T])}else u||(v||(v=[]),v.push(M,u)),u=E;else M==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,w=w?w.__html:void 0,E!=null&&w!==E&&(v=v||[]).push(M,E)):M==="children"?typeof E!="string"&&typeof E!="number"||(v=v||[]).push(M,""+E):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(s.hasOwnProperty(M)?(E!=null&&M==="onScroll"&&Se("scroll",o),v||w===E||(v=[])):(v=v||[]).push(M,E))}u&&(v=v||[]).push("style",u);var M=v;(i.updateQueue=M)&&(i.flags|=4)}},md=function(o,i,u,f){u!==f&&(i.flags|=4)};function mr(o,i){if(!Ae)switch(o.tailMode){case"hidden":i=o.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function Xe(o){var i=o.alternate!==null&&o.alternate.child===o.child,u=0,f=0;if(i)for(var g=o.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=f,o.childLanes=u,i}function hg(o,i,u){var f=i.pendingProps;switch(el(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(i),null;case 1:return it(i.type)&&ii(),Xe(i),null;case 3:return f=i.stateNode,lo(),Ee(rt),Ee(Ye),hl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(ci(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kt!==null&&(Hl(kt),kt=null))),Nl(o,i),Xe(i),null;case 5:dl(i);var g=An(cr.current);if(u=i.type,o!==null&&i.stateNode!=null)pd(o,i,u,f,g),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return Xe(i),null}if(o=An(Lt.current),ci(i)){f=i.stateNode,u=i.type;var v=i.memoizedProps;switch(f[Dt]=i,f[ir]=v,o=(i.mode&1)!==0,u){case"dialog":Se("cancel",f),Se("close",f);break;case"iframe":case"object":case"embed":Se("load",f);break;case"video":case"audio":for(g=0;g<nr.length;g++)Se(nr[g],f);break;case"source":Se("error",f);break;case"img":case"image":case"link":Se("error",f),Se("load",f);break;case"details":Se("toggle",f);break;case"input":Ya(f,v),Se("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Se("invalid",f);break;case"textarea":Za(f,v),Se("invalid",f)}fs(u,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var w=v[T];T==="children"?typeof w=="string"?f.textContent!==w&&(v.suppressHydrationWarning!==!0&&ni(f.textContent,w,o),g=["children",w]):typeof w=="number"&&f.textContent!==""+w&&(v.suppressHydrationWarning!==!0&&ni(f.textContent,w,o),g=["children",""+w]):s.hasOwnProperty(T)&&w!=null&&T==="onScroll"&&Se("scroll",f)}switch(u){case"input":Dr(f),Xa(f,v,!0);break;case"textarea":Dr(f),eu(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=oi)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=tu(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=T.createElement(u,{is:f.is}):(o=T.createElement(u),u==="select"&&(T=o,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):o=T.createElementNS(o,u),o[Dt]=i,o[ir]=f,hd(o,i,!1,!1),i.stateNode=o;e:{switch(T=hs(u,f),u){case"dialog":Se("cancel",o),Se("close",o),g=f;break;case"iframe":case"object":case"embed":Se("load",o),g=f;break;case"video":case"audio":for(g=0;g<nr.length;g++)Se(nr[g],o);g=f;break;case"source":Se("error",o),g=f;break;case"img":case"image":case"link":Se("error",o),Se("load",o),g=f;break;case"details":Se("toggle",o),g=f;break;case"input":Ya(o,f),g=ls(o,f),Se("invalid",o);break;case"option":g=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},g=K({},f,{value:void 0}),Se("invalid",o);break;case"textarea":Za(o,f),g=cs(o,f),Se("invalid",o);break;default:g=f}fs(u,g),w=g;for(v in w)if(w.hasOwnProperty(v)){var E=w[v];v==="style"?ru(o,E):v==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&nu(o,E)):v==="children"?typeof E=="string"?(u!=="textarea"||E!=="")&&Vo(o,E):typeof E=="number"&&Vo(o,""+E):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?E!=null&&v==="onScroll"&&Se("scroll",o):E!=null&&D(o,v,E,T))}switch(u){case"input":Dr(o),Xa(o,f,!1);break;case"textarea":Dr(o),eu(o);break;case"option":f.value!=null&&o.setAttribute("value",""+ye(f.value));break;case"select":o.multiple=!!f.multiple,v=f.value,v!=null?On(o,!!f.multiple,v,!1):f.defaultValue!=null&&On(o,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=oi)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Xe(i),null;case 6:if(o&&i.stateNode!=null)md(o,i,o.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(u=An(cr.current),An(Lt.current),ci(i)){if(f=i.stateNode,u=i.memoizedProps,f[Dt]=i,(v=f.nodeValue!==u)&&(o=ht,o!==null))switch(o.tag){case 3:ni(f.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ni(f.nodeValue,u,(o.mode&1)!==0)}v&&(i.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Dt]=i,i.stateNode=f}return Xe(i),null;case 13:if(Ee(Ie),f=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ae&&pt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)vc(),oo(),i.flags|=98560,v=!1;else if(v=ci(i),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Dt]=i}else oo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Xe(i),v=!1}else kt!==null&&(Hl(kt),kt=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(o===null||(Ie.current&1)!==0?Be===0&&(Be=3):Jl())),i.updateQueue!==null&&(i.flags|=4),Xe(i),null);case 4:return lo(),Nl(o,i),o===null&&or(i.stateNode.containerInfo),Xe(i),null;case 10:return sl(i.type._context),Xe(i),null;case 17:return it(i.type)&&ii(),Xe(i),null;case 19:if(Ee(Ie),v=i.memoizedState,v===null)return Xe(i),null;if(f=(i.flags&128)!==0,T=v.rendering,T===null)if(f)mr(v,!1);else{if(Be!==0||o!==null&&(o.flags&128)!==0)for(o=i.child;o!==null;){if(T=gi(o),T!==null){for(i.flags|=128,mr(v,!1),f=T.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=u,u=i.child;u!==null;)v=u,o=f,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,o=T.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return Te(Ie,Ie.current&1|2),i.child}o=o.sibling}v.tail!==null&&Le()>fo&&(i.flags|=128,f=!0,mr(v,!1),i.lanes=4194304)}else{if(!f)if(o=gi(T),o!==null){if(i.flags|=128,f=!0,u=o.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),mr(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Ae)return Xe(i),null}else 2*Le()-v.renderingStartTime>fo&&u!==1073741824&&(i.flags|=128,f=!0,mr(v,!1),i.lanes=4194304);v.isBackwards?(T.sibling=i.child,i.child=T):(u=v.last,u!==null?u.sibling=T:i.child=T,v.last=T)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Le(),i.sibling=null,u=Ie.current,Te(Ie,f?u&1|2:u&1),i):(Xe(i),null);case 22:case 23:return zl(),f=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(mt&1073741824)!==0&&(Xe(i),i.subtreeFlags&6&&(i.flags|=8192)):Xe(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function pg(o,i){switch(el(i),i.tag){case 1:return it(i.type)&&ii(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return lo(),Ee(rt),Ee(Ye),hl(),o=i.flags,(o&65536)!==0&&(o&128)===0?(i.flags=o&-65537|128,i):null;case 5:return dl(i),null;case 13:if(Ee(Ie),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(n(340));oo()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return Ee(Ie),null;case 4:return lo(),null;case 10:return sl(i.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var ki=!1,Ze=!1,mg=typeof WeakSet=="function"?WeakSet:Set,W=null;function uo(o,i){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Me(o,i,f)}else u.current=null}function Dl(o,i,u){try{u()}catch(f){Me(o,i,f)}}var gd=!1;function gg(o,i){if(zs=zr,o=Ku(),Vs(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,w=-1,E=-1,M=0,V=0,$=o,U=null;t:for(;;){for(var z;$!==u||g!==0&&$.nodeType!==3||(w=T+g),$!==v||f!==0&&$.nodeType!==3||(E=T+f),$.nodeType===3&&(T+=$.nodeValue.length),(z=$.firstChild)!==null;)U=$,$=z;for(;;){if($===o)break t;if(U===u&&++M===g&&(w=T),U===v&&++V===f&&(E=T),(z=$.nextSibling)!==null)break;$=U,U=$.parentNode}$=z}u=w===-1||E===-1?null:{start:w,end:E}}else u=null}u=u||{start:0,end:0}}else u=null;for(Js={focusedElem:o,selectionRange:u},zr=!1,W=i;W!==null;)if(i=W,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,W=o;else for(;W!==null;){i=W;try{var Y=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Y!==null){var Q=Y.memoizedProps,Ue=Y.memoizedState,I=i.stateNode,k=I.getSnapshotBeforeUpdate(i.elementType===i.type?Q:xt(i.type,Q),Ue);I.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=i.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){Me(i,i.return,G)}if(o=i.sibling,o!==null){o.return=i.return,W=o;break}W=i.return}return Y=gd,gd=!1,Y}function gr(o,i,u){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&o)===o){var v=g.destroy;g.destroy=void 0,v!==void 0&&Dl(i,u,v)}g=g.next}while(g!==f)}}function xi(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&o)===o){var f=u.create;u.destroy=f()}u=u.next}while(u!==i)}}function Ll(o){var i=o.ref;if(i!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof i=="function"?i(o):i.current=o}}function yd(o){var i=o.alternate;i!==null&&(o.alternate=null,yd(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Dt],delete i[ir],delete i[Qs],delete i[Zm],delete i[jm])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function vd(o){return o.tag===5||o.tag===3||o.tag===4}function _d(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||vd(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ul(o,i,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(o,i):u.insertBefore(o,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(o,u)):(i=u,i.appendChild(o)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=oi));else if(f!==4&&(o=o.child,o!==null))for(Ul(o,i,u),o=o.sibling;o!==null;)Ul(o,i,u),o=o.sibling}function Fl(o,i,u){var f=o.tag;if(f===5||f===6)o=o.stateNode,i?u.insertBefore(o,i):u.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(Fl(o,i,u),o=o.sibling;o!==null;)Fl(o,i,u),o=o.sibling}var Je=null,At=!1;function un(o,i,u){for(u=u.child;u!==null;)Cd(o,i,u),u=u.sibling}function Cd(o,i,u){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Br,u)}catch{}switch(u.tag){case 5:Ze||uo(u,i);case 6:var f=Je,g=At;Je=null,un(o,i,u),Je=f,At=g,Je!==null&&(At?(o=Je,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):Je.removeChild(u.stateNode));break;case 18:Je!==null&&(At?(o=Je,u=u.stateNode,o.nodeType===8?Ys(o.parentNode,u):o.nodeType===1&&Ys(o,u),Ko(o)):Ys(Je,u.stateNode));break;case 4:f=Je,g=At,Je=u.stateNode.containerInfo,At=!0,un(o,i,u),Je=f,At=g;break;case 0:case 11:case 14:case 15:if(!Ze&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Dl(u,i,T),g=g.next}while(g!==f)}un(o,i,u);break;case 1:if(!Ze&&(uo(u,i),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(w){Me(u,i,w)}un(o,i,u);break;case 21:un(o,i,u);break;case 22:u.mode&1?(Ze=(f=Ze)||u.memoizedState!==null,un(o,i,u),Ze=f):un(o,i,u);break;default:un(o,i,u)}}function Td(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new mg),i.forEach(function(f){var g=kg.bind(null,o,f);u.has(f)||(u.add(f),f.then(g,g))})}}function It(o,i){var u=i.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var v=o,T=i,w=T;e:for(;w!==null;){switch(w.tag){case 5:Je=w.stateNode,At=!1;break e;case 3:Je=w.stateNode.containerInfo,At=!0;break e;case 4:Je=w.stateNode.containerInfo,At=!0;break e}w=w.return}if(Je===null)throw Error(n(160));Cd(v,T,g),Je=null,At=!1;var E=g.alternate;E!==null&&(E.return=null),g.return=null}catch(M){Me(g,i,M)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wd(i,o),i=i.sibling}function wd(o,i){var u=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(It(i,o),Ft(o),f&4){try{gr(3,o,o.return),xi(3,o)}catch(Q){Me(o,o.return,Q)}try{gr(5,o,o.return)}catch(Q){Me(o,o.return,Q)}}break;case 1:It(i,o),Ft(o),f&512&&u!==null&&uo(u,u.return);break;case 5:if(It(i,o),Ft(o),f&512&&u!==null&&uo(u,u.return),o.flags&32){var g=o.stateNode;try{Vo(g,"")}catch(Q){Me(o,o.return,Q)}}if(f&4&&(g=o.stateNode,g!=null)){var v=o.memoizedProps,T=u!==null?u.memoizedProps:v,w=o.type,E=o.updateQueue;if(o.updateQueue=null,E!==null)try{w==="input"&&v.type==="radio"&&v.name!=null&&Qa(g,v),hs(w,T);var M=hs(w,v);for(T=0;T<E.length;T+=2){var V=E[T],$=E[T+1];V==="style"?ru(g,$):V==="dangerouslySetInnerHTML"?nu(g,$):V==="children"?Vo(g,$):D(g,V,$,M)}switch(w){case"input":as(g,v);break;case"textarea":ja(g,v);break;case"select":var U=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var z=v.value;z!=null?On(g,!!v.multiple,z,!1):U!==!!v.multiple&&(v.defaultValue!=null?On(g,!!v.multiple,v.defaultValue,!0):On(g,!!v.multiple,v.multiple?[]:"",!1))}g[ir]=v}catch(Q){Me(o,o.return,Q)}}break;case 6:if(It(i,o),Ft(o),f&4){if(o.stateNode===null)throw Error(n(162));g=o.stateNode,v=o.memoizedProps;try{g.nodeValue=v}catch(Q){Me(o,o.return,Q)}}break;case 3:if(It(i,o),Ft(o),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Ko(i.containerInfo)}catch(Q){Me(o,o.return,Q)}break;case 4:It(i,o),Ft(o);break;case 13:It(i,o),Ft(o),g=o.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Bl=Le())),f&4&&Td(o);break;case 22:if(V=u!==null&&u.memoizedState!==null,o.mode&1?(Ze=(M=Ze)||V,It(i,o),Ze=M):It(i,o),Ft(o),f&8192){if(M=o.memoizedState!==null,(o.stateNode.isHidden=M)&&!V&&(o.mode&1)!==0)for(W=o,V=o.child;V!==null;){for($=W=V;W!==null;){switch(U=W,z=U.child,U.tag){case 0:case 11:case 14:case 15:gr(4,U,U.return);break;case 1:uo(U,U.return);var Y=U.stateNode;if(typeof Y.componentWillUnmount=="function"){f=U,u=U.return;try{i=f,Y.props=i.memoizedProps,Y.state=i.memoizedState,Y.componentWillUnmount()}catch(Q){Me(f,u,Q)}}break;case 5:uo(U,U.return);break;case 22:if(U.memoizedState!==null){kd($);continue}}z!==null?(z.return=U,W=z):kd($)}V=V.sibling}e:for(V=null,$=o;;){if($.tag===5){if(V===null){V=$;try{g=$.stateNode,M?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(w=$.stateNode,E=$.memoizedProps.style,T=E!=null&&E.hasOwnProperty("display")?E.display:null,w.style.display=ou("display",T))}catch(Q){Me(o,o.return,Q)}}}else if($.tag===6){if(V===null)try{$.stateNode.nodeValue=M?"":$.memoizedProps}catch(Q){Me(o,o.return,Q)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===o)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===o)break e;for(;$.sibling===null;){if($.return===null||$.return===o)break e;V===$&&(V=null),$=$.return}V===$&&(V=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:It(i,o),Ft(o),f&4&&Td(o);break;case 21:break;default:It(i,o),Ft(o)}}function Ft(o){var i=o.flags;if(i&2){try{e:{for(var u=o.return;u!==null;){if(vd(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Vo(g,""),f.flags&=-33);var v=_d(o);Fl(o,v,g);break;case 3:case 4:var T=f.stateNode.containerInfo,w=_d(o);Ul(o,w,T);break;default:throw Error(n(161))}}catch(E){Me(o,o.return,E)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function yg(o,i,u){W=o,Sd(o)}function Sd(o,i,u){for(var f=(o.mode&1)!==0;W!==null;){var g=W,v=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||ki;if(!T){var w=g.alternate,E=w!==null&&w.memoizedState!==null||Ze;w=ki;var M=Ze;if(ki=T,(Ze=E)&&!M)for(W=g;W!==null;)T=W,E=T.child,T.tag===22&&T.memoizedState!==null?xd(g):E!==null?(E.return=T,W=E):xd(g);for(;v!==null;)W=v,Sd(v),v=v.sibling;W=g,ki=w,Ze=M}Ed(o)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,W=v):Ed(o)}}function Ed(o){for(;W!==null;){var i=W;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ze||xi(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!Ze)if(u===null)f.componentDidMount();else{var g=i.elementType===i.type?u.memoizedProps:xt(i.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&kc(i,v,f);break;case 3:var T=i.updateQueue;if(T!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}kc(i,T,u)}break;case 5:var w=i.stateNode;if(u===null&&i.flags&4){u=w;var E=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&u.focus();break;case"img":E.src&&(u.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var M=i.alternate;if(M!==null){var V=M.memoizedState;if(V!==null){var $=V.dehydrated;$!==null&&Ko($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ze||i.flags&512&&Ll(i)}catch(U){Me(i,i.return,U)}}if(i===o){W=null;break}if(u=i.sibling,u!==null){u.return=i.return,W=u;break}W=i.return}}function kd(o){for(;W!==null;){var i=W;if(i===o){W=null;break}var u=i.sibling;if(u!==null){u.return=i.return,W=u;break}W=i.return}}function xd(o){for(;W!==null;){var i=W;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{xi(4,i)}catch(E){Me(i,u,E)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(E){Me(i,g,E)}}var v=i.return;try{Ll(i)}catch(E){Me(i,v,E)}break;case 5:var T=i.return;try{Ll(i)}catch(E){Me(i,T,E)}}}catch(E){Me(i,i.return,E)}if(i===o){W=null;break}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break}W=i.return}}var vg=Math.ceil,Ai=B.ReactCurrentDispatcher,Vl=B.ReactCurrentOwner,Ct=B.ReactCurrentBatchConfig,fe=0,Oe=null,Ve=null,We=0,mt=0,co=on(0),Be=0,yr=null,Pn=0,Ii=0,$l=0,vr=null,lt=null,Bl=0,fo=1/0,zt=null,Pi=!1,ql=null,cn=null,Ri=!1,dn=null,Mi=0,_r=0,Gl=null,Ni=-1,Di=0;function nt(){return(fe&6)!==0?Le():Ni!==-1?Ni:Ni=Le()}function fn(o){return(o.mode&1)===0?1:(fe&2)!==0&&We!==0?We&-We:tg.transition!==null?(Di===0&&(Di=_u()),Di):(o=ve,o!==0||(o=window.event,o=o===void 0?16:Iu(o.type)),o)}function Pt(o,i,u,f){if(50<_r)throw _r=0,Gl=null,Error(n(185));Ho(o,u,f),((fe&2)===0||o!==Oe)&&(o===Oe&&((fe&2)===0&&(Ii|=u),Be===4&&hn(o,We)),at(o,f),u===1&&fe===0&&(i.mode&1)===0&&(fo=Le()+500,li&&sn()))}function at(o,i){var u=o.callbackNode;tm(o,i);var f=Or(o,o===Oe?We:0);if(f===0)u!==null&&gu(u),o.callbackNode=null,o.callbackPriority=0;else if(i=f&-f,o.callbackPriority!==i){if(u!=null&&gu(u),i===1)o.tag===0?eg(Id.bind(null,o)):hc(Id.bind(null,o)),Qm(function(){(fe&6)===0&&sn()}),u=null;else{switch(Cu(f)){case 1:u=Cs;break;case 4:u=yu;break;case 16:u=$r;break;case 536870912:u=vu;break;default:u=$r}u=Fd(u,Ad.bind(null,o))}o.callbackPriority=i,o.callbackNode=u}}function Ad(o,i){if(Ni=-1,Di=0,(fe&6)!==0)throw Error(n(327));var u=o.callbackNode;if(ho()&&o.callbackNode!==u)return null;var f=Or(o,o===Oe?We:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||i)i=Li(o,f);else{i=f;var g=fe;fe|=2;var v=Rd();(Oe!==o||We!==i)&&(zt=null,fo=Le()+500,Mn(o,i));do try{Tg();break}catch(w){Pd(o,w)}while(!0);il(),Ai.current=v,fe=g,Ve!==null?i=0:(Oe=null,We=0,i=Be)}if(i!==0){if(i===2&&(g=Ts(o),g!==0&&(f=g,i=Ol(o,g))),i===1)throw u=yr,Mn(o,0),hn(o,f),at(o,Le()),u;if(i===6)hn(o,f);else{if(g=o.current.alternate,(f&30)===0&&!_g(g)&&(i=Li(o,f),i===2&&(v=Ts(o),v!==0&&(f=v,i=Ol(o,v))),i===1))throw u=yr,Mn(o,0),hn(o,f),at(o,Le()),u;switch(o.finishedWork=g,o.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:Nn(o,lt,zt);break;case 3:if(hn(o,f),(f&130023424)===f&&(i=Bl+500-Le(),10<i)){if(Or(o,0)!==0)break;if(g=o.suspendedLanes,(g&f)!==f){nt(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=Ks(Nn.bind(null,o,lt,zt),i);break}Nn(o,lt,zt);break;case 4:if(hn(o,f),(f&4194240)===f)break;for(i=o.eventTimes,g=-1;0<f;){var T=31-St(f);v=1<<T,T=i[T],T>g&&(g=T),f&=~v}if(f=g,f=Le()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*vg(f/1960))-f,10<f){o.timeoutHandle=Ks(Nn.bind(null,o,lt,zt),f);break}Nn(o,lt,zt);break;case 5:Nn(o,lt,zt);break;default:throw Error(n(329))}}}return at(o,Le()),o.callbackNode===u?Ad.bind(null,o):null}function Ol(o,i){var u=vr;return o.current.memoizedState.isDehydrated&&(Mn(o,i).flags|=256),o=Li(o,i),o!==2&&(i=lt,lt=u,i!==null&&Hl(i)),o}function Hl(o){lt===null?lt=o:lt.push.apply(lt,o)}function _g(o){for(var i=o;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!Et(v(),g))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hn(o,i){for(i&=~$l,i&=~Ii,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var u=31-St(i),f=1<<u;o[u]=-1,i&=~f}}function Id(o){if((fe&6)!==0)throw Error(n(327));ho();var i=Or(o,0);if((i&1)===0)return at(o,Le()),null;var u=Li(o,i);if(o.tag!==0&&u===2){var f=Ts(o);f!==0&&(i=f,u=Ol(o,f))}if(u===1)throw u=yr,Mn(o,0),hn(o,i),at(o,Le()),u;if(u===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Nn(o,lt,zt),at(o,Le()),null}function bl(o,i){var u=fe;fe|=1;try{return o(i)}finally{fe=u,fe===0&&(fo=Le()+500,li&&sn())}}function Rn(o){dn!==null&&dn.tag===0&&(fe&6)===0&&ho();var i=fe;fe|=1;var u=Ct.transition,f=ve;try{if(Ct.transition=null,ve=1,o)return o()}finally{ve=f,Ct.transition=u,fe=i,(fe&6)===0&&sn()}}function zl(){mt=co.current,Ee(co)}function Mn(o,i){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,Ym(u)),Ve!==null)for(u=Ve.return;u!==null;){var f=u;switch(el(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ii();break;case 3:lo(),Ee(rt),Ee(Ye),hl();break;case 5:dl(f);break;case 4:lo();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:sl(f.type._context);break;case 22:case 23:zl()}u=u.return}if(Oe=o,Ve=o=pn(o.current,null),We=mt=i,Be=0,yr=null,$l=Ii=Pn=0,lt=vr=null,xn!==null){for(i=0;i<xn.length;i++)if(u=xn[i],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,v=u.pending;if(v!==null){var T=v.next;v.next=g,f.next=T}u.pending=f}xn=null}return o}function Pd(o,i){do{var u=Ve;try{if(il(),yi.current=Ti,vi){for(var f=Pe.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}vi=!1}if(In=0,Ge=$e=Pe=null,dr=!1,fr=0,Vl.current=null,u===null||u.return===null){Be=1,yr=i,Ve=null;break}e:{var v=o,T=u.return,w=u,E=i;if(i=We,w.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var M=E,V=w,$=V.tag;if((V.mode&1)===0&&($===0||$===11||$===15)){var U=V.alternate;U?(V.updateQueue=U.updateQueue,V.memoizedState=U.memoizedState,V.lanes=U.lanes):(V.updateQueue=null,V.memoizedState=null)}var z=ed(T);if(z!==null){z.flags&=-257,td(z,T,w,v,i),z.mode&1&&jc(v,M,i),i=z,E=M;var Y=i.updateQueue;if(Y===null){var Q=new Set;Q.add(E),i.updateQueue=Q}else Y.add(E);break e}else{if((i&1)===0){jc(v,M,i),Jl();break e}E=Error(n(426))}}else if(Ae&&w.mode&1){var Ue=ed(T);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),td(Ue,T,w,v,i),ol(ao(E,w));break e}}v=E=ao(E,w),Be!==4&&(Be=2),vr===null?vr=[v]:vr.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var I=Xc(v,E,i);Ec(v,I);break e;case 1:w=E;var k=v.type,P=v.stateNode;if((v.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(cn===null||!cn.has(P)))){v.flags|=65536,i&=-i,v.lanes|=i;var G=Zc(v,w,i);Ec(v,G);break e}}v=v.return}while(v!==null)}Nd(u)}catch(X){i=X,Ve===u&&u!==null&&(Ve=u=u.return);continue}break}while(!0)}function Rd(){var o=Ai.current;return Ai.current=Ti,o===null?Ti:o}function Jl(){(Be===0||Be===3||Be===2)&&(Be=4),Oe===null||(Pn&268435455)===0&&(Ii&268435455)===0||hn(Oe,We)}function Li(o,i){var u=fe;fe|=2;var f=Rd();(Oe!==o||We!==i)&&(zt=null,Mn(o,i));do try{Cg();break}catch(g){Pd(o,g)}while(!0);if(il(),fe=u,Ai.current=f,Ve!==null)throw Error(n(261));return Oe=null,We=0,Be}function Cg(){for(;Ve!==null;)Md(Ve)}function Tg(){for(;Ve!==null&&!Jp();)Md(Ve)}function Md(o){var i=Ud(o.alternate,o,mt);o.memoizedProps=o.pendingProps,i===null?Nd(o):Ve=i,Vl.current=null}function Nd(o){var i=o;do{var u=i.alternate;if(o=i.return,(i.flags&32768)===0){if(u=hg(u,i,mt),u!==null){Ve=u;return}}else{if(u=pg(u,i),u!==null){u.flags&=32767,Ve=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Be=6,Ve=null;return}}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=o}while(i!==null);Be===0&&(Be=5)}function Nn(o,i,u){var f=ve,g=Ct.transition;try{Ct.transition=null,ve=1,wg(o,i,u,f)}finally{Ct.transition=g,ve=f}return null}function wg(o,i,u,f){do ho();while(dn!==null);if((fe&6)!==0)throw Error(n(327));u=o.finishedWork;var g=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var v=u.lanes|u.childLanes;if(nm(o,v),o===Oe&&(Ve=Oe=null,We=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ri||(Ri=!0,Fd($r,function(){return ho(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Ct.transition,Ct.transition=null;var T=ve;ve=1;var w=fe;fe|=4,Vl.current=null,gg(o,u),wd(u,o),Om(Js),zr=!!zs,Js=zs=null,o.current=u,yg(u),Wp(),fe=w,ve=T,Ct.transition=v}else o.current=u;if(Ri&&(Ri=!1,dn=o,Mi=g),v=o.pendingLanes,v===0&&(cn=null),Qp(u.stateNode),at(o,Le()),i!==null)for(f=o.onRecoverableError,u=0;u<i.length;u++)g=i[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Pi)throw Pi=!1,o=ql,ql=null,o;return(Mi&1)!==0&&o.tag!==0&&ho(),v=o.pendingLanes,(v&1)!==0?o===Gl?_r++:(_r=0,Gl=o):_r=0,sn(),null}function ho(){if(dn!==null){var o=Cu(Mi),i=Ct.transition,u=ve;try{if(Ct.transition=null,ve=16>o?16:o,dn===null)var f=!1;else{if(o=dn,dn=null,Mi=0,(fe&6)!==0)throw Error(n(331));var g=fe;for(fe|=4,W=o.current;W!==null;){var v=W,T=v.child;if((W.flags&16)!==0){var w=v.deletions;if(w!==null){for(var E=0;E<w.length;E++){var M=w[E];for(W=M;W!==null;){var V=W;switch(V.tag){case 0:case 11:case 15:gr(8,V,v)}var $=V.child;if($!==null)$.return=V,W=$;else for(;W!==null;){V=W;var U=V.sibling,z=V.return;if(yd(V),V===M){W=null;break}if(U!==null){U.return=z,W=U;break}W=z}}}var Y=v.alternate;if(Y!==null){var Q=Y.child;if(Q!==null){Y.child=null;do{var Ue=Q.sibling;Q.sibling=null,Q=Ue}while(Q!==null)}}W=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,W=T;else e:for(;W!==null;){if(v=W,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:gr(9,v,v.return)}var I=v.sibling;if(I!==null){I.return=v.return,W=I;break e}W=v.return}}var k=o.current;for(W=k;W!==null;){T=W;var P=T.child;if((T.subtreeFlags&2064)!==0&&P!==null)P.return=T,W=P;else e:for(T=k;W!==null;){if(w=W,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:xi(9,w)}}catch(X){Me(w,w.return,X)}if(w===T){W=null;break e}var G=w.sibling;if(G!==null){G.return=w.return,W=G;break e}W=w.return}}if(fe=g,sn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Br,o)}catch{}f=!0}return f}finally{ve=u,Ct.transition=i}}return!1}function Dd(o,i,u){i=ao(u,i),i=Xc(o,i,1),o=an(o,i,1),i=nt(),o!==null&&(Ho(o,1,i),at(o,i))}function Me(o,i,u){if(o.tag===3)Dd(o,o,u);else for(;i!==null;){if(i.tag===3){Dd(i,o,u);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(cn===null||!cn.has(f))){o=ao(u,o),o=Zc(i,o,1),i=an(i,o,1),o=nt(),i!==null&&(Ho(i,1,o),at(i,o));break}}i=i.return}}function Sg(o,i,u){var f=o.pingCache;f!==null&&f.delete(i),i=nt(),o.pingedLanes|=o.suspendedLanes&u,Oe===o&&(We&u)===u&&(Be===4||Be===3&&(We&130023424)===We&&500>Le()-Bl?Mn(o,0):$l|=u),at(o,i)}function Ld(o,i){i===0&&((o.mode&1)===0?i=1:(i=Gr,Gr<<=1,(Gr&130023424)===0&&(Gr=4194304)));var u=nt();o=Ot(o,i),o!==null&&(Ho(o,i,u),at(o,u))}function Eg(o){var i=o.memoizedState,u=0;i!==null&&(u=i.retryLane),Ld(o,u)}function kg(o,i){var u=0;switch(o.tag){case 13:var f=o.stateNode,g=o.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),Ld(o,u)}var Ud;Ud=function(o,i,u){if(o!==null)if(o.memoizedProps!==i.pendingProps||rt.current)st=!0;else{if((o.lanes&u)===0&&(i.flags&128)===0)return st=!1,fg(o,i,u);st=(o.flags&131072)!==0}else st=!1,Ae&&(i.flags&1048576)!==0&&pc(i,ui,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Ei(o,i),o=i.pendingProps;var g=eo(i,Ye.current);so(i,u),g=gl(null,i,f,o,g,u);var v=yl();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,it(f)?(v=!0,si(i)):v=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ul(i),g.updater=wi,i.stateNode=g,g._reactInternals=i,Sl(i,f,o,u),i=Al(null,i,f,!0,v,u)):(i.tag=0,Ae&&v&&js(i),tt(null,i,g,u),i=i.child),i;case 16:f=i.elementType;e:{switch(Ei(o,i),o=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=Ag(f),o=xt(f,o),g){case 0:i=xl(null,i,f,o,u);break e;case 1:i=ld(null,i,f,o,u);break e;case 11:i=nd(null,i,f,o,u);break e;case 14:i=od(null,i,f,xt(f.type,o),u);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:xt(f,g),xl(o,i,f,g,u);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:xt(f,g),ld(o,i,f,g,u);case 3:e:{if(ad(i),o===null)throw Error(n(387));f=i.pendingProps,v=i.memoizedState,g=v.element,Sc(o,i),mi(i,f,null,u);var T=i.memoizedState;if(f=T.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){g=ao(Error(n(423)),i),i=ud(o,i,f,u,g);break e}else if(f!==g){g=ao(Error(n(424)),i),i=ud(o,i,f,u,g);break e}else for(pt=nn(i.stateNode.containerInfo.firstChild),ht=i,Ae=!0,kt=null,u=Tc(i,null,f,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(oo(),f===g){i=bt(o,i,u);break e}tt(o,i,f,u)}i=i.child}return i;case 5:return xc(i),o===null&&nl(i),f=i.type,g=i.pendingProps,v=o!==null?o.memoizedProps:null,T=g.children,Ws(f,g)?T=null:v!==null&&Ws(f,v)&&(i.flags|=32),sd(o,i),tt(o,i,T,u),i.child;case 6:return o===null&&nl(i),null;case 13:return cd(o,i,u);case 4:return cl(i,i.stateNode.containerInfo),f=i.pendingProps,o===null?i.child=ro(i,null,f,u):tt(o,i,f,u),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:xt(f,g),nd(o,i,f,g,u);case 7:return tt(o,i,i.pendingProps,u),i.child;case 8:return tt(o,i,i.pendingProps.children,u),i.child;case 12:return tt(o,i,i.pendingProps.children,u),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,v=i.memoizedProps,T=g.value,Te(fi,f._currentValue),f._currentValue=T,v!==null)if(Et(v.value,T)){if(v.children===g.children&&!rt.current){i=bt(o,i,u);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var w=v.dependencies;if(w!==null){T=v.child;for(var E=w.firstContext;E!==null;){if(E.context===f){if(v.tag===1){E=Ht(-1,u&-u),E.tag=2;var M=v.updateQueue;if(M!==null){M=M.shared;var V=M.pending;V===null?E.next=E:(E.next=V.next,V.next=E),M.pending=E}}v.lanes|=u,E=v.alternate,E!==null&&(E.lanes|=u),ll(v.return,u,i),w.lanes|=u;break}E=E.next}}else if(v.tag===10)T=v.type===i.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,w=T.alternate,w!==null&&(w.lanes|=u),ll(T,u,i),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===i){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}tt(o,i,g.children,u),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,so(i,u),g=vt(g),f=f(g),i.flags|=1,tt(o,i,f,u),i.child;case 14:return f=i.type,g=xt(f,i.pendingProps),g=xt(f.type,g),od(o,i,f,g,u);case 15:return rd(o,i,i.type,i.pendingProps,u);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:xt(f,g),Ei(o,i),i.tag=1,it(f)?(o=!0,si(i)):o=!1,so(i,u),Yc(i,f,g),Sl(i,f,g,u),Al(null,i,f,!0,o,u);case 19:return fd(o,i,u);case 22:return id(o,i,u)}throw Error(n(156,i.tag))};function Fd(o,i){return mu(o,i)}function xg(o,i,u,f){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(o,i,u,f){return new xg(o,i,u,f)}function Wl(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Ag(o){if(typeof o=="function")return Wl(o)?1:0;if(o!=null){if(o=o.$$typeof,o===De)return 11;if(o===Fe)return 14}return 2}function pn(o,i){var u=o.alternate;return u===null?(u=Tt(o.tag,i,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=i,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,i=o.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function Ui(o,i,u,f,g,v){var T=2;if(f=o,typeof o=="function")Wl(o)&&(T=1);else if(typeof o=="string")T=5;else e:switch(o){case Z:return Dn(u.children,g,v,i);case ge:T=8,g|=8;break;case ne:return o=Tt(12,u,i,g|2),o.elementType=ne,o.lanes=v,o;case Ke:return o=Tt(13,u,i,g),o.elementType=Ke,o.lanes=v,o;case ot:return o=Tt(19,u,i,g),o.elementType=ot,o.lanes=v,o;case Re:return Fi(u,g,v,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case de:T=10;break e;case ae:T=9;break e;case De:T=11;break e;case Fe:T=14;break e;case qe:T=16,f=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return i=Tt(T,u,i,g),i.elementType=o,i.type=f,i.lanes=v,i}function Dn(o,i,u,f){return o=Tt(7,o,f,i),o.lanes=u,o}function Fi(o,i,u,f){return o=Tt(22,o,f,i),o.elementType=Re,o.lanes=u,o.stateNode={isHidden:!1},o}function Kl(o,i,u){return o=Tt(6,o,null,i),o.lanes=u,o}function Yl(o,i,u){return i=Tt(4,o.children!==null?o.children:[],o.key,i),i.lanes=u,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function Ig(o,i,u,f,g){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Ql(o,i,u,f,g,v,T,w,E){return o=new Ig(o,i,u,w,E),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Tt(3,null,null,i),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ul(v),o}function Pg(o,i,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:o,containerInfo:i,implementation:u}}function Vd(o){if(!o)return rn;o=o._reactInternals;e:{if(Tn(o)!==o||o.tag!==1)throw Error(n(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(it(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(o.tag===1){var u=o.type;if(it(u))return dc(o,u,i)}return i}function $d(o,i,u,f,g,v,T,w,E){return o=Ql(u,f,!0,o,g,v,T,w,E),o.context=Vd(null),u=o.current,f=nt(),g=fn(u),v=Ht(f,g),v.callback=i??null,an(u,v,g),o.current.lanes=g,Ho(o,g,f),at(o,f),o}function Vi(o,i,u,f){var g=i.current,v=nt(),T=fn(g);return u=Vd(u),i.context===null?i.context=u:i.pendingContext=u,i=Ht(v,T),i.payload={element:o},f=f===void 0?null:f,f!==null&&(i.callback=f),o=an(g,i,T),o!==null&&(Pt(o,g,T,v),pi(o,g,T)),T}function $i(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Bd(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<i?u:i}}function Xl(o,i){Bd(o,i),(o=o.alternate)&&Bd(o,i)}function Rg(){return null}var qd=typeof reportError=="function"?reportError:function(o){console.error(o)};function Zl(o){this._internalRoot=o}Bi.prototype.render=Zl.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(n(409));Vi(o,i,null,null)},Bi.prototype.unmount=Zl.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Rn(function(){Vi(null,o,null,null)}),i[$t]=null}};function Bi(o){this._internalRoot=o}Bi.prototype.unstable_scheduleHydration=function(o){if(o){var i=Su();o={blockedOn:null,target:o,priority:i};for(var u=0;u<jt.length&&i!==0&&i<jt[u].priority;u++);jt.splice(u,0,o),u===0&&xu(o)}};function jl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function qi(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Gd(){}function Mg(o,i,u,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var M=$i(T);v.call(M)}}var T=$d(i,f,o,0,null,!1,!1,"",Gd);return o._reactRootContainer=T,o[$t]=T.current,or(o.nodeType===8?o.parentNode:o),Rn(),T}for(;g=o.lastChild;)o.removeChild(g);if(typeof f=="function"){var w=f;f=function(){var M=$i(E);w.call(M)}}var E=Ql(o,0,!1,null,null,!1,!1,"",Gd);return o._reactRootContainer=E,o[$t]=E.current,or(o.nodeType===8?o.parentNode:o),Rn(function(){Vi(i,E,u,f)}),E}function Gi(o,i,u,f,g){var v=u._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var w=g;g=function(){var E=$i(T);w.call(E)}}Vi(i,T,o,g)}else T=Mg(u,i,o,g,f);return $i(T)}Tu=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var u=Oo(i.pendingLanes);u!==0&&(Ss(i,u|1),at(i,Le()),(fe&6)===0&&(fo=Le()+500,sn()))}break;case 13:Rn(function(){var f=Ot(o,1);if(f!==null){var g=nt();Pt(f,o,1,g)}}),Xl(o,1)}},Es=function(o){if(o.tag===13){var i=Ot(o,134217728);if(i!==null){var u=nt();Pt(i,o,134217728,u)}Xl(o,134217728)}},wu=function(o){if(o.tag===13){var i=fn(o),u=Ot(o,i);if(u!==null){var f=nt();Pt(u,o,i,f)}Xl(o,i)}},Su=function(){return ve},Eu=function(o,i){var u=ve;try{return ve=o,i()}finally{ve=u}},gs=function(o,i,u){switch(i){case"input":if(as(o,u),i=u.name,u.type==="radio"&&i!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var f=u[i];if(f!==o&&f.form===o.form){var g=ri(f);if(!g)throw Error(n(90));Ka(f),as(f,g)}}}break;case"textarea":ja(o,u);break;case"select":i=u.value,i!=null&&On(o,!!u.multiple,i,!1)}},au=bl,uu=Rn;var Ng={usingClientEntryPoint:!1,Events:[sr,Zn,ri,su,lu,bl]},Cr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dg={bundleType:Cr.bundleType,version:Cr.version,rendererPackageName:Cr.rendererPackageName,rendererConfig:Cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=hu(o),o===null?null:o.stateNode},findFiberByHostInstance:Cr.findFiberByHostInstance||Rg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{Br=Oi.inject(Dg),Nt=Oi}catch{}}return ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ng,ut.createPortal=function(o,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jl(i))throw Error(n(200));return Pg(o,i,null,u)},ut.createRoot=function(o,i){if(!jl(o))throw Error(n(299));var u=!1,f="",g=qd;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Ql(o,1,!1,null,null,u,!1,f,g),o[$t]=i.current,or(o.nodeType===8?o.parentNode:o),new Zl(i)},ut.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=hu(i),o=o===null?null:o.stateNode,o},ut.flushSync=function(o){return Rn(o)},ut.hydrate=function(o,i,u){if(!qi(i))throw Error(n(200));return Gi(null,o,i,!0,u)},ut.hydrateRoot=function(o,i,u){if(!jl(o))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,v="",T=qd;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),i=$d(i,null,o,1,u??null,g,!1,v,T),o[$t]=i.current,or(o),f)for(o=0;o<f.length;o++)u=f[o],g=u._getVersion,g=g(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,g]:i.mutableSourceEagerHydrationData.push(u,g);return new Bi(i)},ut.render=function(o,i,u){if(!qi(i))throw Error(n(200));return Gi(null,o,i,!1,u)},ut.unmountComponentAtNode=function(o){if(!qi(o))throw Error(n(40));return o._reactRootContainer?(Rn(function(){Gi(null,null,o,!1,function(){o._reactRootContainer=null,o[$t]=null})}),!0):!1},ut.unstable_batchedUpdates=bl,ut.unstable_renderSubtreeIntoContainer=function(o,i,u,f){if(!qi(u))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Gi(o,i,u,!1,f)},ut.version="18.3.1-next-f1338f8080-20240426",ut}var Yd;function Hg(){if(Yd)return na.exports;Yd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),na.exports=Og(),na.exports}var Qd;function bg(){if(Qd)return Hi;Qd=1;var t=Hg();return Hi.createRoot=t.createRoot,Hi.hydrateRoot=t.hydrateRoot,Hi}var zg=bg();const Jg=Ua(zg),Wg="modulepreload",Kg=function(t){return"/"+t},Xd={},Rr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=d(n.map(p=>{if(p=Kg(p),p in Xd)return;Xd[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const C=document.createElement("link");if(C.rel=y?"stylesheet":Wg,y||(C.as="script"),C.crossOrigin="",C.href=p,m&&C.setAttribute("nonce",m),document.head.appendChild(C),y)return new Promise((S,x)=>{C.addEventListener("load",S),C.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return s.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},Yg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rr(async()=>{const{default:r}=await Promise.resolve().then(()=>Mo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Va extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Qg extends Va{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zd extends Va{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jd extends Va{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ha;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ha||(ha={}));var Xg=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};class Zg{constructor(e,{headers:n={},customFetch:r,region:s=ha.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Yg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Xg(this,void 0,void 0,function*(){try{const{headers:s,method:c,body:d}=n;let h={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${e}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)));const _=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y}).catch(R=>{throw new Qg(R)}),C=_.headers.get("x-relay-error");if(C&&C==="true")throw new Zd(_);if(!_.ok)throw new jd(_);let S=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return S==="application/json"?x=yield _.json():S==="application/octet-stream"?x=yield _.blob():S==="text/event-stream"?x=_:S==="multipart/form-data"?x=yield _.formData():x=yield _.text(),{data:x,error:null,response:_}}catch(s){return{data:null,error:s,response:s instanceof jd||s instanceof Zd?s.context:void 0}}})}}var be={},po={},mo={},go={},yo={},vo={},jg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ro=jg();const ey=Ro.fetch,Hh=Ro.fetch.bind(Ro),bh=Ro.Headers,ty=Ro.Request,ny=Ro.Response,Mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:bh,Request:ty,Response:ny,default:Hh,fetch:ey},Symbol.toStringTag,{value:"Module"})),oy=Ug(Mo);var bi={},ef;function zh(){if(ef)return bi;ef=1,Object.defineProperty(bi,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return bi.default=t,bi}var tf;function Jh(){if(tf)return vo;tf=1;var t=vo&&vo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(vo,"__esModule",{value:!0});const e=t(oy),n=t(zh());class r{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=Object.assign({},this.headers),this.headers[c]=d,this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,_,C;let S=null,x=null,R=null,N=p.status,q=p.statusText;if(p.ok){if(this.method!=="HEAD"){const H=await p.text();H===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=H:x=JSON.parse(H))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),B=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");D&&B&&B.length>1&&(R=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(S={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,R=null,N=406,q="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const D=await p.text();try{S=JSON.parse(D),Array.isArray(S)&&p.status===404&&(x=[],S=null,N=200,q="OK")}catch{p.status===404&&D===""?(N=204,q="No Content"):S={message:D}}if(S&&this.isMaybeSingle&&(!((C=S==null?void 0:S.details)===null||C===void 0)&&C.includes("0 rows"))&&(S=null,N=200,q="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:x,count:R,status:N,statusText:q}});return this.shouldThrowOnError||(m=m.catch(p=>{var y,_,C;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(_=p==null?void 0:p.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(C=p==null?void 0:p.code)!==null&&C!==void 0?C:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,d)}returns(){return this}overrideTypes(){return this}}return vo.default=r,vo}var nf;function Wh(){if(nf)return yo;nf=1;var t=yo&&yo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yo,"__esModule",{value:!0});const e=t(Jh());class n extends e.default{select(s){let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:c=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${s}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,c,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${s}`),this.url.searchParams.set(p,`${c-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:c=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var y;const _=[s?"analyze":null,c?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),C=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${C}"; options=${_};`,p==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return yo.default=n,yo}var of;function $a(){if(of)return go;of=1;var t=go&&go.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(go,"__esModule",{value:!0});const e=t(Wh());class n extends e.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}in(s,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${d})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(s,`${m}fts${p}.${c}`),this}match(s){return Object.entries(s).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(s,c,d){return this.url.searchParams.append(s,`not.${c}.${d}`),this}or(s,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,c,d){return this.url.searchParams.append(s,`${c}.${d}`),this}}return go.default=n,go}var rf;function Kh(){if(rf)return mo;rf=1;var t=mo&&mo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mo,"__esModule",{value:!0});const e=t($a());class n{constructor(s,{headers:c={},schema:d,fetch:h}){this.url=s,this.headers=c,this.schema=d,this.fetch=h}select(s,{head:c=!1,count:d}={}){const h=c?"HEAD":"GET";let m=!1;const p=(s??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),d&&(this.headers.Prefer=`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:c,defaultToNull:d=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(s)){const p=s.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:c,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){const p="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(s)){const _=s.reduce((C,S)=>C.concat(Object.keys(S)),[]);if(_.length>0){const C=[...new Set(_)].map(S=>`"${S}"`);this.url.searchParams.set("columns",C.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:c}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const c="DELETE",d=[];return s&&d.push(`count=${s}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return mo.default=n,mo}var wr={},Sr={},sf;function ry(){return sf||(sf=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.version=void 0,Sr.version="0.0.0-automated"),Sr}var lf;function iy(){if(lf)return wr;lf=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.DEFAULT_HEADERS=void 0;const t=ry();return wr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},wr}var af;function sy(){if(af)return po;af=1;var t=po&&po.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(po,"__esModule",{value:!0});const e=t(Kh()),n=t($a()),r=iy();class s{constructor(d,{headers:h={},schema:m,fetch:p}={}){this.url=d,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=p}from(d){const h=new URL(`${this.url}/${d}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new s(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:p=!1,count:y}={}){let _;const C=new URL(`${this.url}/rpc/${d}`);let S;m||p?(_=m?"HEAD":"GET",Object.entries(h).filter(([R,N])=>N!==void 0).map(([R,N])=>[R,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([R,N])=>{C.searchParams.append(R,N)})):(_="POST",S=h);const x=Object.assign({},this.headers);return y&&(x.Prefer=`count=${y}`),new n.default({method:_,url:C,headers:x,schema:this.schemaName,body:S,fetch:this.fetch,allowEmpty:!1})}}return po.default=s,po}var uf;function ly(){if(uf)return be;uf=1;var t=be&&be.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(be,"__esModule",{value:!0}),be.PostgrestError=be.PostgrestBuilder=be.PostgrestTransformBuilder=be.PostgrestFilterBuilder=be.PostgrestQueryBuilder=be.PostgrestClient=void 0;const e=t(sy());be.PostgrestClient=e.default;const n=t(Kh());be.PostgrestQueryBuilder=n.default;const r=t($a());be.PostgrestFilterBuilder=r.default;const s=t(Wh());be.PostgrestTransformBuilder=s.default;const c=t(Jh());be.PostgrestBuilder=c.default;const d=t(zh());return be.PostgrestError=d.default,be.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:c.default,PostgrestError:d.default},be}var ay=ly();const uy=Ua(ay),{PostgrestClient:cy,PostgrestQueryBuilder:yA,PostgrestFilterBuilder:vA,PostgrestTransformBuilder:_A,PostgrestBuilder:CA,PostgrestError:TA}=uy;function dy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const fy=dy(),hy="2.11.15",py=`realtime-js/${hy}`,my="1.0.0",Yh=1e4,gy=1e3;var xr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xr||(xr={}));var je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(je||(je={}));var Mt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mt||(Mt={}));var pa;(function(t){t.websocket="websocket"})(pa||(pa={}));var Vn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vn||(Vn={}));class yy{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),c=n.getUint8(2);let d=this.HEADER_LENGTH+2;const h=r.decode(e.slice(d,d+s));d=d+s;const m=r.decode(e.slice(d,d+c));d=d+c;const p=JSON.parse(r.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class Qh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(we||(we={}));const cf=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((c,d)=>(c[d]=vy(d,t,e,s),c),{})},vy=(t,e,n,r)=>{const s=e.find(h=>h.name===t),c=s==null?void 0:s.type,d=n[t];return c&&!r.includes(c)?Xh(c,d):ma(d)},Xh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return wy(e,n)}switch(t){case we.bool:return _y(e);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return Cy(e);case we.json:case we.jsonb:return Ty(e);case we.timestamp:return Sy(e);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return ma(e);default:return ma(e)}},ma=t=>t,_y=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Cy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ty=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wy=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let c;const d=t.slice(1,n);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>Xh(e,h))}return t},Sy=t=>typeof t=="string"?t.replace(" ","T"):t,Zh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ia{constructor(e,n,r={},s=Yh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var df;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(df||(df={}));class Ar{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ar.syncState(this.state,s,c,d),this.pendingDiffs.forEach(m=>{this.state=Ar.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},s=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ar.syncDiff(this.state,s,c,d),h())}),this.onJoin((s,c,d)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:c,newPresences:d})}),this.onLeave((s,c,d)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const c=this.cloneDeep(e),d=this.transformState(n),h={},m={};return this.map(c,(p,y)=>{d[p]||(m[p]=y)}),this.map(d,(p,y)=>{const _=c[p];if(_){const C=y.map(N=>N.presence_ref),S=_.map(N=>N.presence_ref),x=y.filter(N=>S.indexOf(N.presence_ref)<0),R=_.filter(N=>C.indexOf(N.presence_ref)<0);x.length>0&&(h[p]=x),R.length>0&&(m[p]=R)}else h[p]=y}),this.syncDiff(c,{joins:h,leaves:m},r,s)}static syncDiff(e,n,r,s){const{joins:c,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(c,(h,m)=>{var p;const y=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(m),y.length>0){const _=e[h].map(S=>S.presence_ref),C=y.filter(S=>_.indexOf(S.presence_ref)<0);e[h].unshift(...C)}r(h,y,m)}),this.map(d,(h,m)=>{let p=e[h];if(!p)return;const y=m.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=p,s(h,p,m),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ff;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ff||(ff={}));var hf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hf||(hf={}));var Wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wt||(Wt={}));class Ba{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ia(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new Qh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(s,c)=>{this._trigger(this._replyEventName(c),s)}),this.presence=new Ar(this),this.broadcastEndpointURL=Zh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params;this._onError(y=>e==null?void 0:e(Wt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Wt.CLOSED));const m={},p={broadcast:c,presence:d,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e==null||e(Wt.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,S=(_=C==null?void 0:C.length)!==null&&_!==void 0?_:0,x=[];for(let R=0;R<S;R++){const N=C[R],{filter:{event:q,schema:O,table:D,filter:B}}=N,H=y&&y[R];if(H&&H.event===q&&H.schema===O&&H.table===D&&H.filter===B)x.push(Object.assign(Object.assign({},N),{id:H.id}));else{this.unsubscribe(),this.state=je.errored,e==null||e(Wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Wt.SUBSCRIBED);return}}).receive("error",y=>{this.state=je.errored,e==null||e(Wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:d}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,m;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ia(this,Mt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,c=setTimeout(()=>s.abort(),r),d=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(c),d}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ia(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,c;const d=e.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=Mt;if(r&&[h,m,p,y].indexOf(d)>=0&&r!==this._joinRef())return;let C=this._onMessage(d,n,r);if(n&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(S=>{var x,R,N;return((x=S.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(R=S.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(S=>S.callback(C,r)):(c=this.bindings[d])===null||c===void 0||c.filter(S=>{var x,R,N,q,O,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in S){const B=S.id,H=(x=S.filter)===null||x===void 0?void 0:x.event;return B&&((R=n.ids)===null||R===void 0?void 0:R.includes(B))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const B=(O=(q=S==null?void 0:S.filter)===null||q===void 0?void 0:q.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return B==="*"||B===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===d}).map(S=>{if(typeof C=="object"&&"ids"in C){const x=C.data,{schema:R,table:N,commit_timestamp:q,type:O,errors:D}=x;C=Object.assign(Object.assign({},{schema:R,table:N,commit_timestamp:q,eventType:O,new:{},old:{},errors:D}),this._getPayloadRecords(x))}S.callback(C,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),c={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(c):this.bindings[s]=[c],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var c;return!(((c=s.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&Ba.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mt.close,{},e)}_onError(e){this._on(Mt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=cf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=cf(e.columns,e.old_record)),n}}const pf=()=>{},Ey=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ky{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pf,this.ref=0,this.logger=pf,this.conn=null,this.sendBuffer=[],this.serializer=new yy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>Rr(async()=>{const{default:m}=await Promise.resolve().then(()=>Mo);return{default:m}},void 0).then(({default:m})=>m(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${e}/${pa.websocket}`,this.httpEndpoint=Zh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(c,d)=>d(JSON.stringify(c)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=fy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:my}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xr.connecting:return Vn.Connecting;case xr.open:return Vn.Open;case xr.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(c=>c.topic===r);if(s)return s;{const c=new Ba(`realtime:${e}`,n,this);return this.channels.push(c),c}}push(e){const{topic:n,event:r,payload:s,ref:c}=e,d=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${n} ${r} (${c})`,s),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:py};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Mt.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(gy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:c,ref:d}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${r} ${s} ${d&&"("+d+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,c,d)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ey],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class qa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xy extends qa{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ga extends qa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ay=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const jh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rr(async()=>{const{default:r}=await Promise.resolve().then(()=>Mo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Iy=()=>Ay(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rr(()=>Promise.resolve().then(()=>Mo),void 0)).Response:Response}),ya=t=>{if(Array.isArray(t))return t.map(n=>ya(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[s]=ya(r)}),e},Py=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Bn=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const sa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ry=(t,e,n)=>Bn(void 0,void 0,void 0,function*(){const r=yield Iy();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const c=t.status||500,d=(s==null?void 0:s.statusCode)||c+"";e(new xy(sa(s),c,d))}).catch(s=>{e(new ga(sa(s),s))}):e(new ga(sa(t),t))}),My=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Py(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Mr(t,e,n,r,s,c){return Bn(this,void 0,void 0,function*(){return new Promise((d,h)=>{t(n,My(e,r,s,c)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>Ry(m,h,r))})})}function Zi(t,e,n,r){return Bn(this,void 0,void 0,function*(){return Mr(t,"GET",e,n,r)})}function Kt(t,e,n,r,s){return Bn(this,void 0,void 0,function*(){return Mr(t,"POST",e,r,s,n)})}function va(t,e,n,r,s){return Bn(this,void 0,void 0,function*(){return Mr(t,"PUT",e,r,s,n)})}function Ny(t,e,n,r){return Bn(this,void 0,void 0,function*(){return Mr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ep(t,e,n,r,s){return Bn(this,void 0,void 0,function*(){return Mr(t,"DELETE",e,r,s,n)})}var ct=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const Dy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ly{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=jh(s)}uploadOrUpdate(e,n,r,s){return ct(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},mf),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),_=yield(e=="PUT"?va:Kt)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(ze(c))return{data:null,error:c};throw c}})}upload(e,n,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ct(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:mf.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const _=yield va(this.fetch,h.toString(),m,{headers:y});return{data:{path:c,fullPath:_.Key},error:null}}catch(m){if(ze(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,n){return ct(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const c=yield Kt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),d=new URL(this.url+c.url),h=d.searchParams.get("token");if(!h)throw new qa("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}update(e,n,r){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ct(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ct(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),c=yield Kt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ct(this,void 0,void 0,function*(){try{const s=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}download(e,n){return ct(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Zi(this.fetch,`${this.url}/${s}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(ze(h))return{data:null,error:h};throw h}})}info(e){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ya(r),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}exists(e){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Ny(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ze(r)&&r instanceof ga){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&s.push(c);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&s.push(m);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return ct(this,void 0,void 0,function*(){try{return{data:yield ep(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}list(e,n,r){return ct(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Dy),n),{prefix:e||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ze(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Uy="2.10.4",Fy={"X-Client-Info":`storage-js/${Uy}`};var _o=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};class Vy{constructor(e,n={},r,s){const c=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},Fy),n),this.fetch=jh(r)}listBuckets(){return _o(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ze(e))return{data:null,error:e};throw e}})}getBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return _o(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return _o(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ze(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield ep(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ze(n))return{data:null,error:n};throw n}})}}class $y extends Vy{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Ly(this.url,this.headers,e,this.fetch)}}const By="2.53.0";let kr="";typeof Deno<"u"?kr="deno":typeof document<"u"?kr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kr="react-native":kr="node";const qy={"X-Client-Info":`supabase-js-${kr}/${By}`},Gy={headers:qy},Oy={schema:"public"},Hy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},by={};var zy=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const Jy=t=>{let e;return t?e=t:typeof fetch>"u"?e=Hh:e=fetch,(...n)=>e(...n)},Wy=()=>typeof Headers>"u"?bh:Headers,Ky=(t,e,n)=>{const r=Jy(n),s=Wy();return(c,d)=>zy(void 0,void 0,void 0,function*(){var h;const m=(h=yield e())!==null&&h!==void 0?h:t;let p=new s(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(c,Object.assign(Object.assign({},d),{headers:p}))})};var Yy=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};function Qy(t){return t.endsWith("/")?t:t+"/"}function Xy(t,e){var n,r;const{db:s,auth:c,realtime:d,global:h}=t,{db:m,auth:p,realtime:y,global:_}=e,C={db:Object.assign(Object.assign({},m),s),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Yy(this,void 0,void 0,function*(){return""})};return t.accessToken?C.accessToken=t.accessToken:delete C.accessToken,C}const tp="2.71.1",Eo=30*1e3,_a=3,la=_a*Eo,Zy="http://localhost:9999",jy="supabase.auth.token",ev={"X-Client-Info":`gotrue-js/${tp}`},Ca="X-Supabase-Api-Version",np={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nv=600*1e3;class Ga extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ov extends Ga{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function rv(t){return ie(t)&&t.name==="AuthApiError"}class op extends Ga{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Cn extends Ga{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class yn extends Cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iv(t){return ie(t)&&t.name==="AuthSessionMissingError"}class zi extends Cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ji extends Cn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wi extends Cn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sv(t){return ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class gf extends Cn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ta extends Cn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function aa(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class yf extends Cn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wa extends Cn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vf=` 	
\r=`.split(""),lv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vf.length;e+=1)t[vf[e].charCodeAt(0)]=-2;for(let e=0;e<ji.length;e+=1)t[ji[e].charCodeAt(0)]=e;return t})();function _f(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ji[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ji[r]),e.queuedBits-=6}}function rp(t,e,n){const r=lv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Cf(t){const e=[],n=d=>{e.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},c=d=>{cv(d,r,n)};for(let d=0;d<t.length;d+=1)rp(t.charCodeAt(d),s,c);return e.join("")}function av(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}av(r,e)}}function cv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function dv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)rp(t.charCodeAt(s),n,r);return new Uint8Array(e)}function fv(t){const e=[];return uv(t,n=>e.push(n)),new Uint8Array(e)}function hv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>_f(s,n,r)),_f(null,n,r),e.join("")}function pv(t){return Math.round(Date.now()/1e3)+t}function mv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Rt=()=>typeof window<"u"&&typeof document<"u",Ln={tested:!1,writable:!1},ip=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ln.tested)return Ln.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ln.tested=!0,Ln.writable=!0}catch{Ln.tested=!0,Ln.writable=!1}return Ln.writable};function gv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,c)=>{e[c]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const sp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rr(async()=>{const{default:r}=await Promise.resolve().then(()=>Mo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ko=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Un=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gn=async(t,e)=>{await t.removeItem(e)};class os{constructor(){this.promise=new os.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}os.promiseConstructor=Promise;function ua(t){const e=t.split(".");if(e.length!==3)throw new wa("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!tv.test(e[r]))throw new wa("JWT not in base64url format");return{header:JSON.parse(Cf(e[0])),payload:JSON.parse(Cf(e[1])),signature:dv(e[2]),raw:{header:e[0],payload:e[1]}}}async function vv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _v(t,e){return new Promise((r,s)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await t(c);if(!e(c,null,d)){r(d);return}}catch(d){if(!e(c,d)){s(d);return}}})()})}function Cv(t){return("0"+t.toString(16)).substr(-2)}function Tv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let c=0;c<56;c++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Cv).join("")}async function wv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(c=>String.fromCharCode(c)).join("")}async function Sv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await wv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Co(t,e,n=!1){const r=Tv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ko(t,`${e}-code-verifier`,s);const c=await Sv(r);return[c,r===c?"plain":"s256"]}const Ev=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kv(t){const e=t.headers.get(Ca);if(!e||!e.match(Ev))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Av(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Iv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(t){if(!Iv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ca(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tf(t){return JSON.parse(JSON.stringify(t))}var Pv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rv=[502,503,504];async function wf(t){var e;if(!yv(t))throw new Ta(Fn(t),0);if(Rv.includes(t.status))throw new Ta(Fn(t),t.status);let n;try{n=await t.json()}catch(c){throw new op(Fn(c),c)}let r;const s=kv(t);if(s&&s.getTime()>=np["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yf(Fn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new yf(Fn(n),t.status,n.weak_password.reasons);throw new ov(Fn(n),t.status||500,r)}const Mv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ce(t,e,n,r){var s;const c=Object.assign({},r==null?void 0:r.headers);c[Ca]||(c[Ca]=np["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const d=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await Nv(t,e,n+h,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function Nv(t,e,n,r,s,c){const d=Mv(e,r,s,c);let h;try{h=await t(n,Object.assign({},d))}catch(m){throw console.error(m),new Ta(Fn(m),0)}if(h.ok||await wf(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(m){await wf(m)}}function Jt(t){var e;let n=null;Fv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Sf(t){const e=Jt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function vn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Dv(t){return{data:t,error:null}}function Lv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:c}=t,d=Pv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:c},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function Uv(t){return t}function Fv(t){return t.access_token&&t.refresh_token&&t.expires_in}const da=["global","local","others"];var Vv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class $v{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=sp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=da[0]){if(da.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${da.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Vv(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Lv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,c,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(c=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&c!==void 0?c:""},xform:Uv});if(y.error)throw y.error;const _=await y.json(),C=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(x=>{const R=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);p[`${N}Page`]=R}),p.total=parseInt(C)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){To(e);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vn})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){To(e);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){To(e);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){To(e.userId);try{const{data:n,error:r}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){To(e.userId),To(e.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}}function Ef(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wo={debug:!!(globalThis&&ip()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qv extends lp{}async function Gv(t,e,n){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wo.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Bv();const Ov={url:Zy,storageKey:jy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ev,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kf(t,e,n){return await n()}const So={};class Pr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Pr.nextInstanceID,Pr.nextInstanceID+=1,this.instanceID>0&&Rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ov),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $v({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=sp(s.fetch),this.lock=s.lock||kf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Rt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Gv:this.lock=kf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ip()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ef(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ef(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=So[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){So[this.storageKey]=Object.assign(Object.assign({},So[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=So[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){So[this.storageKey]=Object.assign(Object.assign({},So[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tp}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Rt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:c}=await this._getSessionFromURL(n,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),sv(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ie(n)?{error:n}:{error:new op("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Jt}),{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(ie(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var n,r,s;try{let c;if("email"in e){const{email:y,password:_,options:C}=e;let S=null,x=null;this.flowType==="pkce"&&([S,x]=await Co(this.storage,this.storageKey)),c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:y,password:_,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:S,code_challenge_method:x},xform:Jt})}else if("phone"in e){const{phone:y,password:_,options:C}=e;c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(r=C==null?void 0:C.data)!==null&&r!==void 0?r:{},channel:(s=C==null?void 0:C.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:Jt})}else throw new Ji("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(ie(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let n;if("email"in e){const{email:c,password:d,options:h}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Sf})}else if("phone"in e){const{phone:c,password:d,options:h}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Sf})}else throw new Ji("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,c,d,h,m,p,y,_,C,S;let x,R;if("message"in e)x=e.message,R=e.signature;else{const{chain:N,wallet:q,statement:O,options:D}=e;let B;if(Rt())if(typeof q=="object")B=q;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))B=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=q}const H=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const J=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),O?{statement:O}:null));let Z;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")Z=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)Z=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)x=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),R=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${H.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(s=(r=D==null?void 0:D.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const J=await B.signMessage(new TextEncoder().encode(x),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=J}}try{const{data:N,error:q}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:hv(R)},!((C=e.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Jt});if(q)throw q;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new zi}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:q})}catch(N){if(ie(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const n=await Un(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:c,error:d}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Jt});if(await gn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new zi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:s??null}),error:d})}catch(c){if(ie(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:c,nonce:d}=e,h=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jt}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new zi}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,c,d;try{if("email"in e){const{email:h,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Co(this.storage,this.storageKey));const{error:_}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:m}=e,{data:p,error:y}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new Ji("You must provide either an email or phone number.")}catch(h){if(ie(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let s,c;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,c=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:h}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:s,xform:Jt});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await Co(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Dv})}catch(c){if(ie(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new yn;const{error:s}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:c}=e,{error:d}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:r,type:s,options:c}=e,{data:d,error:h}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Ji("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<la:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const d=await Un(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=ca()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,p,y)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,y))})}return{data:{session:e},error:null}}const{session:s,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vn}):await this._useSession(async n=>{var r,s,c;const{data:d,error:h}=n;if(h)throw h;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&c!==void 0?c:void 0,xform:vn})})}catch(n){if(ie(n))return iv(n)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:c}=r;if(c)throw c;if(!s.session)throw new yn;const d=s.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await Co(this.storage,this.storageKey));const{data:p,error:y}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:vn});if(y)throw y;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yn;const n=Date.now()/1e3;let r=n,s=!0,c=null;const{payload:d}=ua(e.access_token);if(d.exp&&(r=d.exp,s=r<=n),s){const{session:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(n){if(ie(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:d,error:h}=n;if(h)throw h;e=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new yn;const{session:s,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Rt())throw new Wi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gf("No code detected.");const{data:O,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:c,refresh_token:d,expires_in:h,expires_at:m,token_type:p}=e;if(!c||!h||!d||!p)throw new Wi("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let C=y+_;m&&(C=parseInt(m));const S=C-y;S*1e3<=Eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const x=C-_;y-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,C,y):y-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,C,y);const{data:R,error:N}=await this._getUser(c);if(N)throw N;const q={provider_token:r,provider_refresh_token:s,access_token:c,expires_in:_,expires_at:C,refresh_token:d,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:e.type},error:null}}catch(r){if(ie(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Un(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:c}=n;if(c)return{error:c};const d=(r=s.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(rv(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:c},error:d}=n;if(d)throw d;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Co(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(ie(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async c=>{var d,h,m,p,y;const{data:_,error:C}=c;if(C)throw C;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return Rt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ie(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:c,error:d}=n;if(d)throw d;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _v(async s=>(s>0&&await vv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jt})),(s,c)=>{const d=200*Math.pow(2,s);return c&&aa(c)&&Date.now()+d-r<Eo})}catch(r){if(this._debug(n,"error",r),ie(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Rt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Un(this.storage,this.storageKey);if(s&&this.userStorage){let d=await Un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:s.user},await ko(this.userStorage,this.storageKey+"-user",d)),s.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:ca()}else if(s&&!s.user&&!s.user){const d=await Un(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(s.user=d.user,await gn(this.storage,this.storageKey+"-user"),await ko(this.storage,this.storageKey,s)):s.user=ca()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const c=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<la;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${la}s`),c){if(this.autoRefreshToken&&s.refresh_token){const{error:d}=await this._callRefreshToken(s.refresh_token);d&&(console.error(d),aa(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(s.access_token);!h&&(d!=null&&d.user)?(s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new os;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new yn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(s,"error",c),ie(c)){const d={session:null,error:c};return aa(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ko(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const c=Tf(s);await ko(this.storage,this.storageKey,c)}else{const s=Tf(n);await ko(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Eo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Eo}ms, refresh threshold is ${_a} ticks`),s<=_a&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,d]=await Co(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});s.push(h.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);s.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:c}=n;return c?{data:null,error:c}:await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:c,error:d}=n;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((s=m==null?void 0:m.totp)===null||s===void 0)&&s.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:c}=n;if(c)return{data:null,error:c};const{data:d,error:h}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(ie(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:c}=n;return c?{data:null,error:c}:await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=r.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:r,totp:s,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:c}=e;if(c)return{data:null,error:c};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ua(s.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+nv>s)return r;const{data:c,error:d}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=s,r=c.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:S,error:x}=await this.getSession();if(x||!S.session)return{data:null,error:x};r=S.session.access_token}const{header:s,payload:c,signature:d,raw:{header:h,payload:m}}=ua(r);n!=null&&n.allowExpired||xv(c.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:c,header:s,signature:d},error:null}}const y=Av(s.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,d,fv(`${h}.${m}`)))throw new wa("Invalid JWT signature");return{data:{claims:c,header:s,signature:d},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}}Pr.nextInstanceID=0;const Hv=Pr;class bv extends Hv{constructor(e){super(e)}}var zv=function(t,e,n,r){function s(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?c(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};class Jv{constructor(e,n,r){var s,c,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=Qy(e),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:Oy,realtime:by,auth:Object.assign(Object.assign({},Hy),{storageKey:p}),global:Gy},_=Xy(r??{},y);this.storageKey=(s=_.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=_.global.headers)!==null&&c!==void 0?c:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(C,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=_.auth)!==null&&d!==void 0?d:{},this.headers,_.global.fetch),this.fetch=Ky(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new cy(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new $y(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new Zg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return zv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:c,flowType:d,lock:h,debug:m},p,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bv({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ky(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wv=(t,e,n)=>new Jv(t,e,n);function Kv(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Kv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yv="https://pexsnxcntkprmrwipjgv.supabase.co",Qv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBleHNueGNudGtwcm1yd2lwamd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzODYwNjEsImV4cCI6MjA2OTk2MjA2MX0.EN8HW-hXUGl_nqMRuvbLtWsh9viq6gvphAFCMOt6-JA",Vt=Wv(Yv,Qv),Xv=t=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.573L16.5 21.75l-.398-1.177a3.375 3.375 0 00-2.455-2.455L12.5 18l1.177-.398a3.375 3.375 0 002.455-2.455L16.5 14.25l.398 1.177a3.375 3.375 0 002.455 2.455L20.5 18l-1.177.398a3.375 3.375 0 00-2.455 2.455z"})}),Zv=t=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),jv=t=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Oa=t=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c.251.042.506.092.766.148a13.487 13.487 0 015.33 2.936m-5.33-2.936c.156-.03.315-.056.475-.08a11.955 11.955 0 003.528.213M9.75 3.104C8.165 3.292 6.75 4.25 6.75 5.25v5.714c0 .921.91 1.668 2.023 1.668h.034a2.25 2.25 0 001.684-.757l.003-.002l.002-.002a2.25 2.25 0 011.684-.757H13.5M19.5 14.5l-5-5.25v5.714a2.25 2.25 0 01-1.28 2.062M19.5 14.5c.156.03.315.056.475.08a11.955 11.955 0 00-3.528-.213m-3.528-.213c.251-.042.506-.092.766-.148a13.487 13.487 0 00-5.33 2.936m5.33-2.936c-.156.03-.315.056-.475.08a11.955 11.955 0 01-3.528.213m3.528.213c-.251.042-.506.092-.766-.148a13.487 13.487 0 01-5.33-2.936M19.5 14.5c1.585-.188 3-1.144 3-2.25v-5.714c0-.921-.91-1.668-2.023-1.668h-.034a2.25 2.25 0 00-1.684.757l-.003.002-.002.002a2.25 2.25 0 01-1.684.757H13.5"})}),e0=t=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),t0=t=>L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",...t,children:[L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9.563C9 9.252 9.252 9 9.563 9h4.874c.311 0 .563.252.563.563v4.874c0 .311-.252.563-.563.563H9.564A.562.562 0 019 14.437V9.564z"})]}),n0=t=>L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3.75"}),L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75h19.5A2.25 2.25 0 0024 16.5V7.5A2.25 2.25 0 0021.75 5.25H2.25A2.25 2.25 0 000 7.5v9A2.25 2.25 0 002.25 18.75z"})]}),o0=()=>{const[t,e]=Ne.useState(!0),[n,r]=Ne.useState(""),[s,c]=Ne.useState(""),[d,h]=Ne.useState(!1),[m,p]=Ne.useState(null),y=async _=>{_.preventDefault(),h(!0),p(null);try{if(t){const{error:C}=await Vt.auth.signInWithPassword({email:n,password:s});if(C)throw C}else{const{error:C}=await Vt.auth.signUp({email:n,password:s,options:{emailRedirectTo:void 0}});if(C)throw C;p({type:"success",text:"Account created successfully! You can now sign in."}),e(!0)}}catch(C){p({type:"error",text:C.message})}finally{h(!1)}};return L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:L.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg border border-gray-700",children:[L.jsxs("div",{className:"text-center space-y-3",children:[L.jsx(Oa,{className:"mx-auto h-12 w-12 text-indigo-400"}),L.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-400",children:"Welcome to logodrop.io"}),L.jsxs("p",{className:"text-gray-400",children:[t?"Sign in to your account":"Create an account"," to start generating logos."]})]}),m&&L.jsx("div",{className:`p-4 rounded-md ${m.type==="success"?"bg-green-900/50 border border-green-700 text-green-300":"bg-red-900/50 border border-red-700 text-red-300"}`,children:m.text}),L.jsxs("form",{onSubmit:y,className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-2",children:"Email"}),L.jsx("input",{id:"email",type:"email",value:n,onChange:_=>r(_.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your email"})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-400 mb-2",children:"Password"}),L.jsx("input",{id:"password",type:"password",value:s,onChange:_=>c(_.target.value),required:!0,minLength:6,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-3 text-white placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your password"})]}),L.jsx("button",{type:"submit",disabled:d,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-md transition-colors duration-200",children:d?"Loading...":t?"Sign In":"Sign Up"})]}),L.jsx("div",{className:"text-center",children:L.jsx("button",{onClick:()=>{e(!t),p(null)},className:"text-indigo-400 hover:text-indigo-300 text-sm",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},xf=[{category:"Tech & Modern Brands",icon:"",styles:[{name:"Apple Style",description:"Minimalist, flat, sleek, monochrome"},{name:"Google Style",description:"Friendly, colorful, rounded, playful"},{name:"Tesla Style",description:"Futuristic, sharp lines, metallic"},{name:"Microsoft Style",description:"Clean, geometric, vibrant blocks of color"},{name:"Meta Style",description:"Simple, soft curves, futuristic fonts"},{name:"Adobe Style",description:"Abstract, bold shapes, professional"}]},{category:"Gaming Logos",icon:"",styles:[{name:"Brawl Stars Style",description:"Cartoonish, bold outlines, playful icons"},{name:"Fortnite Style",description:"Bold, stylized, youth-oriented, colorful"},{name:"League of Legends Style",description:"Fantasy, elegant serif fonts, ornate designs"},{name:"Valorant Style",description:"Minimalist, tactical, sharp shapes, red/black colors"},{name:"Minecraft Style",description:"Pixelated, blocky, retro aesthetic"},{name:"Overwatch Style",description:"Futuristic, clean, emblematic design"}]},{category:"Sports Logos",icon:"",styles:[{name:"NBA Style",description:"Bold letters, team mascots, dynamic poses"},{name:"NFL Style",description:"Shield/emblem shapes, traditional serif fonts"},{name:"MLS Style",description:"Simplified, clean, angled shapes, crest-based"},{name:"FIFA Style",description:"Globally appealing, crests, flag elements"},{name:"UFC Style",description:"Bold, aggressive, angular typography"},{name:"Olympic Style",description:"Clean, iconic, multi-color simplicity"}]},{category:"Corporate & Finance",icon:"",styles:[{name:"Goldman Sachs Style",description:"Conservative, serif fonts, blue tones"},{name:"Stripe Style",description:"Modern, minimalist, clean sans-serif"},{name:"Chase Bank Style",description:"Geometric icon, bold text, corporate blue"},{name:"Deloitte Style",description:"Simple text-based logo with accent dot"},{name:"PayPal Style",description:"Overlapping elements, italicized, friendly fonts"}]},{category:"Fashion & Lifestyle",icon:"",styles:[{name:"Nike Style",description:"Bold icon with emphasis on motion (swoosh)"},{name:"Adidas Style",description:"Geometric stripes, black and white"},{name:"Gucci Style",description:"Elegant serif, double-letter monogram"},{name:"Supreme Style",description:"Bold white text on red rectangle"},{name:"Chanel Style",description:"Classic monogram (double C), black and white"}]}];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let r0,i0;function s0(){return{geminiUrl:r0,vertexUrl:i0}}function l0(t,e,n,r){var s,c;if(!(t!=null&&t.baseUrl)){const d=s0();return e?(s=d.vertexUrl)!==null&&s!==void 0?s:n:(c=d.geminiUrl)!==null&&c!==void 0?c:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qn{}function j(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const c=e[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function a(t,e,n){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const m=t[h];if(Array.isArray(n))for(let p=0;p<m.length;p++){const y=m[p];a(y,e.slice(c+1),n[p])}else for(const p of m)a(p,e.slice(c+1),n)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const m=t[h];a(m[0],e.slice(c+1),n);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in t){const c=t[s];return Array.isArray(c)?c.map(d=>l(d,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sa(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Af;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Af||(Af={}));var If;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(If||(If={}));var _n;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(_n||(_n={}));var Pf;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Pf||(Pf={}));var Rf;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Rf||(Rf={}));var Mf;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Mf||(Mf={}));var Nf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nf||(Nf={}));var Df;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Df||(Df={}));var Lf;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Lf||(Lf={}));var Uf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Uf||(Uf={}));var Ff;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Ff||(Ff={}));var Vf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Vf||(Vf={}));var $f;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($f||($f={}));var Bf;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bf||(Bf={}));var qf;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(qf||(qf={}));var Gf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gf||(Gf={}));var es;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(es||(es={}));var Of;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Of||(Of={}));var Ea;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ea||(Ea={}));var Hf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hf||(Hf={}));var bf;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(bf||(bf={}));var zf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zf||(zf={}));var Jf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jf||(Jf={}));var Wf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Wf||(Wf={}));var Kf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Kf||(Kf={}));var Yf;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yf||(Yf={}));var Qf;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Qf||(Qf={}));var Xf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xf||(Xf={}));var Zf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Zf||(Zf={}));var jf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jf||(jf={}));var eh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eh||(eh={}));var th;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(th||(th={}));var nh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(nh||(nh={}));var oh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(oh||(oh={}));var rh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(rh||(rh={}));var ih;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ih||(ih={}));var sh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sh||(sh={}));var lh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(lh||(lh={}));var ah;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ah||(ah={}));var uh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uh||(uh={}));var ch;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ch||(ch={}));var xo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xo||(xo={}));class ka{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Er{get text(){var e,n,r,s,c,d,h,m;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",y=!1;const _=[];for(const C of(m=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[S,x]of Object.entries(C))S!=="text"&&S!=="thought"&&(x!==null||x!==void 0)&&_.push(S);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;y=!0,p+=C.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?p:void 0}get data(){var e,n,r,s,c,d,h,m;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const y=[];for(const _ of(m=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[C,S]of Object.entries(_))C!=="inlineData"&&(S!==null||S!==void 0)&&y.push(C);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,r,s,c,d,h,m;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,r,s,c,d,h,m,p;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(m=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(p=y==null?void 0:y[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,r,s,c,d,h,m,p;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(m=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(p=y==null?void 0:y[0])===null||p===void 0?void 0:p.output}}class dh{}class fh{}class a0{}class u0{}class hh{}class ph{}class mh{}class c0{}class gh{}class yh{}class vh{}class _h{}class d0{}class f0{}class h0{}class Ch{}class p0{get text(){var e,n,r;let s="",c=!1;const d=[];for(const h of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[m,p]of Object.entries(h))m!=="text"&&m!=="thought"&&p!==null&&d.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,s+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var e,n,r;let s="";const c=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,m]of Object.entries(d))h!=="inlineData"&&m!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class ts{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new ts;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const s=e.response;if(s){const c=new gh,d=s.videos;c.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Sa(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),c.raiMediaFilteredCount=s.raiMediaFilteredCount,c.raiMediaFilteredReasons=s.raiMediaFilteredReasons,r.response=c}}else{const s=e.response;if(s){const c=new gh,d=s.generateVideoResponse,h=d==null?void 0:d.generatedSamples;c.generatedVideos=h==null?void 0:h.map(m=>{const p=m.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Sa(p==null?void 0:p.encodedVideo):void 0,mimeType:m.encoding}}}),c.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,c.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,r.response=c}}return r}}class m0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ap(t,e){const n=_e(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function up(t){return Array.isArray(t)?t.map(e=>ns(e)):[ns(t)]}function ns(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function cp(t){const e=ns(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dp(t){const e=ns(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Th(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Th(e)):[Th(t)]}function xa(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function wh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Sh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function et(t){if(t==null)throw new Error("ContentUnion is required");return xa(t)?t:{role:"user",parts:fp(t)}}function hp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=et(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=et(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>et(n)):[et(e)]}function wt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(wh(t)||Sh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[et(t)]}const e=[],n=[],r=xa(t[0]);for(const s of t){const c=xa(s);if(c!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(s);else{if(wh(s)||Sh(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:fp(n)}),e}function g0(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(_n).includes(n[0].toUpperCase())?n[0].toUpperCase():_n.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(_n).includes(r.toUpperCase())?r.toUpperCase():_n.TYPE_UNSPECIFIED})}}function Ao(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&g0(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(_n).includes(h.toUpperCase())?h.toUpperCase():_n.TYPE_UNSPECIFIED}else if(n.includes(d))e[d]=Ao(h);else if(r.includes(d)){const m=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}m.push(Ao(p))}e[d]=m}else if(s.includes(d)){const m={};for(const[p,y]of Object.entries(h))m[p]=Ao(y);e[d]=m}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Ha(t){return Ao(t)}function ba(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function za(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function No(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ao(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ao(e.response));return t}function Do(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function y0(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function Yt(t,e){if(typeof e!="string")throw new Error("name must be a string");return y0(t,e,"cachedContents")}function pp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Gn(t){return Sa(t)}function v0(t){return t!=null&&typeof t=="object"&&"name"in t}function _0(t){return t!=null&&typeof t=="object"&&"video"in t}function C0(t){return t!=null&&typeof t=="object"&&"uri"in t}function mp(t){var e;let n;if(v0(t)&&(n=t.name),!(C0(t)&&(n=t.uri,n===void 0))&&!(_0(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function gp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function yp(t){for(const e of["models","tunedModels","publisherModels"])if(T0(t,e))return t[e];return[]}function T0(t,e){return t!==null&&typeof t=="object"&&e in t}function w0(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function S0(t,e={}){const n=[],r=new Set;for(const s of t){const c=s.name;if(r.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);r.add(c);const d=w0(s,e);d.functionDeclarations&&n.push(...d.functionDeclarations)}return{functionDeclarations:n}}function vp(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function E0(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Lo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function _p(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k0(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function x0(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function A0(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function I0(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],k0(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],x0(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],A0(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function Cp(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>I0(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function P0(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const r=l(t,["default"]);r!=null&&a(e,["default"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const c=l(t,["enum"]);c!=null&&a(e,["enum"],c);const d=l(t,["example"]);d!=null&&a(e,["example"],d);const h=l(t,["format"]);h!=null&&a(e,["format"],h);const m=l(t,["items"]);m!=null&&a(e,["items"],m);const p=l(t,["maxItems"]);p!=null&&a(e,["maxItems"],p);const y=l(t,["maxLength"]);y!=null&&a(e,["maxLength"],y);const _=l(t,["maxProperties"]);_!=null&&a(e,["maxProperties"],_);const C=l(t,["maximum"]);C!=null&&a(e,["maximum"],C);const S=l(t,["minItems"]);S!=null&&a(e,["minItems"],S);const x=l(t,["minLength"]);x!=null&&a(e,["minLength"],x);const R=l(t,["minProperties"]);R!=null&&a(e,["minProperties"],R);const N=l(t,["minimum"]);N!=null&&a(e,["minimum"],N);const q=l(t,["nullable"]);q!=null&&a(e,["nullable"],q);const O=l(t,["pattern"]);O!=null&&a(e,["pattern"],O);const D=l(t,["properties"]);D!=null&&a(e,["properties"],D);const B=l(t,["propertyOrdering"]);B!=null&&a(e,["propertyOrdering"],B);const H=l(t,["required"]);H!=null&&a(e,["required"],H);const J=l(t,["title"]);J!=null&&a(e,["title"],J);const Z=l(t,["type"]);return Z!=null&&a(e,["type"],Z),e}function R0(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&a(e,["category"],n);const r=l(t,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function M0(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const c=l(t,["parameters"]);c!=null&&a(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function N0(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function D0(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],N0(n)),e}function L0(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function U0(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],L0(n)),e}function F0(){return{}}function V0(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>M0(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],D0(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],U0(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],F0());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function $0(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function B0(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function q0(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],B0(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function G0(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],$0(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],q0(r)),e}function O0(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function Tp(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],O0(n)),e}function H0(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],Tp(r)),e}function b0(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>H0(s))),a(e,["speakerVoiceConfigs"],r)}return e}function z0(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],Tp(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],b0(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function J0(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const r=l(t,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function W0(t,e,n){const r={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],Cp(et(s)));const c=l(e,["temperature"]);c!=null&&a(r,["temperature"],c);const d=l(e,["topP"]);d!=null&&a(r,["topP"],d);const h=l(e,["topK"]);h!=null&&a(r,["topK"],h);const m=l(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=l(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const y=l(e,["stopSequences"]);y!=null&&a(r,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&a(r,["responseLogprobs"],_);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const S=l(e,["presencePenalty"]);S!=null&&a(r,["presencePenalty"],S);const x=l(e,["frequencyPenalty"]);x!=null&&a(r,["frequencyPenalty"],x);const R=l(e,["seed"]);R!=null&&a(r,["seed"],R);const N=l(e,["responseMimeType"]);N!=null&&a(r,["responseMimeType"],N);const q=l(e,["responseSchema"]);q!=null&&a(r,["responseSchema"],P0(Ha(q)));const O=l(e,["responseJsonSchema"]);if(O!=null&&a(r,["responseJsonSchema"],O),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=l(e,["safetySettings"]);if(n!==void 0&&D!=null){let ae=D;Array.isArray(ae)&&(ae=ae.map(De=>R0(De))),a(n,["safetySettings"],ae)}const B=l(e,["tools"]);if(n!==void 0&&B!=null){let ae=Do(B);Array.isArray(ae)&&(ae=ae.map(De=>V0(No(De)))),a(n,["tools"],ae)}const H=l(e,["toolConfig"]);if(n!==void 0&&H!=null&&a(n,["toolConfig"],G0(H)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=l(e,["cachedContent"]);n!==void 0&&J!=null&&a(n,["cachedContent"],Yt(t,J));const Z=l(e,["responseModalities"]);Z!=null&&a(r,["responseModalities"],Z);const ge=l(e,["mediaResolution"]);ge!=null&&a(r,["mediaResolution"],ge);const ne=l(e,["speechConfig"]);if(ne!=null&&a(r,["speechConfig"],z0(ba(ne))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=l(e,["thinkingConfig"]);return de!=null&&a(r,["thinkingConfig"],J0(de)),r}function K0(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["request","model"],_e(t,r));const s=l(e,["contents"]);if(s!=null){let d=wt(s);Array.isArray(d)&&(d=d.map(h=>Cp(h))),a(n,["request","contents"],d)}const c=l(e,["config"]);return c!=null&&a(n,["request","generationConfig"],W0(t,c,n)),n}function Y0(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&a(n,["fileName"],r);const s=l(e,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>K0(t,d))),a(n,["requests","requests"],c)}return n}function Q0(t,e){const n={},r=l(t,["displayName"]);if(e!==void 0&&r!=null&&a(e,["batch","displayName"],r),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function X0(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["src"]);s!=null&&a(n,["batch","inputConfig"],Y0(t,vp(t,s)));const c=l(e,["config"]);return c!=null&&a(n,["config"],Q0(c,n)),n}function Z0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Lo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function j0(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Lo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function e_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);if(e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function t_(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],e_(n,e)),e}function n_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Lo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function o_(t){const e={},n=l(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const r=l(t,["gcsUri"]);r!=null&&a(e,["gcsSource","uris"],r);const s=l(t,["bigqueryUri"]);if(s!=null&&a(e,["bigquerySource","inputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function r_(t){const e={},n=l(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const r=l(t,["gcsUri"]);r!=null&&a(e,["gcsDestination","outputUriPrefix"],r);const s=l(t,["bigqueryUri"]);if(s!=null&&a(e,["bigqueryDestination","outputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function i_(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const s=l(t,["dest"]);return e!==void 0&&s!=null&&a(e,["outputConfig"],r_(E0(s))),n}function s_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],_e(t,r));const s=l(e,["src"]);s!=null&&a(n,["inputConfig"],o_(vp(t,s)));const c=l(e,["config"]);return c!=null&&a(n,["config"],i_(c,n)),n}function l_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Lo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function a_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Lo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function u_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&a(e,["_query","filter"],c),n}function c_(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],u_(n,e)),e}function d_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Lo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function f_(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function h_(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function p_(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function m_(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],f_(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],h_(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],p_(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function g_(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>m_(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function y_(t){const e={},n=l(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function v_(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function __(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>v_(s))),a(e,["urlMetadata"],r)}return e}function C_(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],g_(n));const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],y_(r));const s=l(t,["tokenCount"]);s!=null&&a(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&a(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&a(e,["urlContextMetadata"],__(d));const h=l(t,["avgLogprobs"]);h!=null&&a(e,["avgLogprobs"],h);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=l(t,["index"]);p!=null&&a(e,["index"],p);const y=l(t,["logprobsResult"]);y!=null&&a(e,["logprobsResult"],y);const _=l(t,["safetyRatings"]);return _!=null&&a(e,["safetyRatings"],_),e}function T_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>C_(m))),a(e,["candidates"],h)}const s=l(t,["modelVersion"]);s!=null&&a(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&a(e,["promptFeedback"],c);const d=l(t,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function wp(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["code"]);r!=null&&a(e,["code"],r);const s=l(t,["message"]);return s!=null&&a(e,["message"],s),e}function w_(t){const e={},n=l(t,["response"]);n!=null&&a(e,["response"],T_(n));const r=l(t,["error"]);return r!=null&&a(e,["error"],wp(r)),e}function S_(t){const e={},n=l(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const r=l(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>w_(c))),a(e,["inlinedResponses"],s)}return e}function Aa(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["metadata","displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["metadata","state"]);s!=null&&a(e,["state"],_p(s));const c=l(t,["metadata","createTime"]);c!=null&&a(e,["createTime"],c);const d=l(t,["metadata","endTime"]);d!=null&&a(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&a(e,["updateTime"],h);const m=l(t,["metadata","model"]);m!=null&&a(e,["model"],m);const p=l(t,["metadata","output"]);return p!=null&&a(e,["dest"],S_(p)),e}function E_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Aa(d))),a(e,["batchJobs"],c)}return e}function k_(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["done"]);r!=null&&a(e,["done"],r);const s=l(t,["error"]);return s!=null&&a(e,["error"],wp(s)),e}function Sp(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["code"]);r!=null&&a(e,["code"],r);const s=l(t,["message"]);return s!=null&&a(e,["message"],s),e}function x_(t){const e={},n=l(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const r=l(t,["gcsSource","uris"]);r!=null&&a(e,["gcsUri"],r);const s=l(t,["bigquerySource","inputUri"]);return s!=null&&a(e,["bigqueryUri"],s),e}function A_(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const r=l(t,["gcsDestination","outputUriPrefix"]);r!=null&&a(e,["gcsUri"],r);const s=l(t,["bigqueryDestination","outputUri"]);return s!=null&&a(e,["bigqueryUri"],s),e}function Ia(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["state"]);s!=null&&a(e,["state"],_p(s));const c=l(t,["error"]);c!=null&&a(e,["error"],Sp(c));const d=l(t,["createTime"]);d!=null&&a(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&a(e,["startTime"],h);const m=l(t,["endTime"]);m!=null&&a(e,["endTime"],m);const p=l(t,["updateTime"]);p!=null&&a(e,["updateTime"],p);const y=l(t,["model"]);y!=null&&a(e,["model"],y);const _=l(t,["inputConfig"]);_!=null&&a(e,["src"],x_(_));const C=l(t,["outputConfig"]);return C!=null&&a(e,["dest"],A_(C)),e}function I_(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Ia(d))),a(e,["batchJobs"],c)}return e}function P_(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["done"]);r!=null&&a(e,["done"],r);const s=l(t,["error"]);return s!=null&&a(e,["error"],Sp(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $n;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})($n||($n={}));class Nr{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,c;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!r||Object.keys(r).length===0?d={config:{}}:typeof r=="object"?d=Object.assign({},r):d=r,d.config&&(d.config.pageToken=n.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_ extends qn{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Nr($n.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=s_(this.apiClient,e);return h=j("batchPredictionJobs",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Ia(y))}else{const p=X0(this.apiClient,e);return h=j("{model}:batchGenerateContent",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Aa(y))}}async get(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=l_(this.apiClient,e);return h=j("batchPredictionJobs/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Ia(y))}else{const p=Z0(this.apiClient,e);return h=j("batches/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Aa(y))}}async cancel(e){var n,r,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const m=a_(this.apiClient,e);d=j("batchPredictionJobs/{name}:cancel",m._url),h=m._query,delete m.config,delete m._url,delete m._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const m=j0(this.apiClient,e);d=j("batches/{name}:cancel",m._url),h=m._query,delete m.config,delete m._url,delete m._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=c_(e);return h=j("batchPredictionJobs",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=I_(y),C=new Ch;return Object.assign(C,_),C})}else{const p=t_(e);return h=j("batches",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=E_(y),C=new Ch;return Object.assign(C,_),C})}}async delete(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=d_(this.apiClient,e);return h=j("batchPredictionJobs/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>P_(y))}else{const p=n_(this.apiClient,e);return h=j("batches/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>k_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M_(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function N_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function D_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function L_(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],M_(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],N_(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],D_(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function Eh(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>L_(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function U_(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const c=l(t,["parameters"]);c!=null&&a(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function F_(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function V_(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],F_(n)),e}function $_(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function B_(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],$_(n)),e}function q_(){return{}}function G_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>U_(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],V_(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],B_(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],q_());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function O_(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function H_(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function b_(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],H_(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function z_(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],O_(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],b_(r)),e}function J_(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&a(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&a(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=wt(d);Array.isArray(y)&&(y=y.map(_=>Eh(_))),a(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&a(e,["systemInstruction"],Eh(et(h)));const m=l(t,["tools"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>G_(_))),a(e,["tools"],y)}const p=l(t,["toolConfig"]);if(e!==void 0&&p!=null&&a(e,["toolConfig"],z_(p)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function W_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],ap(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],J_(s,n)),n}function K_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Yt(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function Y_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Yt(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function Q_(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&a(e,["expireTime"],s),n}function X_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Yt(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],Q_(s,n)),n}function Z_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),n}function j_(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Z_(n,e)),e}function eC(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function tC(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function nC(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function oC(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],eC(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],tC(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],nC(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function kh(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>oC(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function rC(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&a(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&a(e,["responseJsonSchema"],h),e}function iC(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function sC(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],iC(n)),e}function lC(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function aC(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],lC(n)),e}function uC(){return{}}function cC(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function dC(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],cC(n));const r=l(t,["authType"]);r!=null&&a(e,["authType"],r);const s=l(t,["googleServiceAccountConfig"]);s!=null&&a(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&a(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&a(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&a(e,["oidcConfig"],h),e}function fC(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],dC(n)),e}function hC(){return{}}function pC(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(C=>rC(C))),a(e,["functionDeclarations"],_)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const s=l(t,["googleSearch"]);s!=null&&a(e,["googleSearch"],sC(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],aC(c)),l(t,["enterpriseWebSearch"])!=null&&a(e,["enterpriseWebSearch"],uC());const h=l(t,["googleMaps"]);h!=null&&a(e,["googleMaps"],fC(h)),l(t,["urlContext"])!=null&&a(e,["urlContext"],hC());const p=l(t,["codeExecution"]);p!=null&&a(e,["codeExecution"],p);const y=l(t,["computerUse"]);return y!=null&&a(e,["computerUse"],y),e}function mC(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function gC(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function yC(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],gC(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function vC(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],mC(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],yC(r)),e}function _C(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&a(e,["expireTime"],s);const c=l(t,["displayName"]);e!==void 0&&c!=null&&a(e,["displayName"],c);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let _=wt(d);Array.isArray(_)&&(_=_.map(C=>kh(C))),a(e,["contents"],_)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&a(e,["systemInstruction"],kh(et(h)));const m=l(t,["tools"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(C=>pC(C))),a(e,["tools"],_)}const p=l(t,["toolConfig"]);e!==void 0&&p!=null&&a(e,["toolConfig"],vC(p));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&a(e,["encryption_spec","kmsKeyName"],y),n}function CC(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],ap(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],_C(s,n)),n}function TC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Yt(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function wC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Yt(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function SC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&a(e,["expireTime"],s),n}function EC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],Yt(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],SC(s,n)),n}function kC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),n}function xC(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],kC(n,e)),e}function Qi(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["model"]);s!=null&&a(e,["model"],s);const c=l(t,["createTime"]);c!=null&&a(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&a(e,["expireTime"],h);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function AC(){return{}}function IC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Qi(d))),a(e,["cachedContents"],c)}return e}function Xi(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["model"]);s!=null&&a(e,["model"],s);const c=l(t,["createTime"]);c!=null&&a(e,["createTime"],c);const d=l(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&a(e,["expireTime"],h);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function PC(){return{}}function RC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Xi(d))),a(e,["cachedContents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MC extends qn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Nr($n.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=CC(this.apiClient,e);return h=j("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Xi(y))}else{const p=W_(this.apiClient,e);return h=j("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Qi(y))}}async get(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=TC(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Xi(y))}else{const p=K_(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Qi(y))}}async delete(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=wC(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(()=>{const y=PC(),_=new vh;return Object.assign(_,y),_})}else{const p=Y_(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(()=>{const y=AC(),_=new vh;return Object.assign(_,y),_})}}async update(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=EC(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Xi(y))}else{const p=X_(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Qi(y))}}async listInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=xC(e);return h=j("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=RC(y),C=new _h;return Object.assign(C,_),C})}else{const p=j_(e);return h=j("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=IC(y),C=new _h;return Object.assign(C,_),C})}}}function xh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(t){return this instanceof ke?(this.v=t,this):new ke(t)}function Io(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(S){return function(x){return Promise.resolve(x).then(S,_)}}function h(S,x){r[S]&&(s[S]=function(R){return new Promise(function(N,q){c.push([S,R,N,q])>1||m(S,R)})},x&&(s[S]=x(s[S])))}function m(S,x){try{p(r[S](x))}catch(R){C(c[0][3],R)}}function p(S){S.value instanceof ke?Promise.resolve(S.value.v).then(y,_):C(c[0][2],S)}function y(S){m("next",S)}function _(S){m("throw",S)}function C(S,x){S(x),c.shift(),c.length&&m(c[0][0],c[0][1])}}function Ir(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xh=="function"?xh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(c){n[c]=t[c]&&function(d){return new Promise(function(h,m){d=t[c](d),s(h,m,d.done,d.value)})}}function s(c,d,h,m){Promise.resolve(m).then(function(p){c({value:p,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Ep(n)}function Ep(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function DC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ah(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let c=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),c&&!Ep(t[r])&&(c=!1),r++;c?e.push(...s):e.pop()}return e}class LC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new UC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class UC{constructor(e,n,r,s={},c=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),DC(c)}async sendMessage(e){var n;await this.sendPromise;const r=et(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var c,d,h;const m=await s,p=(d=(c=m.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,y=m.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let C=[];y!=null&&(C=(h=y.slice(_))!==null&&h!==void 0?h:[]);const S=p?[p]:[];this.recordHistory(r,S,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=et(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,r)}getHistory(e=!1){const n=e?Ah(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return Io(this,arguments,function*(){var d,h,m,p;const y=[];try{for(var _=!0,C=Ir(e),S;S=yield ke(C.next()),d=S.done,!d;_=!0){p=S.value,_=!1;const x=p;if(NC(x)){const R=(s=(r=x.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;R!==void 0&&y.push(R)}yield yield ke(x)}}catch(x){h={error:x}}finally{try{!_&&!d&&(m=C.return)&&(yield ke(m.call(C)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(c=>c.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Ah(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,rs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),n}function VC(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],FC(n,e)),e}function $C(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["message"]);r!=null&&a(e,["message"],r);const s=l(t,["code"]);return s!=null&&a(e,["code"],s),e}function BC(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["mimeType"]);s!=null&&a(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&a(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&a(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&a(e,["expirationTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["sha256Hash"]);p!=null&&a(e,["sha256Hash"],p);const y=l(t,["uri"]);y!=null&&a(e,["uri"],y);const _=l(t,["downloadUri"]);_!=null&&a(e,["downloadUri"],_);const C=l(t,["state"]);C!=null&&a(e,["state"],C);const S=l(t,["source"]);S!=null&&a(e,["source"],S);const x=l(t,["videoMetadata"]);x!=null&&a(e,["videoMetadata"],x);const R=l(t,["error"]);return R!=null&&a(e,["error"],$C(R)),e}function qC(t){const e={},n=l(t,["file"]);n!=null&&a(e,["file"],BC(n));const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function GC(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","file"],mp(n));const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function OC(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","file"],mp(n));const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function HC(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["message"]);r!=null&&a(e,["message"],r);const s=l(t,["code"]);return s!=null&&a(e,["code"],s),e}function Pa(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["mimeType"]);s!=null&&a(e,["mimeType"],s);const c=l(t,["sizeBytes"]);c!=null&&a(e,["sizeBytes"],c);const d=l(t,["createTime"]);d!=null&&a(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&a(e,["expirationTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["sha256Hash"]);p!=null&&a(e,["sha256Hash"],p);const y=l(t,["uri"]);y!=null&&a(e,["uri"],y);const _=l(t,["downloadUri"]);_!=null&&a(e,["downloadUri"],_);const C=l(t,["state"]);C!=null&&a(e,["state"],C);const S=l(t,["source"]);S!=null&&a(e,["source"],S);const x=l(t,["videoMetadata"]);x!=null&&a(e,["videoMetadata"],x);const R=l(t,["error"]);return R!=null&&a(e,["error"],HC(R)),e}function bC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Pa(d))),a(e,["files"],c)}return e}function zC(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function JC(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends qn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Nr($n.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Pa(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=VC(e);return c=j("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=bC(m),y=new d0;return Object.assign(y,p),y})}}async createInternal(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qC(e);return c=j("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=zC(m),y=new f0;return Object.assign(y,p),y})}}async get(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GC(e);return c=j("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>Pa(m))}}async delete(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OC(e);return c=j("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(()=>{const m=JC(),p=new h0;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function kp(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],KC(n)),e}function YC(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],kp(r)),e}function QC(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>YC(s))),a(e,["speakerVoiceConfigs"],r)}return e}function XC(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],kp(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],QC(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function ZC(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function jC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function eT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function tT(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],ZC(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],jC(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],eT(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function nT(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>tT(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function oT(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const c=l(t,["parameters"]);c!=null&&a(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function rT(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function iT(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],rT(n)),e}function sT(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function lT(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],sT(n)),e}function aT(){return{}}function uT(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>oT(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],iT(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],lT(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],aT());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function cT(t){const e={},n=l(t,["handle"]);if(n!=null&&a(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ih(){return{}}function dT(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const r=l(t,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&a(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&a(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&a(e,["silenceDurationMs"],d),e}function fT(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],dT(n));const r=l(t,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const s=l(t,["turnCoverage"]);return s!=null&&a(e,["turnCoverage"],s),e}function hT(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function pT(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const r=l(t,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],hT(r)),e}function mT(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function gT(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","topK"],h);const m=l(t,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=l(t,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","seed"],y);const _=l(t,["speechConfig"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","speechConfig"],XC(za(_)));const C=l(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=l(t,["systemInstruction"]);e!==void 0&&S!=null&&a(e,["setup","systemInstruction"],nT(et(S)));const x=l(t,["tools"]);if(e!==void 0&&x!=null){let H=Do(x);Array.isArray(H)&&(H=H.map(J=>uT(No(J)))),a(e,["setup","tools"],H)}const R=l(t,["sessionResumption"]);e!==void 0&&R!=null&&a(e,["setup","sessionResumption"],cT(R));const N=l(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&a(e,["setup","inputAudioTranscription"],Ih());const q=l(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&a(e,["setup","outputAudioTranscription"],Ih());const O=l(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&a(e,["setup","realtimeInputConfig"],fT(O));const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&a(e,["setup","contextWindowCompression"],pT(D));const B=l(t,["proactivity"]);return e!==void 0&&B!=null&&a(e,["setup","proactivity"],mT(B)),n}function yT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],gT(s,n)),n}function vT(){return{}}function _T(){return{}}function CT(t){const e={},n=l(t,["media"]);n!=null&&a(e,["mediaChunks"],up(n));const r=l(t,["audio"]);r!=null&&a(e,["audio"],dp(r));const s=l(t,["audioStreamEnd"]);s!=null&&a(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&a(e,["video"],cp(c));const d=l(t,["text"]);return d!=null&&a(e,["text"],d),l(t,["activityStart"])!=null&&a(e,["activityStart"],vT()),l(t,["activityEnd"])!=null&&a(e,["activityEnd"],_T()),e}function xp(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["weight"]);return r!=null&&a(e,["weight"],r),e}function TT(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>xp(s))),a(e,["weightedPrompts"],r)}return e}function Ap(t){const e={},n=l(t,["temperature"]);n!=null&&a(e,["temperature"],n);const r=l(t,["topK"]);r!=null&&a(e,["topK"],r);const s=l(t,["seed"]);s!=null&&a(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&a(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&a(e,["bpm"],d);const h=l(t,["density"]);h!=null&&a(e,["density"],h);const m=l(t,["brightness"]);m!=null&&a(e,["brightness"],m);const p=l(t,["scale"]);p!=null&&a(e,["scale"],p);const y=l(t,["muteBass"]);y!=null&&a(e,["muteBass"],y);const _=l(t,["muteDrums"]);_!=null&&a(e,["muteDrums"],_);const C=l(t,["onlyBassAndDrums"]);return C!=null&&a(e,["onlyBassAndDrums"],C),e}function wT(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],Ap(n)),e}function Ip(t){const e={},n=l(t,["model"]);return n!=null&&a(e,["model"],n),e}function Pp(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>xp(s))),a(e,["weightedPrompts"],r)}return e}function Ra(t){const e={},n=l(t,["setup"]);n!=null&&a(e,["setup"],Ip(n));const r=l(t,["clientContent"]);r!=null&&a(e,["clientContent"],Pp(r));const s=l(t,["musicGenerationConfig"]);s!=null&&a(e,["musicGenerationConfig"],Ap(s));const c=l(t,["playbackControl"]);return c!=null&&a(e,["playbackControl"],c),e}function ST(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function ET(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],ST(n)),e}function kT(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],ET(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function xT(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function AT(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function IT(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function PT(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],xT(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],AT(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],IT(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function RT(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>PT(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function MT(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&a(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&a(e,["responseJsonSchema"],h),e}function NT(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function DT(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],NT(n)),e}function LT(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function UT(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],LT(n)),e}function FT(){return{}}function VT(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function $T(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],VT(n));const r=l(t,["authType"]);r!=null&&a(e,["authType"],r);const s=l(t,["googleServiceAccountConfig"]);s!=null&&a(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&a(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&a(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&a(e,["oidcConfig"],h),e}function BT(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],$T(n)),e}function qT(){return{}}function GT(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(C=>MT(C))),a(e,["functionDeclarations"],_)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const s=l(t,["googleSearch"]);s!=null&&a(e,["googleSearch"],DT(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],UT(c)),l(t,["enterpriseWebSearch"])!=null&&a(e,["enterpriseWebSearch"],FT());const h=l(t,["googleMaps"]);h!=null&&a(e,["googleMaps"],BT(h)),l(t,["urlContext"])!=null&&a(e,["urlContext"],qT());const p=l(t,["codeExecution"]);p!=null&&a(e,["codeExecution"],p);const y=l(t,["computerUse"]);return y!=null&&a(e,["computerUse"],y),e}function OT(t){const e={},n=l(t,["handle"]);n!=null&&a(e,["handle"],n);const r=l(t,["transparent"]);return r!=null&&a(e,["transparent"],r),e}function Ph(){return{}}function HT(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const r=l(t,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&a(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&a(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&a(e,["silenceDurationMs"],d),e}function bT(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],HT(n));const r=l(t,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const s=l(t,["turnCoverage"]);return s!=null&&a(e,["turnCoverage"],s),e}function zT(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function JT(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const r=l(t,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],zT(r)),e}function WT(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function KT(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","topK"],h);const m=l(t,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=l(t,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","seed"],y);const _=l(t,["speechConfig"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","speechConfig"],kT(za(_)));const C=l(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=l(t,["systemInstruction"]);e!==void 0&&S!=null&&a(e,["setup","systemInstruction"],RT(et(S)));const x=l(t,["tools"]);if(e!==void 0&&x!=null){let H=Do(x);Array.isArray(H)&&(H=H.map(J=>GT(No(J)))),a(e,["setup","tools"],H)}const R=l(t,["sessionResumption"]);e!==void 0&&R!=null&&a(e,["setup","sessionResumption"],OT(R));const N=l(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&a(e,["setup","inputAudioTranscription"],Ph());const q=l(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&a(e,["setup","outputAudioTranscription"],Ph());const O=l(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&a(e,["setup","realtimeInputConfig"],bT(O));const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&a(e,["setup","contextWindowCompression"],JT(D));const B=l(t,["proactivity"]);return e!==void 0&&B!=null&&a(e,["setup","proactivity"],WT(B)),n}function YT(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],KT(s,n)),n}function QT(){return{}}function XT(){return{}}function ZT(t){const e={},n=l(t,["media"]);n!=null&&a(e,["mediaChunks"],up(n));const r=l(t,["audio"]);r!=null&&a(e,["audio"],dp(r));const s=l(t,["audioStreamEnd"]);s!=null&&a(e,["audioStreamEnd"],s);const c=l(t,["video"]);c!=null&&a(e,["video"],cp(c));const d=l(t,["text"]);return d!=null&&a(e,["text"],d),l(t,["activityStart"])!=null&&a(e,["activityStart"],QT()),l(t,["activityEnd"])!=null&&a(e,["activityEnd"],XT()),e}function jT(){return{}}function ew(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function tw(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function nw(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function ow(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],ew(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],tw(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],nw(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function rw(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>ow(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function Rh(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["finished"]);return r!=null&&a(e,["finished"],r),e}function iw(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function sw(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>iw(s))),a(e,["urlMetadata"],r)}return e}function lw(t){const e={},n=l(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],rw(n));const r=l(t,["turnComplete"]);r!=null&&a(e,["turnComplete"],r);const s=l(t,["interrupted"]);s!=null&&a(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&a(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&a(e,["inputTranscription"],Rh(h));const m=l(t,["outputTranscription"]);m!=null&&a(e,["outputTranscription"],Rh(m));const p=l(t,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],sw(p)),e}function aw(t){const e={},n=l(t,["id"]);n!=null&&a(e,["id"],n);const r=l(t,["args"]);r!=null&&a(e,["args"],r);const s=l(t,["name"]);return s!=null&&a(e,["name"],s),e}function uw(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>aw(s))),a(e,["functionCalls"],r)}return e}function cw(t){const e={},n=l(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function Ki(t){const e={},n=l(t,["modality"]);n!=null&&a(e,["modality"],n);const r=l(t,["tokenCount"]);return r!=null&&a(e,["tokenCount"],r),e}function dw(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&a(e,["cachedContentTokenCount"],r);const s=l(t,["responseTokenCount"]);s!=null&&a(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&a(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&a(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&a(e,["totalTokenCount"],h);const m=l(t,["promptTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(S=>Ki(S))),a(e,["promptTokensDetails"],C)}const p=l(t,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(S=>Ki(S))),a(e,["cacheTokensDetails"],C)}const y=l(t,["responseTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>Ki(S))),a(e,["responseTokensDetails"],C)}const _=l(t,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(S=>Ki(S))),a(e,["toolUsePromptTokensDetails"],C)}return e}function fw(t){const e={},n=l(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function hw(t){const e={},n=l(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const r=l(t,["resumable"]);r!=null&&a(e,["resumable"],r);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&a(e,["lastConsumedClientMessageIndex"],s),e}function pw(t){const e={};l(t,["setupComplete"])!=null&&a(e,["setupComplete"],jT());const r=l(t,["serverContent"]);r!=null&&a(e,["serverContent"],lw(r));const s=l(t,["toolCall"]);s!=null&&a(e,["toolCall"],uw(s));const c=l(t,["toolCallCancellation"]);c!=null&&a(e,["toolCallCancellation"],cw(c));const d=l(t,["usageMetadata"]);d!=null&&a(e,["usageMetadata"],dw(d));const h=l(t,["goAway"]);h!=null&&a(e,["goAway"],fw(h));const m=l(t,["sessionResumptionUpdate"]);return m!=null&&a(e,["sessionResumptionUpdate"],hw(m)),e}function mw(){return{}}function gw(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["weight"]);return r!=null&&a(e,["weight"],r),e}function yw(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>gw(s))),a(e,["weightedPrompts"],r)}return e}function vw(t){const e={},n=l(t,["temperature"]);n!=null&&a(e,["temperature"],n);const r=l(t,["topK"]);r!=null&&a(e,["topK"],r);const s=l(t,["seed"]);s!=null&&a(e,["seed"],s);const c=l(t,["guidance"]);c!=null&&a(e,["guidance"],c);const d=l(t,["bpm"]);d!=null&&a(e,["bpm"],d);const h=l(t,["density"]);h!=null&&a(e,["density"],h);const m=l(t,["brightness"]);m!=null&&a(e,["brightness"],m);const p=l(t,["scale"]);p!=null&&a(e,["scale"],p);const y=l(t,["muteBass"]);y!=null&&a(e,["muteBass"],y);const _=l(t,["muteDrums"]);_!=null&&a(e,["muteDrums"],_);const C=l(t,["onlyBassAndDrums"]);return C!=null&&a(e,["onlyBassAndDrums"],C),e}function _w(t){const e={},n=l(t,["clientContent"]);n!=null&&a(e,["clientContent"],yw(n));const r=l(t,["musicGenerationConfig"]);return r!=null&&a(e,["musicGenerationConfig"],vw(r)),e}function Cw(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);r!=null&&a(e,["mimeType"],r);const s=l(t,["sourceMetadata"]);return s!=null&&a(e,["sourceMetadata"],_w(s)),e}function Tw(t){const e={},n=l(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Cw(s))),a(e,["audioChunks"],r)}return e}function ww(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["filteredReason"]);return r!=null&&a(e,["filteredReason"],r),e}function Sw(t){const e={};l(t,["setupComplete"])!=null&&a(e,["setupComplete"],mw());const r=l(t,["serverContent"]);r!=null&&a(e,["serverContent"],Tw(r));const s=l(t,["filteredPrompt"]);return s!=null&&a(e,["filteredPrompt"],ww(s)),e}function Ew(t){const e={},n=l(t,["sessionId"]);return n!=null&&a(e,["sessionId"],n),e}function kw(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function xw(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function Aw(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function Iw(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],kw(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],xw(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],Aw(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function Pw(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>Iw(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function Mh(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["finished"]);return r!=null&&a(e,["finished"],r),e}function Rw(t){const e={},n=l(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],Pw(n));const r=l(t,["turnComplete"]);r!=null&&a(e,["turnComplete"],r);const s=l(t,["interrupted"]);s!=null&&a(e,["interrupted"],s);const c=l(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const d=l(t,["generationComplete"]);d!=null&&a(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&a(e,["inputTranscription"],Mh(h));const m=l(t,["outputTranscription"]);return m!=null&&a(e,["outputTranscription"],Mh(m)),e}function Mw(t){const e={},n=l(t,["args"]);n!=null&&a(e,["args"],n);const r=l(t,["name"]);return r!=null&&a(e,["name"],r),e}function Nw(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Mw(s))),a(e,["functionCalls"],r)}return e}function Dw(t){const e={},n=l(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function Yi(t){const e={},n=l(t,["modality"]);n!=null&&a(e,["modality"],n);const r=l(t,["tokenCount"]);return r!=null&&a(e,["tokenCount"],r),e}function Lw(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&a(e,["cachedContentTokenCount"],r);const s=l(t,["candidatesTokenCount"]);s!=null&&a(e,["responseTokenCount"],s);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&a(e,["toolUsePromptTokenCount"],c);const d=l(t,["thoughtsTokenCount"]);d!=null&&a(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&a(e,["totalTokenCount"],h);const m=l(t,["promptTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(x=>Yi(x))),a(e,["promptTokensDetails"],S)}const p=l(t,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(x=>Yi(x))),a(e,["cacheTokensDetails"],S)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(x=>Yi(x))),a(e,["responseTokensDetails"],S)}const _=l(t,["toolUsePromptTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(x=>Yi(x))),a(e,["toolUsePromptTokensDetails"],S)}const C=l(t,["trafficType"]);return C!=null&&a(e,["trafficType"],C),e}function Uw(t){const e={},n=l(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function Fw(t){const e={},n=l(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const r=l(t,["resumable"]);r!=null&&a(e,["resumable"],r);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&a(e,["lastConsumedClientMessageIndex"],s),e}function Vw(t){const e={},n=l(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],Ew(n));const r=l(t,["serverContent"]);r!=null&&a(e,["serverContent"],Rw(r));const s=l(t,["toolCall"]);s!=null&&a(e,["toolCall"],Nw(s));const c=l(t,["toolCallCancellation"]);c!=null&&a(e,["toolCallCancellation"],Dw(c));const d=l(t,["usageMetadata"]);d!=null&&a(e,["usageMetadata"],Lw(d));const h=l(t,["goAway"]);h!=null&&a(e,["goAway"],Uw(h));const m=l(t,["sessionResumptionUpdate"]);return m!=null&&a(e,["sessionResumptionUpdate"],Fw(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $w(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function Bw(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function qw(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Gw(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],$w(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],Bw(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],qw(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function is(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>Gw(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function Ow(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const r=l(t,["default"]);r!=null&&a(e,["default"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const c=l(t,["enum"]);c!=null&&a(e,["enum"],c);const d=l(t,["example"]);d!=null&&a(e,["example"],d);const h=l(t,["format"]);h!=null&&a(e,["format"],h);const m=l(t,["items"]);m!=null&&a(e,["items"],m);const p=l(t,["maxItems"]);p!=null&&a(e,["maxItems"],p);const y=l(t,["maxLength"]);y!=null&&a(e,["maxLength"],y);const _=l(t,["maxProperties"]);_!=null&&a(e,["maxProperties"],_);const C=l(t,["maximum"]);C!=null&&a(e,["maximum"],C);const S=l(t,["minItems"]);S!=null&&a(e,["minItems"],S);const x=l(t,["minLength"]);x!=null&&a(e,["minLength"],x);const R=l(t,["minProperties"]);R!=null&&a(e,["minProperties"],R);const N=l(t,["minimum"]);N!=null&&a(e,["minimum"],N);const q=l(t,["nullable"]);q!=null&&a(e,["nullable"],q);const O=l(t,["pattern"]);O!=null&&a(e,["pattern"],O);const D=l(t,["properties"]);D!=null&&a(e,["properties"],D);const B=l(t,["propertyOrdering"]);B!=null&&a(e,["propertyOrdering"],B);const H=l(t,["required"]);H!=null&&a(e,["required"],H);const J=l(t,["title"]);J!=null&&a(e,["title"],J);const Z=l(t,["type"]);return Z!=null&&a(e,["type"],Z),e}function Hw(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&a(e,["category"],n);const r=l(t,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function bw(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const c=l(t,["parameters"]);c!=null&&a(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function zw(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function Jw(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],zw(n)),e}function Ww(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function Kw(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],Ww(n)),e}function Yw(){return{}}function Qw(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>bw(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],Jw(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],Kw(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],Yw());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function Xw(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function Zw(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function jw(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],Zw(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function eS(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],Xw(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],jw(r)),e}function tS(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function Rp(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],tS(n)),e}function nS(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],Rp(r)),e}function oS(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>nS(s))),a(e,["speakerVoiceConfigs"],r)}return e}function rS(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],Rp(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],oS(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function iS(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const r=l(t,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function sS(t,e,n){const r={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],is(et(s)));const c=l(e,["temperature"]);c!=null&&a(r,["temperature"],c);const d=l(e,["topP"]);d!=null&&a(r,["topP"],d);const h=l(e,["topK"]);h!=null&&a(r,["topK"],h);const m=l(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=l(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const y=l(e,["stopSequences"]);y!=null&&a(r,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&a(r,["responseLogprobs"],_);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const S=l(e,["presencePenalty"]);S!=null&&a(r,["presencePenalty"],S);const x=l(e,["frequencyPenalty"]);x!=null&&a(r,["frequencyPenalty"],x);const R=l(e,["seed"]);R!=null&&a(r,["seed"],R);const N=l(e,["responseMimeType"]);N!=null&&a(r,["responseMimeType"],N);const q=l(e,["responseSchema"]);q!=null&&a(r,["responseSchema"],Ow(Ha(q)));const O=l(e,["responseJsonSchema"]);if(O!=null&&a(r,["responseJsonSchema"],O),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=l(e,["safetySettings"]);if(n!==void 0&&D!=null){let ae=D;Array.isArray(ae)&&(ae=ae.map(De=>Hw(De))),a(n,["safetySettings"],ae)}const B=l(e,["tools"]);if(n!==void 0&&B!=null){let ae=Do(B);Array.isArray(ae)&&(ae=ae.map(De=>Qw(No(De)))),a(n,["tools"],ae)}const H=l(e,["toolConfig"]);if(n!==void 0&&H!=null&&a(n,["toolConfig"],eS(H)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=l(e,["cachedContent"]);n!==void 0&&J!=null&&a(n,["cachedContent"],Yt(t,J));const Z=l(e,["responseModalities"]);Z!=null&&a(r,["responseModalities"],Z);const ge=l(e,["mediaResolution"]);ge!=null&&a(r,["mediaResolution"],ge);const ne=l(e,["speechConfig"]);if(ne!=null&&a(r,["speechConfig"],rS(ba(ne))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=l(e,["thinkingConfig"]);return de!=null&&a(r,["thinkingConfig"],iS(de)),r}function Nh(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["contents"]);if(s!=null){let d=wt(s);Array.isArray(d)&&(d=d.map(h=>is(h))),a(n,["contents"],d)}const c=l(e,["config"]);return c!=null&&a(n,["generationConfig"],sS(t,c,n)),n}function lS(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&a(e,["requests[]","taskType"],r);const s=l(t,["title"]);e!==void 0&&s!=null&&a(e,["requests[]","title"],s);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&a(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["contents"]);s!=null&&a(n,["requests[]","content"],hp(t,s));const c=l(e,["config"]);c!=null&&a(n,["config"],lS(c,n));const d=l(e,["model"]);return d!==void 0&&a(n,["requests[]","model"],_e(t,d)),n}function uS(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&a(e,["parameters","aspectRatio"],s);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&a(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&a(e,["parameters","personGeneration"],h);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const y=l(t,["language"]);e!==void 0&&y!=null&&a(e,["parameters","language"],y);const _=l(t,["outputMimeType"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","mimeType"],_);const C=l(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&a(e,["parameters","outputOptions","compressionQuality"],C),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function cS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&a(n,["config"],uS(c,n)),n}function dS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function fS(t,e,n){const r={},s=l(e,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const c=l(e,["pageToken"]);n!==void 0&&c!=null&&a(n,["_query","pageToken"],c);const d=l(e,["filter"]);n!==void 0&&d!=null&&a(n,["_query","filter"],d);const h=l(e,["queryBase"]);return n!==void 0&&h!=null&&a(n,["_url","models_url"],gp(t,h)),r}function hS(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],fS(t,r,n)),n}function pS(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);e!==void 0&&s!=null&&a(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&a(e,["defaultCheckpointId"],c),n}function mS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],pS(s,n)),n}function gS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function yS(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["contents"]);if(s!=null){let d=wt(s);Array.isArray(d)&&(d=d.map(h=>is(h))),a(n,["contents"],d)}const c=l(e,["config"]);return c!=null&&a(n,["config"],yS(c)),n}function _S(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],Gn(n));const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function CS(t,e){const n={},r=l(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(t,["durationSeconds"]);if(e!==void 0&&s!=null&&a(e,["parameters","durationSeconds"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);if(e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c),l(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=l(t,["personGeneration"]);if(e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=l(t,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function TS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const c=l(e,["image"]);if(c!=null&&a(n,["instances[0]","image"],_S(c)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["config"]);return d!=null&&a(n,["config"],CS(d,n)),n}function wS(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function SS(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function ES(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function kS(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],wS(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],SS(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],ES(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function Uo(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>kS(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function xS(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const r=l(t,["default"]);r!=null&&a(e,["default"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const c=l(t,["enum"]);c!=null&&a(e,["enum"],c);const d=l(t,["example"]);d!=null&&a(e,["example"],d);const h=l(t,["format"]);h!=null&&a(e,["format"],h);const m=l(t,["items"]);m!=null&&a(e,["items"],m);const p=l(t,["maxItems"]);p!=null&&a(e,["maxItems"],p);const y=l(t,["maxLength"]);y!=null&&a(e,["maxLength"],y);const _=l(t,["maxProperties"]);_!=null&&a(e,["maxProperties"],_);const C=l(t,["maximum"]);C!=null&&a(e,["maximum"],C);const S=l(t,["minItems"]);S!=null&&a(e,["minItems"],S);const x=l(t,["minLength"]);x!=null&&a(e,["minLength"],x);const R=l(t,["minProperties"]);R!=null&&a(e,["minProperties"],R);const N=l(t,["minimum"]);N!=null&&a(e,["minimum"],N);const q=l(t,["nullable"]);q!=null&&a(e,["nullable"],q);const O=l(t,["pattern"]);O!=null&&a(e,["pattern"],O);const D=l(t,["properties"]);D!=null&&a(e,["properties"],D);const B=l(t,["propertyOrdering"]);B!=null&&a(e,["propertyOrdering"],B);const H=l(t,["required"]);H!=null&&a(e,["required"],H);const J=l(t,["title"]);J!=null&&a(e,["title"],J);const Z=l(t,["type"]);return Z!=null&&a(e,["type"],Z),e}function AS(t){const e={},n=l(t,["featureSelectionPreference"]);return n!=null&&a(e,["featureSelectionPreference"],n),e}function IS(t){const e={},n=l(t,["method"]);n!=null&&a(e,["method"],n);const r=l(t,["category"]);r!=null&&a(e,["category"],r);const s=l(t,["threshold"]);return s!=null&&a(e,["threshold"],s),e}function PS(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const c=l(t,["parametersJsonSchema"]);c!=null&&a(e,["parametersJsonSchema"],c);const d=l(t,["response"]);d!=null&&a(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&a(e,["responseJsonSchema"],h),e}function RS(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function MS(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],RS(n)),e}function NS(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function DS(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],NS(n)),e}function LS(){return{}}function US(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function FS(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],US(n));const r=l(t,["authType"]);r!=null&&a(e,["authType"],r);const s=l(t,["googleServiceAccountConfig"]);s!=null&&a(e,["googleServiceAccountConfig"],s);const c=l(t,["httpBasicAuthConfig"]);c!=null&&a(e,["httpBasicAuthConfig"],c);const d=l(t,["oauthConfig"]);d!=null&&a(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&a(e,["oidcConfig"],h),e}function VS(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],FS(n)),e}function $S(){return{}}function Mp(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(C=>PS(C))),a(e,["functionDeclarations"],_)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const s=l(t,["googleSearch"]);s!=null&&a(e,["googleSearch"],MS(s));const c=l(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],DS(c)),l(t,["enterpriseWebSearch"])!=null&&a(e,["enterpriseWebSearch"],LS());const h=l(t,["googleMaps"]);h!=null&&a(e,["googleMaps"],VS(h)),l(t,["urlContext"])!=null&&a(e,["urlContext"],$S());const p=l(t,["codeExecution"]);p!=null&&a(e,["codeExecution"],p);const y=l(t,["computerUse"]);return y!=null&&a(e,["computerUse"],y),e}function BS(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function qS(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function GS(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],qS(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function OS(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],BS(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],GS(r)),e}function HS(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function bS(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],HS(n)),e}function zS(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],bS(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function JS(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const r=l(t,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function WS(t,e,n){const r={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],Uo(et(s)));const c=l(e,["temperature"]);c!=null&&a(r,["temperature"],c);const d=l(e,["topP"]);d!=null&&a(r,["topP"],d);const h=l(e,["topK"]);h!=null&&a(r,["topK"],h);const m=l(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=l(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const y=l(e,["stopSequences"]);y!=null&&a(r,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&a(r,["responseLogprobs"],_);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const S=l(e,["presencePenalty"]);S!=null&&a(r,["presencePenalty"],S);const x=l(e,["frequencyPenalty"]);x!=null&&a(r,["frequencyPenalty"],x);const R=l(e,["seed"]);R!=null&&a(r,["seed"],R);const N=l(e,["responseMimeType"]);N!=null&&a(r,["responseMimeType"],N);const q=l(e,["responseSchema"]);q!=null&&a(r,["responseSchema"],xS(Ha(q)));const O=l(e,["responseJsonSchema"]);O!=null&&a(r,["responseJsonSchema"],O);const D=l(e,["routingConfig"]);D!=null&&a(r,["routingConfig"],D);const B=l(e,["modelSelectionConfig"]);B!=null&&a(r,["modelConfig"],AS(B));const H=l(e,["safetySettings"]);if(n!==void 0&&H!=null){let Fe=H;Array.isArray(Fe)&&(Fe=Fe.map(qe=>IS(qe))),a(n,["safetySettings"],Fe)}const J=l(e,["tools"]);if(n!==void 0&&J!=null){let Fe=Do(J);Array.isArray(Fe)&&(Fe=Fe.map(qe=>Mp(No(qe)))),a(n,["tools"],Fe)}const Z=l(e,["toolConfig"]);n!==void 0&&Z!=null&&a(n,["toolConfig"],OS(Z));const ge=l(e,["labels"]);n!==void 0&&ge!=null&&a(n,["labels"],ge);const ne=l(e,["cachedContent"]);n!==void 0&&ne!=null&&a(n,["cachedContent"],Yt(t,ne));const de=l(e,["responseModalities"]);de!=null&&a(r,["responseModalities"],de);const ae=l(e,["mediaResolution"]);ae!=null&&a(r,["mediaResolution"],ae);const De=l(e,["speechConfig"]);De!=null&&a(r,["speechConfig"],zS(ba(De)));const Ke=l(e,["audioTimestamp"]);Ke!=null&&a(r,["audioTimestamp"],Ke);const ot=l(e,["thinkingConfig"]);return ot!=null&&a(r,["thinkingConfig"],JS(ot)),r}function Dh(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["contents"]);if(s!=null){let d=wt(s);Array.isArray(d)&&(d=d.map(h=>Uo(h))),a(n,["contents"],d)}const c=l(e,["config"]);return c!=null&&a(n,["generationConfig"],WS(t,c,n)),n}function KS(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&a(e,["instances[]","task_type"],r);const s=l(t,["title"]);e!==void 0&&s!=null&&a(e,["instances[]","title"],s);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&a(e,["parameters","outputDimensionality"],c);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&a(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&a(e,["parameters","autoTruncate"],h),n}function YS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["contents"]);s!=null&&a(n,["instances[]","content"],hp(t,s));const c=l(e,["config"]);return c!=null&&a(n,["config"],KS(c,n)),n}function QS(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&a(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&a(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&a(e,["parameters","guidanceScale"],h);const m=l(t,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const p=l(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&a(e,["parameters","safetySetting"],p);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const _=l(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&a(e,["parameters","includeSafetyAttributes"],_);const C=l(t,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const S=l(t,["language"]);e!==void 0&&S!=null&&a(e,["parameters","language"],S);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&a(e,["parameters","outputOptions","mimeType"],x);const R=l(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&a(e,["parameters","outputOptions","compressionQuality"],R);const N=l(t,["addWatermark"]);e!==void 0&&N!=null&&a(e,["parameters","addWatermark"],N);const q=l(t,["imageSize"]);e!==void 0&&q!=null&&a(e,["parameters","sampleImageSize"],q);const O=l(t,["enhancePrompt"]);return e!==void 0&&O!=null&&a(e,["parameters","enhancePrompt"],O),n}function XS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const c=l(e,["config"]);return c!=null&&a(n,["config"],QS(c,n)),n}function ss(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const r=l(t,["imageBytes"]);r!=null&&a(e,["bytesBase64Encoded"],Gn(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function ZS(t){const e={},n=l(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const r=l(t,["segmentationClasses"]);r!=null&&a(e,["maskClasses"],r);const s=l(t,["maskDilation"]);return s!=null&&a(e,["dilation"],s),e}function jS(t){const e={},n=l(t,["controlType"]);n!=null&&a(e,["controlType"],n);const r=l(t,["enableControlImageComputation"]);return r!=null&&a(e,["computeControl"],r),e}function eE(t){const e={},n=l(t,["styleDescription"]);return n!=null&&a(e,["styleDescription"],n),e}function tE(t){const e={},n=l(t,["subjectType"]);n!=null&&a(e,["subjectType"],n);const r=l(t,["subjectDescription"]);return r!=null&&a(e,["subjectDescription"],r),e}function nE(t){const e={},n=l(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],ss(n));const r=l(t,["referenceId"]);r!=null&&a(e,["referenceId"],r);const s=l(t,["referenceType"]);s!=null&&a(e,["referenceType"],s);const c=l(t,["maskImageConfig"]);c!=null&&a(e,["maskImageConfig"],ZS(c));const d=l(t,["controlImageConfig"]);d!=null&&a(e,["controlImageConfig"],jS(d));const h=l(t,["styleImageConfig"]);h!=null&&a(e,["styleImageConfig"],eE(h));const m=l(t,["subjectImageConfig"]);return m!=null&&a(e,["subjectImageConfig"],tE(m)),e}function oE(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&a(e,["parameters","negativePrompt"],s);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&a(e,["parameters","sampleCount"],c);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&a(e,["parameters","guidanceScale"],h);const m=l(t,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const p=l(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&a(e,["parameters","safetySetting"],p);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const _=l(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&a(e,["parameters","includeSafetyAttributes"],_);const C=l(t,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const S=l(t,["language"]);e!==void 0&&S!=null&&a(e,["parameters","language"],S);const x=l(t,["outputMimeType"]);e!==void 0&&x!=null&&a(e,["parameters","outputOptions","mimeType"],x);const R=l(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&a(e,["parameters","outputOptions","compressionQuality"],R);const N=l(t,["addWatermark"]);e!==void 0&&N!=null&&a(e,["parameters","addWatermark"],N);const q=l(t,["editMode"]);e!==void 0&&q!=null&&a(e,["parameters","editMode"],q);const O=l(t,["baseSteps"]);return e!==void 0&&O!=null&&a(e,["parameters","editConfig","baseSteps"],O),n}function rE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const c=l(e,["referenceImages"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>nE(m))),a(n,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&a(n,["config"],oE(d,n)),n}function iE(t,e){const n={},r=l(t,["includeRaiReason"]);e!==void 0&&r!=null&&a(e,["parameters","includeRaiReason"],r);const s=l(t,["outputMimeType"]);e!==void 0&&s!=null&&a(e,["parameters","outputOptions","mimeType"],s);const c=l(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=l(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=l(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&a(e,["parameters","sampleCount"],m);const p=l(t,["mode"]);return e!==void 0&&p!=null&&a(e,["parameters","mode"],p),n}function sE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["image"]);s!=null&&a(n,["instances[0]","image"],ss(s));const c=l(e,["upscaleFactor"]);c!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],c);const d=l(e,["config"]);return d!=null&&a(n,["config"],iE(d,n)),n}function lE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function aE(t,e,n){const r={},s=l(e,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const c=l(e,["pageToken"]);n!==void 0&&c!=null&&a(n,["_query","pageToken"],c);const d=l(e,["filter"]);n!==void 0&&d!=null&&a(n,["_query","filter"],d);const h=l(e,["queryBase"]);return n!==void 0&&h!=null&&a(n,["_url","models_url"],gp(t,h)),r}function uE(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],aE(t,r,n)),n}function cE(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);e!==void 0&&s!=null&&a(e,["description"],s);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&a(e,["defaultCheckpointId"],c),n}function dE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],cE(s,n)),n}function fE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function hE(t,e){const n={},r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&a(e,["systemInstruction"],Uo(et(r)));const s=l(t,["tools"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>Mp(h))),a(e,["tools"],d)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&a(e,["generationConfig"],c),n}function pE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["contents"]);if(s!=null){let d=wt(s);Array.isArray(d)&&(d=d.map(h=>Uo(h))),a(n,["contents"],d)}const c=l(e,["config"]);return c!=null&&a(n,["config"],hE(c,n)),n}function mE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["contents"]);if(s!=null){let d=wt(s);Array.isArray(d)&&(d=d.map(h=>Uo(h))),a(n,["contents"],d)}const c=l(e,["config"]);return c!=null&&a(n,["config"],c),n}function gE(t){const e={},n=l(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const r=l(t,["videoBytes"]);r!=null&&a(e,["bytesBase64Encoded"],Gn(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function yE(t,e){const n={},r=l(t,["numberOfVideos"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&a(e,["parameters","storageUri"],s);const c=l(t,["fps"]);e!==void 0&&c!=null&&a(e,["parameters","fps"],c);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&a(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&a(e,["parameters","seed"],h);const m=l(t,["aspectRatio"]);e!==void 0&&m!=null&&a(e,["parameters","aspectRatio"],m);const p=l(t,["resolution"]);e!==void 0&&p!=null&&a(e,["parameters","resolution"],p);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const _=l(t,["pubsubTopic"]);e!==void 0&&_!=null&&a(e,["parameters","pubsubTopic"],_);const C=l(t,["negativePrompt"]);e!==void 0&&C!=null&&a(e,["parameters","negativePrompt"],C);const S=l(t,["enhancePrompt"]);e!==void 0&&S!=null&&a(e,["parameters","enhancePrompt"],S);const x=l(t,["generateAudio"]);e!==void 0&&x!=null&&a(e,["parameters","generateAudio"],x);const R=l(t,["lastFrame"]);e!==void 0&&R!=null&&a(e,["instances[0]","lastFrame"],ss(R));const N=l(t,["compressionQuality"]);return e!==void 0&&N!=null&&a(e,["parameters","compressionQuality"],N),n}function vE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],_e(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const c=l(e,["image"]);c!=null&&a(n,["instances[0]","image"],ss(c));const d=l(e,["video"]);d!=null&&a(n,["instances[0]","video"],gE(d));const h=l(e,["config"]);return h!=null&&a(n,["config"],yE(h,n)),n}function _E(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function CE(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function TE(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function wE(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],_E(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],CE(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],TE(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function SE(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>wE(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function EE(t){const e={},n=l(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function kE(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function xE(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>kE(s))),a(e,["urlMetadata"],r)}return e}function AE(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],SE(n));const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],EE(r));const s=l(t,["tokenCount"]);s!=null&&a(e,["tokenCount"],s);const c=l(t,["finishReason"]);c!=null&&a(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&a(e,["urlContextMetadata"],xE(d));const h=l(t,["avgLogprobs"]);h!=null&&a(e,["avgLogprobs"],h);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=l(t,["index"]);p!=null&&a(e,["index"],p);const y=l(t,["logprobsResult"]);y!=null&&a(e,["logprobsResult"],y);const _=l(t,["safetyRatings"]);return _!=null&&a(e,["safetyRatings"],_),e}function Lh(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>AE(m))),a(e,["candidates"],h)}const s=l(t,["modelVersion"]);s!=null&&a(e,["modelVersion"],s);const c=l(t,["promptFeedback"]);c!=null&&a(e,["promptFeedback"],c);const d=l(t,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function IE(t){const e={},n=l(t,["values"]);return n!=null&&a(e,["values"],n),e}function PE(){return{}}function RE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>IE(d))),a(e,["embeddings"],c)}return l(t,["metadata"])!=null&&a(e,["metadata"],PE()),e}function ME(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],Gn(n));const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Np(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const s=l(t,["contentType"]);return s!=null&&a(e,["contentType"],s),e}function NE(t){const e={},n=l(t,["_self"]);n!=null&&a(e,["image"],ME(n));const r=l(t,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const s=l(t,["_self"]);return s!=null&&a(e,["safetyAttributes"],Np(s)),e}function DE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>NE(d))),a(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&a(e,["positivePromptSafetyAttributes"],Np(s)),e}function LE(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const s=l(t,["updateTime"]);return s!=null&&a(e,["updateTime"],s),e}function Ma(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const c=l(t,["version"]);c!=null&&a(e,["version"],c);const d=l(t,["_self"]);d!=null&&a(e,["tunedModelInfo"],LE(d));const h=l(t,["inputTokenLimit"]);h!=null&&a(e,["inputTokenLimit"],h);const m=l(t,["outputTokenLimit"]);m!=null&&a(e,["outputTokenLimit"],m);const p=l(t,["supportedGenerationMethods"]);return p!=null&&a(e,["supportedActions"],p),e}function UE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["_self"]);if(s!=null){let c=yp(s);Array.isArray(c)&&(c=c.map(d=>Ma(d))),a(e,["models"],c)}return e}function FE(){return{}}function VE(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);r!=null&&a(e,["totalTokens"],r);const s=l(t,["cachedContentTokenCount"]);return s!=null&&a(e,["cachedContentTokenCount"],s),e}function $E(t){const e={},n=l(t,["video","uri"]);n!=null&&a(e,["uri"],n);const r=l(t,["video","encodedVideo"]);r!=null&&a(e,["videoBytes"],Gn(r));const s=l(t,["encoding"]);return s!=null&&a(e,["mimeType"],s),e}function BE(t){const e={},n=l(t,["_self"]);return n!=null&&a(e,["video"],$E(n)),e}function qE(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>BE(d))),a(e,["generatedVideos"],c)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&a(e,["raiMediaFilteredReasons"],s),e}function GE(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const s=l(t,["done"]);s!=null&&a(e,["done"],s);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const d=l(t,["response","generateVideoResponse"]);return d!=null&&a(e,["response"],qE(d)),e}function OE(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function HE(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function bE(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function zE(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],OE(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],HE(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],bE(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function JE(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>zE(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function WE(t){const e={},n=l(t,["citations"]);return n!=null&&a(e,["citations"],n),e}function KE(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function YE(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>KE(s))),a(e,["urlMetadata"],r)}return e}function QE(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],JE(n));const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],WE(r));const s=l(t,["finishMessage"]);s!=null&&a(e,["finishMessage"],s);const c=l(t,["finishReason"]);c!=null&&a(e,["finishReason"],c);const d=l(t,["urlContextMetadata"]);d!=null&&a(e,["urlContextMetadata"],YE(d));const h=l(t,["avgLogprobs"]);h!=null&&a(e,["avgLogprobs"],h);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=l(t,["index"]);p!=null&&a(e,["index"],p);const y=l(t,["logprobsResult"]);y!=null&&a(e,["logprobsResult"],y);const _=l(t,["safetyRatings"]);return _!=null&&a(e,["safetyRatings"],_),e}function Uh(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>QE(y))),a(e,["candidates"],p)}const s=l(t,["createTime"]);s!=null&&a(e,["createTime"],s);const c=l(t,["responseId"]);c!=null&&a(e,["responseId"],c);const d=l(t,["modelVersion"]);d!=null&&a(e,["modelVersion"],d);const h=l(t,["promptFeedback"]);h!=null&&a(e,["promptFeedback"],h);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function XE(t){const e={},n=l(t,["truncated"]);n!=null&&a(e,["truncated"],n);const r=l(t,["token_count"]);return r!=null&&a(e,["tokenCount"],r),e}function ZE(t){const e={},n=l(t,["values"]);n!=null&&a(e,["values"],n);const r=l(t,["statistics"]);return r!=null&&a(e,["statistics"],XE(r)),e}function jE(t){const e={},n=l(t,["billableCharacterCount"]);return n!=null&&a(e,["billableCharacterCount"],n),e}function ek(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions[]","embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>ZE(d))),a(e,["embeddings"],c)}const s=l(t,["metadata"]);return s!=null&&a(e,["metadata"],jE(s)),e}function tk(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["imageBytes"],Gn(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function Dp(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const s=l(t,["contentType"]);return s!=null&&a(e,["contentType"],s),e}function Ja(t){const e={},n=l(t,["_self"]);n!=null&&a(e,["image"],tk(n));const r=l(t,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const s=l(t,["_self"]);s!=null&&a(e,["safetyAttributes"],Dp(s));const c=l(t,["prompt"]);return c!=null&&a(e,["enhancedPrompt"],c),e}function nk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ja(d))),a(e,["generatedImages"],c)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&a(e,["positivePromptSafetyAttributes"],Dp(s)),e}function ok(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Ja(c))),a(e,["generatedImages"],s)}return e}function rk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Ja(c))),a(e,["generatedImages"],s)}return e}function ik(t){const e={},n=l(t,["endpoint"]);n!=null&&a(e,["name"],n);const r=l(t,["deployedModelId"]);return r!=null&&a(e,["deployedModelId"],r),e}function sk(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const s=l(t,["updateTime"]);return s!=null&&a(e,["updateTime"],s),e}function lk(t){const e={},n=l(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const r=l(t,["epoch"]);r!=null&&a(e,["epoch"],r);const s=l(t,["step"]);return s!=null&&a(e,["step"],s),e}function Na(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const c=l(t,["versionId"]);c!=null&&a(e,["version"],c);const d=l(t,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(C=>ik(C))),a(e,["endpoints"],_)}const h=l(t,["labels"]);h!=null&&a(e,["labels"],h);const m=l(t,["_self"]);m!=null&&a(e,["tunedModelInfo"],sk(m));const p=l(t,["defaultCheckpointId"]);p!=null&&a(e,["defaultCheckpointId"],p);const y=l(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(C=>lk(C))),a(e,["checkpoints"],_)}return e}function ak(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["_self"]);if(s!=null){let c=yp(s);Array.isArray(c)&&(c=c.map(d=>Na(d))),a(e,["models"],c)}return e}function uk(){return{}}function ck(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);return r!=null&&a(e,["totalTokens"],r),e}function dk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["tokensInfo"]);return r!=null&&a(e,["tokensInfo"],r),e}function fk(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["videoBytes"],Gn(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function hk(t){const e={},n=l(t,["_self"]);return n!=null&&a(e,["video"],fk(n)),e}function pk(t){const e={},n=l(t,["videos"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>hk(d))),a(e,["generatedVideos"],c)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&a(e,["raiMediaFilteredReasons"],s),e}function mk(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const s=l(t,["done"]);s!=null&&a(e,["done"],s);const c=l(t,["error"]);c!=null&&a(e,["error"],c);const d=l(t,["response"]);return d!=null&&a(e,["response"],pk(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gk="Content-Type",yk="X-Server-Timeout",vk="User-Agent",Da="x-goog-api-client",_k="1.12.0",Ck=`google-genai-sdk/${_k}`,Tk="v1beta1",wk="v1beta",Fh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Sk{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Tk,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wk,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))s.searchParams.append(d,String(h));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,n,e.abortSignal),this.unaryApiCall(s,c,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,c]of Object.entries(n))typeof c=="object"?r[s]=Object.assign(Object.assign({},r[s]),c):c!==void 0&&(r[s]=c);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,n,e.abortSignal),this.streamApiCall(s,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const s=new AbortController,c=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>s.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=c}return n&&n.extraBody!==null&&Ek(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Vh(s),new ka(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await Vh(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return Io(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:m}=yield ke(s.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=c.decode(m,{stream:!0});try{const _=JSON.parse(p);if("error"in _){const C=JSON.parse(JSON.stringify(_.error)),S=C.status,x=C.code,R=`got status: ${S}. ${JSON.stringify(_)}`;if(x>=400&&x<600)throw new rs({message:R,status:x})}}catch(_){if(_.name==="ApiError")throw _}d+=p;let y=d.match(Fh);for(;y;){const _=y[1];try{const C=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ke(new ka(C)),d=d.slice(y[0].length),y=d.match(Fh)}catch(C){throw new Error(`exception parsing stream chunk ${_}. ${C}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Ck+" "+this.clientOptions.userAgentExtra;return e[vk]=n,e[Da]=n,e[gk]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))n.append(r,s);e.timeout&&e.timeout>0&&n.append(yk,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);s.sizeBytes=String(d.size);const h=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const m=await this.fetchUploadUrl(s,n);return c.upload(e,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},d=await this.request({path:j("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:s});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(r=d==null?void 0:d.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Vh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new rs({message:s,status:n}):new Error(s)}}function Ek(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))n=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(c,d){const h=Object.assign({},c);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m)){const p=d[m],y=h[m];p&&typeof p=="object"&&!Array.isArray(p)&&y&&typeof y=="object"&&!Array.isArray(y)?h[m]=r(y,p):(y&&p&&typeof y!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof y}, New type: ${typeof p}. Overwriting.`),h[m]=p)}return h}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kk="mcp_used/unknown";let xk=!1;function Lp(t){for(const e of t)if(Ak(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xk}function Up(t){var e;const n=(e=t[Da])!==null&&e!==void 0?e:"";t[Da]=(n+` ${kk}`).trimStart()}function Ak(t){return t!==null&&typeof t=="object"&&t instanceof Wa}function Ik(t,e=100){return Io(this,arguments,function*(){let r,s=0;for(;s<e;){const c=yield ke(t.listTools({cursor:r}));for(const d of c.tools)yield yield ke(d),s++;if(!c.nextCursor)break;r=c.nextCursor}})}class Wa{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Wa(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const c={},d=[];for(const y of this.mcpClients)try{for(var h=!0,m=(n=void 0,Ir(Ik(y))),p;p=await m.next(),e=p.done,!e;h=!0){s=p.value,h=!1;const _=s;d.push(_);const C=_.name;if(c[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);c[C]=y}}catch(_){n={error:_}}finally{try{!h&&!e&&(r=m.return)&&await r.call(m)}finally{if(n)throw n.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),S0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await s.callTool({name:r.name,arguments:r.args},void 0,c);n.push({functionResponse:{name:r.name,response:d.isError?{error:d}:d}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Pk(t,e,n){const r=new m0;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const c=Sw(s);Object.assign(r,c),e(r)}class Rk{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=Dk(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),m=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const y=new Promise(D=>{p=D}),_=e.callbacks,C=function(){p({})},S=this.apiClient,x={onopen:C,onmessage:D=>{Pk(S,_.onmessage,D)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(D){}},R=this.webSocketFactory.create(m,Nk(d),x);R.connect(),await y;const N=_e(this.apiClient,e.model),q=Ip({model:N}),O=Ra({setup:q});return R.send(JSON.stringify(O)),new Mk(R,this.apiClient)}}class Mk{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=TT(e),r=Pp(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=wT(e),r=Ra(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=Ra({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xo.PLAY)}pause(){this.sendPlaybackControl(xo.PAUSE)}stop(){this.sendPlaybackControl(xo.STOP)}resetContext(){this.sendPlaybackControl(xo.RESET_CONTEXT)}close(){this.conn.close()}}function Nk(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Dk(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lk="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Uk(t,e,n){const r=new p0;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const c=JSON.parse(s);if(t.isVertexAI()){const d=Vw(c);Object.assign(r,d)}else{const d=pw(c);Object.assign(r,d)}e(r)}class Fk{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Rk(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,c,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Lp(e.config.tools)&&Up(_);const C=qk(_);if(this.apiClient.isVertexAI())y=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const ne=this.apiClient.getApiKey();let de="BidiGenerateContent",ae="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",ae="access_token"),y=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${de}?${ae}=${ne}`}let S=()=>{};const x=new Promise(ne=>{S=ne}),R=e.callbacks,N=function(){var ne;(ne=R==null?void 0:R.onopen)===null||ne===void 0||ne.call(R),S({})},q=this.apiClient,O={onopen:N,onmessage:ne=>{Uk(q,R.onmessage,ne)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(ne){},onclose:(r=R==null?void 0:R.onclose)!==null&&r!==void 0?r:function(ne){}},D=this.webSocketFactory.create(y,Bk(C),O);D.connect(),await x;let B=_e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const ne=this.apiClient.getProject(),de=this.apiClient.getLocation();B=`projects/${ne}/locations/${de}/`+B}let H={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[es.AUDIO]}:e.config.responseModalities=[es.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],Z=[];for(const ne of J)if(this.isCallableTool(ne)){const de=ne;Z.push(await de.tool())}else Z.push(ne);Z.length>0&&(e.config.tools=Z);const ge={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=YT(this.apiClient,ge):H=yT(this.apiClient,ge),delete H.config,D.send(JSON.stringify(H)),new $k(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Vk={turnComplete:!0};class $k{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=wt(n.turns),e.isVertexAI()?r=r.map(s=>Uo(s)):r=r.map(s=>is(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const c of r){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(Lk)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Vk),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZT(e)}:n={realtimeInput:CT(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Bk(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function qk(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $h=10;function Bh(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const d of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Po(d)){s=!0;break}if(!s)return!0;const c=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Po(t){return"callTool"in t&&typeof t.callTool=="function"}function Gk(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Po(s)))!==null&&r!==void 0?r:!1}function Ok(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!Po(s)))!==null&&r!==void 0?r:!1}function qh(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hk extends qn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,c,d,h;const m=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Gk(n)||Bh(n.config))return await this.generateContentInternal(m);if(Ok(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,y;const _=wt(m.contents),C=(c=(s=(r=m.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:$h;let S=0;for(;S<C&&(p=await this.generateContentInternal(m),!(!p.functionCalls||p.functionCalls.length===0));){const x=p.candidates[0].content,R=[];for(const N of(h=(d=n.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Po(N)){const O=await N.callTool(p.functionCalls);R.push(...O)}S++,y={role:"user",parts:R},m.contents=wt(m.contents),m.contents.push(x),m.contents.push(y),qh(m.config)&&(_.push(x),_.push(y))}return qh(m.config)&&(p.automaticFunctionCallingHistory=_),p},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Bh(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let c;const d=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((s=m==null?void 0:m.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=m==null?void 0:m.safetyAttributes:d.push(m);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:r.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:r.sdkHttpResponse},h}),this.list=async n=>{var r;const d={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((r=d.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Nr($n.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const c=(n=e.config)===null||n===void 0?void 0:n.tools;if(!c)return e;const d=await Promise.all(c.map(async m=>Po(m)?await m.tool():m)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&Lp(e.config.tools)){const m=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Up(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var n,r,s;const c=new Map;for(const d of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Po(d)){const h=d,m=await h.tool();for(const p of(s=m.functionDeclarations)!==null&&s!==void 0?s:[]){if(!p.name)throw new Error("Function declaration name is required.");if(c.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);c.set(p.name,h)}}return c}async processAfcStream(e){var n,r,s;const c=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:$h;let d=!1,h=0;const m=await this.initAfcToolsMap(e);return function(p,y,_){var C,S;return Io(this,arguments,function*(){for(var x,R,N,q;h<c;){d&&(h++,d=!1);const H=yield ke(p.processParamsMaybeAddMcpUsage(_)),J=yield ke(p.generateContentStreamInternal(H)),Z=[],ge=[];try{for(var O=!0,D=(R=void 0,Ir(J)),B;B=yield ke(D.next()),x=B.done,!x;O=!0){q=B.value,O=!1;const ne=q;if(yield yield ke(ne),ne.candidates&&(!((C=ne.candidates[0])===null||C===void 0)&&C.content)){ge.push(ne.candidates[0].content);for(const de of(S=ne.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(h<c&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(de.functionCall.name)){const ae=yield ke(y.get(de.functionCall.name).callTool([de.functionCall]));Z.push(...ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(ne){R={error:ne}}finally{try{!O&&!x&&(N=D.return)&&(yield ke(N.call(D)))}finally{if(R)throw R.error}}if(Z.length>0){d=!0;const ne=new Er;ne.candidates=[{content:{role:"user",parts:Z}}],yield yield ke(ne);const de=[];de.push(...ge),de.push({role:"user",parts:Z});const ae=wt(_.contents).concat(de);_.contents=ae}else break}})}(this,m,e)}async generateContentInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=Dh(this.apiClient,e);return h=j("{model}:generateContent",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Uh(y),C=new Er;return Object.assign(C,_),C})}else{const p=Nh(this.apiClient,e);return h=j("{model}:generateContent",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Lh(y),C=new Er;return Object.assign(C,_),C})}}async generateContentStreamInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=Dh(this.apiClient,e);return h=j("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),d.then(function(_){return Io(this,arguments,function*(){var C,S,x,R;try{for(var N=!0,q=Ir(_),O;O=yield ke(q.next()),C=O.done,!C;N=!0){R=O.value,N=!1;const D=R,B=Uh(yield ke(D.json()));B.sdkHttpResponse={headers:D.headers};const H=new Er;Object.assign(H,B),yield yield ke(H)}}catch(D){S={error:D}}finally{try{!N&&!C&&(x=q.return)&&(yield ke(x.call(q)))}finally{if(S)throw S.error}}})})}else{const p=Nh(this.apiClient,e);return h=j("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(_){return Io(this,arguments,function*(){var C,S,x,R;try{for(var N=!0,q=Ir(_),O;O=yield ke(q.next()),C=O.done,!C;N=!0){R=O.value,N=!1;const D=R,B=Lh(yield ke(D.json()));B.sdkHttpResponse={headers:D.headers};const H=new Er;Object.assign(H,B),yield yield ke(H)}}catch(D){S={error:D}}finally{try{!N&&!C&&(x=q.return)&&(yield ke(x.call(q)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=YS(this.apiClient,e);return h=j("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=ek(y),C=new dh;return Object.assign(C,_),C})}else{const p=aS(this.apiClient,e);return h=j("{model}:batchEmbedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=RE(y),C=new dh;return Object.assign(C,_),C})}}async generateImagesInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=XS(this.apiClient,e);return h=j("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=nk(y),C=new fh;return Object.assign(C,_),C})}else{const p=cS(this.apiClient,e);return h=j("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=DE(y),C=new fh;return Object.assign(C,_),C})}}async editImageInternal(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=rE(this.apiClient,e);return c=j("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=ok(m),y=new a0;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=sE(this.apiClient,e);return c=j("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=rk(m),y=new u0;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=lE(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Na(y))}else{const p=dS(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Ma(y))}}async listInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=uE(this.apiClient,e);return h=j("{models_url}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=ak(y),C=new hh;return Object.assign(C,_),C})}else{const p=hS(this.apiClient,e);return h=j("{models_url}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=UE(y),C=new hh;return Object.assign(C,_),C})}}async update(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=dE(this.apiClient,e);return h=j("{model}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Na(y))}else{const p=mS(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>Ma(y))}}async delete(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=fE(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(()=>{const y=uk(),_=new ph;return Object.assign(_,y),_})}else{const p=gS(this.apiClient,e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(()=>{const y=FE(),_=new ph;return Object.assign(_,y),_})}}async countTokens(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=pE(this.apiClient,e);return h=j("{model}:countTokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=ck(y),C=new mh;return Object.assign(C,_),C})}else{const p=vS(this.apiClient,e);return h=j("{model}:countTokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=VE(y),C=new mh;return Object.assign(C,_),C})}}async computeTokens(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=mE(this.apiClient,e);return c=j("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=dk(m),y=new c0;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=vE(this.apiClient,e);return h=j("{model}:predictLongRunning",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>{const _=mk(y),C=new ts;return Object.assign(C,_),C})}else{const p=TS(this.apiClient,e);return h=j("{model}:predictLongRunning",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d.then(y=>{const _=GE(y),C=new ts;return Object.assign(C,_),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bk(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function zk(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function Jk(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["operationName"],n);const r=l(t,["resourceName"]);r!=null&&a(e,["_url","resourceName"],r);const s=l(t,["config"]);return s!=null&&a(e,["config"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wk extends qn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:c}});return n._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let c;r&&"httpOptions"in r&&(c=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:c}});return n._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=zk(e);return h=j("{operationName}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d}else{const p=bk(e);return h=j("{operationName}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=Jk(e);return c=j("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kk(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function Fp(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],Kk(n)),e}function Yk(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],Fp(r)),e}function Qk(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Yk(s))),a(e,["speakerVoiceConfigs"],r)}return e}function Xk(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],Fp(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],Qk(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function Zk(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function jk(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function ex(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function tx(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],Zk(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],jk(s));const c=l(t,["fileData"]);c!=null&&a(e,["fileData"],ex(c));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function nx(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(c=>tx(c))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function ox(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const c=l(t,["parameters"]);c!=null&&a(e,["parameters"],c);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function rx(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function ix(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],rx(n)),e}function sx(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function lx(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],sx(n)),e}function ax(){return{}}function ux(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>ox(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],ix(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],lx(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],ax());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function cx(t){const e={},n=l(t,["handle"]);if(n!=null&&a(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Gh(){return{}}function dx(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const r=l(t,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&a(e,["endOfSpeechSensitivity"],s);const c=l(t,["prefixPaddingMs"]);c!=null&&a(e,["prefixPaddingMs"],c);const d=l(t,["silenceDurationMs"]);return d!=null&&a(e,["silenceDurationMs"],d),e}function fx(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],dx(n));const r=l(t,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const s=l(t,["turnCoverage"]);return s!=null&&a(e,["turnCoverage"],s),e}function hx(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function px(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const r=l(t,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],hx(r)),e}function mx(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function gx(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","responseModalities"],s);const c=l(t,["temperature"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","temperature"],c);const d=l(t,["topP"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","topK"],h);const m=l(t,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=l(t,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","seed"],y);const _=l(t,["speechConfig"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","speechConfig"],Xk(za(_)));const C=l(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],C);const S=l(t,["systemInstruction"]);e!==void 0&&S!=null&&a(e,["setup","systemInstruction"],nx(et(S)));const x=l(t,["tools"]);if(e!==void 0&&x!=null){let H=Do(x);Array.isArray(H)&&(H=H.map(J=>ux(No(J)))),a(e,["setup","tools"],H)}const R=l(t,["sessionResumption"]);e!==void 0&&R!=null&&a(e,["setup","sessionResumption"],cx(R));const N=l(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&a(e,["setup","inputAudioTranscription"],Gh());const q=l(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&a(e,["setup","outputAudioTranscription"],Gh());const O=l(t,["realtimeInputConfig"]);e!==void 0&&O!=null&&a(e,["setup","realtimeInputConfig"],fx(O));const D=l(t,["contextWindowCompression"]);e!==void 0&&D!=null&&a(e,["setup","contextWindowCompression"],px(D));const B=l(t,["proactivity"]);return e!==void 0&&B!=null&&a(e,["setup","proactivity"],mx(B)),n}function yx(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],_e(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],gx(s,n)),n}function vx(t,e,n){const r={},s=l(e,["expireTime"]);n!==void 0&&s!=null&&a(n,["expireTime"],s);const c=l(e,["newSessionExpireTime"]);n!==void 0&&c!=null&&a(n,["newSessionExpireTime"],c);const d=l(e,["uses"]);n!==void 0&&d!=null&&a(n,["uses"],d);const h=l(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&a(n,["bidiGenerateContentSetup"],yx(t,h));const m=l(e,["lockAdditionalFields"]);return n!==void 0&&m!=null&&a(n,["fieldMask"],m),r}function _x(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],vx(t,r,n)),n}function Cx(t){const e={},n=l(t,["name"]);return n!=null&&a(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tx(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(c=>`${n}.${c}`);e.push(...s)}else e.push(n)}return e.join(",")}function wx(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const c=r.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,n=c):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const c=Tx(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(p=>d.includes(p)?`generationConfig.${p}`:p));const m=[];c&&m.push(c),h.length>0&&m.push(...h),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class Sx extends qn{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=_x(this.apiClient,e);c=j("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const m=wx(h,e.config);return s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>Cx(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ex(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function kx(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&a(e,["_query","filter"],c),n}function xx(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],kx(n,e)),e}function Ax(t){const e={},n=l(t,["textInput"]);n!=null&&a(e,["textInput"],n);const r=l(t,["output"]);return r!=null&&a(e,["output"],r),e}function Ix(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=l(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Ax(s))),a(e,["examples","examples"],r)}return e}function Px(t,e){const n={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(t,["epochCount"]);e!==void 0&&s!=null&&a(e,["tuningTask","hyperparameters","epochCount"],s);const c=l(t,["learningRateMultiplier"]);if(c!=null&&a(n,["tuningTask","hyperparameters","learningRateMultiplier"],c),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&a(e,["tuningTask","hyperparameters","learningRate"],h),n}function Rx(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["trainingDataset"]);r!=null&&a(e,["tuningTask","trainingData"],Ix(r));const s=l(t,["config"]);return s!=null&&a(e,["config"],Px(s,e)),e}function Mx(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function Nx(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const c=l(t,["filter"]);return e!==void 0&&c!=null&&a(e,["_query","filter"],c),n}function Dx(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Nx(n,e)),e}function Lx(t,e){const n={},r=l(t,["gcsUri"]);e!==void 0&&r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],r);const s=l(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],s),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Ux(t,e){const n={},r=l(t,["gcsUri"]);r!=null&&a(n,["validationDatasetUri"],r);const s=l(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],s),n}function Fx(t,e){const n={},r=l(t,["validationDataset"]);e!==void 0&&r!=null&&a(e,["supervisedTuningSpec"],Ux(r,n));const s=l(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&a(e,["tunedModelDisplayName"],s);const c=l(t,["description"]);e!==void 0&&c!=null&&a(e,["description"],c);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const m=l(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m);const p=l(t,["adapterSize"]);if(e!==void 0&&p!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Vx(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["trainingDataset"]);r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],Lx(r,e));const s=l(t,["config"]);return s!=null&&a(e,["config"],Fx(s,e)),e}function $x(t){const e={},n=l(t,["name"]);n!=null&&a(e,["model"],n);const r=l(t,["name"]);return r!=null&&a(e,["endpoint"],r),e}function Vp(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["state"]);s!=null&&a(e,["state"],pp(s));const c=l(t,["createTime"]);c!=null&&a(e,["createTime"],c);const d=l(t,["tuningTask","startTime"]);d!=null&&a(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&a(e,["endTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["description"]);p!=null&&a(e,["description"],p);const y=l(t,["baseModel"]);y!=null&&a(e,["baseModel"],y);const _=l(t,["_self"]);_!=null&&a(e,["tunedModel"],$x(_));const C=l(t,["distillationSpec"]);C!=null&&a(e,["distillationSpec"],C);const S=l(t,["experiment"]);S!=null&&a(e,["experiment"],S);const x=l(t,["labels"]);x!=null&&a(e,["labels"],x);const R=l(t,["pipelineJob"]);R!=null&&a(e,["pipelineJob"],R);const N=l(t,["satisfiesPzi"]);N!=null&&a(e,["satisfiesPzi"],N);const q=l(t,["satisfiesPzs"]);q!=null&&a(e,["satisfiesPzs"],q);const O=l(t,["serviceAccount"]);O!=null&&a(e,["serviceAccount"],O);const D=l(t,["tunedModelDisplayName"]);return D!=null&&a(e,["tunedModelDisplayName"],D),e}function Bx(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["tunedModels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Vp(d))),a(e,["tuningJobs"],c)}return e}function qx(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["metadata"]);s!=null&&a(e,["metadata"],s);const c=l(t,["done"]);c!=null&&a(e,["done"],c);const d=l(t,["error"]);return d!=null&&a(e,["error"],d),e}function Gx(t){const e={},n=l(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const r=l(t,["epoch"]);r!=null&&a(e,["epoch"],r);const s=l(t,["step"]);s!=null&&a(e,["step"],s);const c=l(t,["endpoint"]);return c!=null&&a(e,["endpoint"],c),e}function Ox(t){const e={},n=l(t,["model"]);n!=null&&a(e,["model"],n);const r=l(t,["endpoint"]);r!=null&&a(e,["endpoint"],r);const s=l(t,["checkpoints"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Gx(d))),a(e,["checkpoints"],c)}return e}function La(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["state"]);s!=null&&a(e,["state"],pp(s));const c=l(t,["createTime"]);c!=null&&a(e,["createTime"],c);const d=l(t,["startTime"]);d!=null&&a(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&a(e,["endTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["error"]);p!=null&&a(e,["error"],p);const y=l(t,["description"]);y!=null&&a(e,["description"],y);const _=l(t,["baseModel"]);_!=null&&a(e,["baseModel"],_);const C=l(t,["tunedModel"]);C!=null&&a(e,["tunedModel"],Ox(C));const S=l(t,["supervisedTuningSpec"]);S!=null&&a(e,["supervisedTuningSpec"],S);const x=l(t,["tuningDataStats"]);x!=null&&a(e,["tuningDataStats"],x);const R=l(t,["encryptionSpec"]);R!=null&&a(e,["encryptionSpec"],R);const N=l(t,["partnerModelTuningSpec"]);N!=null&&a(e,["partnerModelTuningSpec"],N);const q=l(t,["distillationSpec"]);q!=null&&a(e,["distillationSpec"],q);const O=l(t,["experiment"]);O!=null&&a(e,["experiment"],O);const D=l(t,["labels"]);D!=null&&a(e,["labels"],D);const B=l(t,["pipelineJob"]);B!=null&&a(e,["pipelineJob"],B);const H=l(t,["satisfiesPzi"]);H!=null&&a(e,["satisfiesPzi"],H);const J=l(t,["satisfiesPzs"]);J!=null&&a(e,["satisfiesPzs"],J);const Z=l(t,["serviceAccount"]);Z!=null&&a(e,["serviceAccount"],Z);const ge=l(t,["tunedModelDisplayName"]);return ge!=null&&a(e,["tunedModelDisplayName"],ge),e}function Hx(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["tuningJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>La(d))),a(e,["tuningJobs"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bx extends qn{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Nr($n.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:Ea.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=Mx(e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>La(y))}else{const p=Ex(e);return h=j("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>Vp(y))}}async listInternal(e){var n,r,s,c;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=Dx(e);return h=j("tuningJobs",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Hx(y),C=new yh;return Object.assign(C,_),C})}else{const p=xx(e);return h=j("tunedModels",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Bx(y),C=new yh;return Object.assign(C,_),C})}}async tuneInternal(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=Vx(e);return c=j("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>La(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Rx(e);return c=j("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>qx(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zx{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Jx=1024*1024*8,Wx=3,Kx=1e3,Yx=2,fa="x-goog-upload-status";async function Qx(t,e,n){var r,s,c;let d=0,h=0,m=new ka(new Response),p="upload";for(d=t.size;h<d;){const _=Math.min(Jx,d-h),C=t.slice(h,h+_);h+_>=d&&(p+=", finalize");let S=0,x=Kx;for(;S<Wx&&(m=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(_)}}}),!(!((r=m==null?void 0:m.headers)===null||r===void 0)&&r[fa]));)S++,await Zx(x),x=x*Yx;if(h+=_,((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s[fa])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(m==null?void 0:m.json());if(((c=m==null?void 0:m.headers)===null||c===void 0?void 0:c[fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function Xx(t){return{size:t.size,type:t.type}}function Zx(t){return new Promise(e=>setTimeout(e,t))}class jx{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qx(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Xx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eA{create(e,n,r){return new tA(e,n,r)}}class tA{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oh="x-goog-api-key";class nA{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Oh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Oh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA="gl-node/";class rA{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=l0(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new nA(this.apiKey);this.apiClient=new Sk({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:oA+"web",uploader:new jx,downloader:new zx}),this.models=new Hk(this.apiClient),this.live=new Fk(this.apiClient,s,new eA),this.batches=new R_(this.apiClient),this.chats=new LC(this.models,this.apiClient),this.caches=new MC(this.apiClient),this.files=new WC(this.apiClient),this.operations=new Wk(this.apiClient),this.authTokens=new Sx(this.apiClient),this.tunings=new bx(this.apiClient)}}const iA="AIzaSyAynXbxIWJc5hcDBeCMDef1gzMoYqKzLBk",sA=new rA({apiKey:iA});async function lA(t,e,n){const r=`A professional logo for a brand named '${t}'.
The logo should be a visual representation of: '${e}'.
Style: ${n.name} - ${n.description}.
The logo must be a simple, modern, vector-style icon.
It should be on a clean, solid, flat white background.
Do not include any text in the logo.
The image should show ONLY the logo itself, not presented on a business card, building sign, or any other mockup.
The design should be centered and high-quality.`;try{const s=await sA.models.generateImages({model:"imagen-3.0-generate-002",prompt:r,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"1:1"}});if(!s.generatedImages||s.generatedImages.length===0||!s.generatedImages[0].image.imageBytes)throw new Error("Image generation failed, the API did not return an image.");return{imageUrl:`data:image/jpeg;base64,${s.generatedImages[0].image.imageBytes}`}}catch(s){throw console.error("Error generating logo with Gemini API:",s),s instanceof Error?new Error(`Gemini API Error: ${s.message}`):new Error("An unexpected error occurred during generation.")}}const aA=({categories:t,selectedStyle:e,onSelectStyle:n})=>L.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 max-h-[400px] overflow-y-auto",children:L.jsx("div",{className:"space-y-4",children:t.map(r=>L.jsxs("div",{children:[L.jsx("h3",{className:"text-base font-semibold text-gray-300 mb-2",children:`${r.icon} ${r.category}`}),L.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:r.styles.map(s=>L.jsx("button",{onClick:()=>n(s),title:s.description,className:`w-full p-2 text-left rounded-md text-sm transition-all duration-200 ${e.name===s.name?"bg-indigo-600 text-white font-semibold ring-2 ring-indigo-400":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:s.name},s.name))})]},r.category))})}),uA=({image:t,isLoading:e})=>L.jsxs("div",{className:"aspect-square w-full bg-gray-800 border-2 border-dashed border-gray-700 rounded-lg flex items-center justify-center p-2 relative overflow-hidden",children:[e&&L.jsx("div",{className:"absolute inset-0 bg-gray-900/50 flex items-center justify-center z-10",children:L.jsx("div",{className:"w-16 h-16 border-4 border-indigo-400 border-t-transparent rounded-full animate-spin"})}),!e&&!t&&L.jsxs("div",{className:"text-center text-gray-500",children:[L.jsx(jv,{className:"mx-auto h-12 w-12 text-gray-600"}),L.jsx("p",{className:"mt-2 text-sm",children:"Your generated logo will appear here"})]}),t&&L.jsx("img",{src:t,alt:"Generated Logo",className:"w-full h-full object-contain rounded-md"})]}),cA=[{id:"prod_SoK7pzibgfQJYX",priceId:"price_1RshTbAF5erC52b9ajjtOEYZ",name:"50 Logo Credits",description:"Get 50 credits to generate professional logos with AI",price:5,currency:"EUR",mode:"payment"}],dA=()=>{const[t,e]=Ne.useState(!1),[n,r]=Ne.useState(null),s=cA.find(d=>d.name==="50 Logo Credits"),c=async()=>{if(!s){r("Product not found");return}e(!0),r(null);try{const{data:{session:d}}=await Vt.auth.getSession();if(!d)throw new Error("Not authenticated");const{data:h,error:m}=await Vt.functions.invoke("stripe-checkout",{body:{price_id:s.priceId,mode:s.mode,success_url:`${window.location.origin}?checkout_status=success`,cancel_url:window.location.origin},headers:{Authorization:`Bearer ${d.access_token}`}});if(m)throw m;if(h.url)window.location.href=h.url;else throw new Error("Could not retrieve the checkout URL.")}catch(d){console.error("Checkout error:",d),r(d.message||"Failed to start checkout. Please try again."),e(!1)}};return L.jsxs("div",{className:"mt-4 text-center p-4 bg-gray-800 border border-indigo-500 rounded-lg shadow-lg",children:[L.jsx("h3",{className:"text-lg font-bold text-white",children:"You're Out of Credits!"}),L.jsx("p",{className:"text-gray-400 mt-1 mb-4",children:"Purchase more to continue creating amazing logos."}),L.jsx("button",{onClick:c,disabled:t,className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-md transition-all duration-300 transform active:scale-95",children:t?"Redirecting to payment...":L.jsxs(L.Fragment,{children:[L.jsx(n0,{className:"h-5 w-5"}),"Buy 50 Credits for ",(s==null?void 0:s.price)||5]})}),n&&L.jsx("p",{className:"text-red-400 mt-2 text-sm",children:n})]})};function fA({credits:t,onGenerationSuccess:e}){const[n,r]=Ne.useState("Aura"),[s,c]=Ne.useState("A stylized phoenix rising"),[d,h]=Ne.useState(xf[0].styles[0]),[m,p]=Ne.useState(null),[y,_]=Ne.useState(null),[C,S]=Ne.useState(!1),[x,R]=Ne.useState(null),N=Ne.useCallback(async()=>{if(t===0){R("You are out of credits. Please purchase more to continue.");return}if(!s||!n||!d){R("Please fill out all fields and select a style.");return}S(!0),R(null),p(null),_(null);try{const{imageUrl:D}=await lA(n,s,d);p(D),_(n),await e()}catch(D){R(D instanceof Error?D.message:"An unknown error occurred.")}finally{S(!1)}},[s,n,d,t,e]),q=Ne.useCallback(()=>{if(!m||!y)return;const D=document.createElement("a");D.href=m,D.download=`${y.toLowerCase().replace(/\s+/g,"-")}-logo.jpeg`,document.body.appendChild(D),D.click(),document.body.removeChild(D)},[m,y]),O=!C&&!!n&&!!s&&t!==null&&t>0;return L.jsx("main",{className:"container mx-auto p-4 md:p-8",children:L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[L.jsxs("div",{className:"flex flex-col gap-6",children:[L.jsxs("div",{children:[L.jsx("label",{htmlFor:"brandName",className:"block text-sm font-medium text-gray-400 mb-2",children:"1. What is your brand name?"}),L.jsx("input",{id:"brandName",type:"text",value:n,onChange:D=>r(D.target.value),placeholder:"e.g., Aura, Phoenix, Nova",className:"w-full bg-gray-800 border border-gray-700 rounded-md p-3 text-white placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),L.jsxs("div",{children:[L.jsx("label",{htmlFor:"logoPrompt",className:"block text-sm font-medium text-gray-400 mb-2",children:"2. What should your logo look like?"}),L.jsx("input",{id:"logoPrompt",type:"text",value:s,onChange:D=>c(D.target.value),placeholder:"e.g., a minimal wolf head, a tech startup brain icon",className:"w-full bg-gray-800 border border-gray-700 rounded-md p-3 text-white placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"3. Choose a style"}),L.jsx(aA,{categories:xf,selectedStyle:d,onSelectStyle:h})]}),L.jsxs("div",{children:[L.jsx("button",{onClick:N,disabled:!O,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-md transition-all duration-300 transform active:scale-95",children:C?L.jsxs(L.Fragment,{children:[L.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[L.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),L.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):L.jsxs(L.Fragment,{children:[L.jsx(Xv,{className:"h-5 w-5"}),"Generate Logo (1 Credit)"]})}),t===0&&L.jsx(dA,{})]})]}),L.jsxs("div",{className:"flex flex-col",children:[L.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"4. Your result"}),x&&L.jsxs("div",{className:"bg-red-900/50 border border-red-700 text-red-300 p-4 rounded-md mb-4 flex items-center gap-3",children:[L.jsx(Zv,{className:"h-6 w-6"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-bold",children:"Generation Failed"}),L.jsx("p",{className:"text-sm",children:x})]})]}),L.jsx(uA,{image:m,isLoading:C}),!C&&m&&y&&L.jsxs("div",{className:"mt-6 text-center",children:[L.jsx("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:L.jsx("h2",{className:"text-3xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-400",children:y})}),L.jsx("div",{className:"mt-4",children:L.jsxs("button",{onClick:q,className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md transition-all duration-300 transform active:scale-95",children:[L.jsx(e0,{className:"h-5 w-5"}),"Download Logo"]})})]})]})]})})}const hA=({session:t,credits:e})=>{const n=async()=>{await Vt.auth.signOut()};return L.jsx("header",{className:"py-4 px-4 md:px-8 border-b border-gray-800",children:L.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(Oa,{className:"h-8 w-8 text-indigo-400"}),L.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-400",children:"logodrop.io"})]}),L.jsxs("div",{className:"flex items-center gap-4",children:[e!==null&&L.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-md",children:[L.jsx(t0,{className:"h-5 w-5 text-yellow-400"}),L.jsxs("span",{className:"text-white font-medium text-sm",children:[e," Credits"]})]}),L.jsx("span",{className:"text-gray-400 text-sm hidden md:block",children:t.user.email}),L.jsx("button",{onClick:n,className:"bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 text-sm",children:"Sign Out"})]})]})})},pA=({onContinue:t})=>L.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:L.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg border border-gray-700 text-center",children:[L.jsxs("div",{className:"space-y-4",children:[L.jsx("div",{className:"mx-auto w-16 h-16 bg-green-600 rounded-full flex items-center justify-center",children:L.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),L.jsx(Oa,{className:"mx-auto h-12 w-12 text-indigo-400"}),L.jsx("h1",{className:"text-3xl font-bold text-white",children:"Payment Successful!"}),L.jsx("p",{className:"text-gray-400",children:"Your credits have been added to your account. You can now continue generating amazing logos."})]}),L.jsx("button",{onClick:t,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-md transition-colors duration-200",children:"Continue to Logo Generator"})]})});function mA(){const[t,e]=Ne.useState(null),[n,r]=Ne.useState(null),[s,c]=Ne.useState(!0),[d,h]=Ne.useState(!1),m=async y=>{try{const{data:_,error:C}=await Vt.from("profiles").select("credits").eq("id",y.user.id).single();C&&console.error("Error fetching profile:",C.message),r((_==null?void 0:_.credits)??null)}catch(_){console.error("An unexpected error occurred fetching profile:",_),r(null)}};Ne.useEffect(()=>{c(!0);const{data:{subscription:y}}=Vt.auth.onAuthStateChange(async(S,x)=>{e(x),x?await m(x):r(null),c(!1)});new URLSearchParams(window.location.search).get("checkout_status")==="success"&&(h(!0),Vt.auth.getSession().then(({data:{session:S}})=>{S&&m(S)}),window.history.replaceState({},document.title,window.location.pathname));const C=()=>{Vt.auth.getSession().then(({data:{session:S}})=>{S&&m(S)})};return window.addEventListener("focus",C),()=>{y.unsubscribe(),window.removeEventListener("focus",C)}},[]);const p=async()=>{if(t)try{const{data:y,error:_}=await Vt.rpc("decrement_credits",{user_id:t.user.id});if(_)throw new Error(`Failed to decrement credits: ${_.message}`);typeof y=="number"&&r(y)}catch(y){console.error(y)}};return s?null:d?L.jsx(pA,{onContinue:()=>h(!1)}):t?L.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans",children:[L.jsx(hA,{session:t,credits:n}),L.jsx(fA,{credits:n,onGenerationSuccess:p},t.user.id),L.jsx("footer",{className:"text-center p-4 text-gray-500 text-sm",children:L.jsx("p",{children:"Powered by Gemini. Secured by Supabase."})})]}):L.jsx(o0,{})}const $p=document.getElementById("root");if(!$p)throw new Error("Could not find root element to mount to");const gA=Jg.createRoot($p);gA.render(L.jsx(Bg.StrictMode,{children:L.jsx(mA,{})}));
