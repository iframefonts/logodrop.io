(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();function au(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function T0(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ta={exports:{}},Br={},Ea={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function E0(){if(gf)return he;gf=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function I(R,V,fe){this.props=R,this.context=V,this.refs=A,this.updater=fe||w}I.prototype.isReactComponent={},I.prototype.setState=function(R,V){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,V,"setState")},I.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function L(){}L.prototype=I.prototype;function F(R,V,fe){this.props=R,this.context=V,this.refs=A,this.updater=fe||w}var M=F.prototype=new L;M.constructor=F,E(M,I.prototype),M.isPureReactComponent=!0;var $=Array.isArray,b=Object.prototype.hasOwnProperty,q={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function ue(R,V,fe){var pe,_e={},Ce=null,Ie=null;if(V!=null)for(pe in V.ref!==void 0&&(Ie=V.ref),V.key!==void 0&&(Ce=""+V.key),V)b.call(V,pe)&&!W.hasOwnProperty(pe)&&(_e[pe]=V[pe]);var Ee=arguments.length-2;if(Ee===1)_e.children=fe;else if(1<Ee){for(var Le=Array(Ee),yt=0;yt<Ee;yt++)Le[yt]=arguments[yt+2];_e.children=Le}if(R&&R.defaultProps)for(pe in Ee=R.defaultProps,Ee)_e[pe]===void 0&&(_e[pe]=Ee[pe]);return{$$typeof:t,type:R,key:Ce,ref:Ie,props:_e,_owner:q.current}}function j(R,V){return{$$typeof:t,type:R.type,key:V,ref:R.ref,props:R.props,_owner:R._owner}}function ne(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function oe(R){var V={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(fe){return V[fe]})}var we=/\/+/g;function Fe(R,V){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):V.toString(36)}function Ve(R,V,fe,pe,_e){var Ce=typeof R;(Ce==="undefined"||Ce==="boolean")&&(R=null);var Ie=!1;if(R===null)Ie=!0;else switch(Ce){case"string":case"number":Ie=!0;break;case"object":switch(R.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=R,_e=_e(Ie),R=pe===""?"."+Fe(Ie,0):pe,$(_e)?(fe="",R!=null&&(fe=R.replace(we,"$&/")+"/"),Ve(_e,V,fe,"",function(yt){return yt})):_e!=null&&(ne(_e)&&(_e=j(_e,fe+(!_e.key||Ie&&Ie.key===_e.key?"":(""+_e.key).replace(we,"$&/")+"/")+R)),V.push(_e)),1;if(Ie=0,pe=pe===""?".":pe+":",$(R))for(var Ee=0;Ee<R.length;Ee++){Ce=R[Ee];var Le=pe+Fe(Ce,Ee);Ie+=Ve(Ce,V,fe,Le,_e)}else if(Le=C(R),typeof Le=="function")for(R=Le.call(R),Ee=0;!(Ce=R.next()).done;)Ce=Ce.value,Le=pe+Fe(Ce,Ee++),Ie+=Ve(Ce,V,fe,Le,_e);else if(Ce==="object")throw V=String(R),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ie}function ge(R,V,fe){if(R==null)return R;var pe=[],_e=0;return Ve(R,pe,"","",function(Ce){return V.call(fe,Ce,_e++)}),pe}function ye(R){if(R._status===-1){var V=R._result;V=V(),V.then(function(fe){(R._status===0||R._status===-1)&&(R._status=1,R._result=fe)},function(fe){(R._status===0||R._status===-1)&&(R._status=2,R._result=fe)}),R._status===-1&&(R._status=0,R._result=V)}if(R._status===1)return R._result.default;throw R._result}var Te={current:null},J={transition:null},se={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:J,ReactCurrentOwner:q};function Y(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:ge,forEach:function(R,V,fe){ge(R,function(){V.apply(this,arguments)},fe)},count:function(R){var V=0;return ge(R,function(){V++}),V},toArray:function(R){return ge(R,function(V){return V})||[]},only:function(R){if(!ne(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},he.Component=I,he.Fragment=n,he.Profiler=s,he.PureComponent=F,he.StrictMode=r,he.Suspense=m,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,he.act=Y,he.cloneElement=function(R,V,fe){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var pe=E({},R.props),_e=R.key,Ce=R.ref,Ie=R._owner;if(V!=null){if(V.ref!==void 0&&(Ce=V.ref,Ie=q.current),V.key!==void 0&&(_e=""+V.key),R.type&&R.type.defaultProps)var Ee=R.type.defaultProps;for(Le in V)b.call(V,Le)&&!W.hasOwnProperty(Le)&&(pe[Le]=V[Le]===void 0&&Ee!==void 0?Ee[Le]:V[Le])}var Le=arguments.length-2;if(Le===1)pe.children=fe;else if(1<Le){Ee=Array(Le);for(var yt=0;yt<Le;yt++)Ee[yt]=arguments[yt+2];pe.children=Ee}return{$$typeof:t,type:R.type,key:_e,ref:Ce,props:pe,_owner:Ie}},he.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:u,_context:R},R.Consumer=R},he.createElement=ue,he.createFactory=function(R){var V=ue.bind(null,R);return V.type=R,V},he.createRef=function(){return{current:null}},he.forwardRef=function(R){return{$$typeof:h,render:R}},he.isValidElement=ne,he.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:ye}},he.memo=function(R,V){return{$$typeof:p,type:R,compare:V===void 0?null:V}},he.startTransition=function(R){var V=J.transition;J.transition={};try{R()}finally{J.transition=V}},he.unstable_act=Y,he.useCallback=function(R,V){return Te.current.useCallback(R,V)},he.useContext=function(R){return Te.current.useContext(R)},he.useDebugValue=function(){},he.useDeferredValue=function(R){return Te.current.useDeferredValue(R)},he.useEffect=function(R,V){return Te.current.useEffect(R,V)},he.useId=function(){return Te.current.useId()},he.useImperativeHandle=function(R,V,fe){return Te.current.useImperativeHandle(R,V,fe)},he.useInsertionEffect=function(R,V){return Te.current.useInsertionEffect(R,V)},he.useLayoutEffect=function(R,V){return Te.current.useLayoutEffect(R,V)},he.useMemo=function(R,V){return Te.current.useMemo(R,V)},he.useReducer=function(R,V,fe){return Te.current.useReducer(R,V,fe)},he.useRef=function(R){return Te.current.useRef(R)},he.useState=function(R){return Te.current.useState(R)},he.useSyncExternalStore=function(R,V,fe){return Te.current.useSyncExternalStore(R,V,fe)},he.useTransition=function(){return Te.current.useTransition()},he.version="18.3.1",he}var yf;function uu(){return yf||(yf=1,Ea.exports=E0()),Ea.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf;function k0(){if(vf)return Br;vf=1;var t=uu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,p){var y,_={},C=null,w=null;p!==void 0&&(C=""+p),m.key!==void 0&&(C=""+m.key),m.ref!==void 0&&(w=m.ref);for(y in m)r.call(m,y)&&!u.hasOwnProperty(y)&&(_[y]=m[y]);if(h&&h.defaultProps)for(y in m=h.defaultProps,m)_[y]===void 0&&(_[y]=m[y]);return{$$typeof:e,type:h,key:C,ref:w,props:_,_owner:s.current}}return Br.Fragment=n,Br.jsx=d,Br.jsxs=d,Br}var _f;function x0(){return _f||(_f=1,Ta.exports=k0()),Ta.exports}var z=x0(),ie=uu();const P=au(ie);var ds={},ka={exports:{}},mt={},xa={exports:{}},Aa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf;function A0(){return Cf||(Cf=1,function(t){function e(J,se){var Y=J.length;J.push(se);e:for(;0<Y;){var R=Y-1>>>1,V=J[R];if(0<s(V,se))J[R]=se,J[Y]=V,Y=R;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var se=J[0],Y=J.pop();if(Y!==se){J[0]=Y;e:for(var R=0,V=J.length,fe=V>>>1;R<fe;){var pe=2*(R+1)-1,_e=J[pe],Ce=pe+1,Ie=J[Ce];if(0>s(_e,Y))Ce<V&&0>s(Ie,_e)?(J[R]=Ie,J[Ce]=Y,R=Ce):(J[R]=_e,J[pe]=Y,R=pe);else if(Ce<V&&0>s(Ie,Y))J[R]=Ie,J[Ce]=Y,R=Ce;else break e}}return se}function s(J,se){var Y=J.sortIndex-se.sortIndex;return Y!==0?Y:J.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var m=[],p=[],y=1,_=null,C=3,w=!1,E=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(J){for(var se=n(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=J)r(p),se.sortIndex=se.expirationTime,e(m,se);else break;se=n(p)}}function $(J){if(A=!1,M(J),!E)if(n(m)!==null)E=!0,ye(b);else{var se=n(p);se!==null&&Te($,se.startTime-J)}}function b(J,se){E=!1,A&&(A=!1,L(ue),ue=-1),w=!0;var Y=C;try{for(M(se),_=n(m);_!==null&&(!(_.expirationTime>se)||J&&!oe());){var R=_.callback;if(typeof R=="function"){_.callback=null,C=_.priorityLevel;var V=R(_.expirationTime<=se);se=t.unstable_now(),typeof V=="function"?_.callback=V:_===n(m)&&r(m),M(se)}else r(m);_=n(m)}if(_!==null)var fe=!0;else{var pe=n(p);pe!==null&&Te($,pe.startTime-se),fe=!1}return fe}finally{_=null,C=Y,w=!1}}var q=!1,W=null,ue=-1,j=5,ne=-1;function oe(){return!(t.unstable_now()-ne<j)}function we(){if(W!==null){var J=t.unstable_now();ne=J;var se=!0;try{se=W(!0,J)}finally{se?Fe():(q=!1,W=null)}}else q=!1}var Fe;if(typeof F=="function")Fe=function(){F(we)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,ge=Ve.port2;Ve.port1.onmessage=we,Fe=function(){ge.postMessage(null)}}else Fe=function(){I(we,0)};function ye(J){W=J,q||(q=!0,Fe())}function Te(J,se){ue=I(function(){J(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){E||w||(E=!0,ye(b))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(J){switch(C){case 1:case 2:case 3:var se=3;break;default:se=C}var Y=C;C=se;try{return J()}finally{C=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Y=C;C=J;try{return se()}finally{C=Y}},t.unstable_scheduleCallback=function(J,se,Y){var R=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,J={id:y++,callback:se,priorityLevel:J,startTime:Y,expirationTime:V,sortIndex:-1},Y>R?(J.sortIndex=Y,e(p,J),n(m)===null&&J===n(p)&&(A?(L(ue),ue=-1):A=!0,Te($,Y-R))):(J.sortIndex=V,e(m,J),E||w||(E=!0,ye(b))),J},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(J){var se=C;return function(){var Y=C;C=se;try{return J.apply(this,arguments)}finally{C=Y}}}}(Aa)),Aa}var Sf;function I0(){return Sf||(Sf=1,xa.exports=A0()),xa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function P0(){if(wf)return mt;wf=1;var t=uu(),e=I0();function n(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function u(o,i){d(o,i),d(o+"Capture",i)}function d(o,i){for(s[o]=i,o=0;o<i.length;o++)r.add(i[o])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function C(o){return m.call(_,o)?!0:m.call(y,o)?!1:p.test(o)?_[o]=!0:(y[o]=!0,!1)}function w(o,i,c,f){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,i,c,f){if(i===null||typeof i>"u"||w(o,i,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function A(o,i,c,f,g,v,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=i,this.sanitizeURL=v,this.removeEmptyString=S}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){I[o]=new A(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];I[i]=new A(i,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){I[o]=new A(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){I[o]=new A(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){I[o]=new A(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){I[o]=new A(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){I[o]=new A(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){I[o]=new A(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){I[o]=new A(o,5,!1,o.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function F(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(L,F);I[i]=new A(i,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(L,F);I[i]=new A(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(L,F);I[i]=new A(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){I[o]=new A(o,1,!1,o.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){I[o]=new A(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,i,c,f){var g=I.hasOwnProperty(i)?I[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,c,g,f)&&(c=null),f||g===null?C(i)&&(c===null?o.removeAttribute(i):o.setAttribute(i,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(i=g.attributeName,f=g.attributeNamespace,c===null?o.removeAttribute(i):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?o.setAttributeNS(f,i,c):o.setAttribute(i,c))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),oe=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),J=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Object.assign,R;function V(o){if(R===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);R=i&&i[1]||""}return`
`+R+o}var fe=!1;function pe(o,i){if(!o||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var f=U}Reflect.construct(o,[],i)}else{try{i.call()}catch(U){f=U}o.call(i.prototype)}else{try{throw Error()}catch(U){f=U}o()}}catch(U){if(U&&f&&typeof U.stack=="string"){for(var g=U.stack.split(`
`),v=f.stack.split(`
`),S=g.length-1,T=v.length-1;1<=S&&0<=T&&g[S]!==v[T];)T--;for(;1<=S&&0<=T;S--,T--)if(g[S]!==v[T]){if(S!==1||T!==1)do if(S--,T--,0>T||g[S]!==v[T]){var k=`
`+g[S].replace(" at new "," at ");return o.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",o.displayName)),k}while(1<=S&&0<=T);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?V(o):""}function _e(o){switch(o.tag){case 5:return V(o.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return o=pe(o.type,!1),o;case 11:return o=pe(o.type.render,!1),o;case 1:return o=pe(o.type,!0),o;default:return""}}function Ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case W:return"Fragment";case q:return"Portal";case j:return"Profiler";case ue:return"StrictMode";case Fe:return"Suspense";case Ve:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case oe:return(o.displayName||"Context")+".Consumer";case ne:return(o._context.displayName||"Context")+".Provider";case we:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ge:return i=o.displayName||null,i!==null?i:Ce(o.type)||"Memo";case ye:i=o._payload,o=o._init;try{return Ce(o(i))}catch{}}return null}function Ie(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(i);case 8:return i===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ee(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Le(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yt(o){var i=Le(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),f=""+o[i];if(!o.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,v.call(this,S)}}),Object.defineProperty(o,i,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function ti(o){o._valueTracker||(o._valueTracker=yt(o))}function Su(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var c=i.getValue(),f="";return o&&(f=Le(o)?o.checked?"true":"false":o.value),o=f,o!==c?(i.setValue(o),!0):!1}function ni(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Rs(o,i){var c=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function wu(o,i){var c=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;c=Ee(i.value!=null?i.value:c),o._wrapperState={initialChecked:f,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Tu(o,i){i=i.checked,i!=null&&M(o,"checked",i,!1)}function Ms(o,i){Tu(o,i);var c=Ee(i.value),f=i.type;if(c!=null)f==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(f==="submit"||f==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?Ns(o,i.type,c):i.hasOwnProperty("defaultValue")&&Ns(o,i.type,Ee(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function Eu(o,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,c||i===o.value||(o.value=i),o.defaultValue=i}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Ns(o,i,c){(i!=="number"||ni(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var tr=Array.isArray;function oo(o,i,c,f){if(o=o.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=i.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&f&&(o[c].defaultSelected=!0)}else{for(c=""+Ee(c),i=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,f&&(o[g].defaultSelected=!0);return}i!==null||o[g].disabled||(i=o[g])}i!==null&&(i.selected=!0)}}function Ds(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ku(o,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(tr(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}o._wrapperState={initialValue:Ee(c)}}function xu(o,i){var c=Ee(i.value),f=Ee(i.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),i.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),f!=null&&(o.defaultValue=""+f)}function Au(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function Iu(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ls(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?Iu(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var oi,Pu=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,f,g){MSApp.execUnsafeLocalFunction(function(){return o(i,c,f,g)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=oi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function nr(o,i){if(i){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=i;return}}o.textContent=i}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Am=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(o){Am.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),or[i]=or[o]})});function Ru(o,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||or.hasOwnProperty(o)&&or[o]?(""+i).trim():i+"px"}function Mu(o,i){o=o.style;for(var c in i)if(i.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Ru(c,i[c],f);c==="float"&&(c="cssFloat"),f?o.setProperty(c,g):o[c]=g}}var Im=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Us(o,i){if(i){if(Im[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Fs(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function bs(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Vs=null,ro=null,io=null;function Nu(o){if(o=kr(o)){if(typeof Vs!="function")throw Error(n(280));var i=o.stateNode;i&&(i=xi(i),Vs(o.stateNode,o.type,i))}}function Du(o){ro?io?io.push(o):io=[o]:ro=o}function Lu(){if(ro){var o=ro,i=io;if(io=ro=null,Nu(o),i)for(o=0;o<i.length;o++)Nu(i[o])}}function Uu(o,i){return o(i)}function Fu(){}var Bs=!1;function $u(o,i,c){if(Bs)return o(i,c);Bs=!0;try{return Uu(o,i,c)}finally{Bs=!1,(ro!==null||io!==null)&&(Fu(),Lu())}}function rr(o,i){var c=o.stateNode;if(c===null)return null;var f=xi(c);if(f===null)return null;c=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var Os=!1;if(h)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Os=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Os=!1}function Pm(o,i,c,f,g,v,S,T,k){var U=Array.prototype.slice.call(arguments,3);try{i.apply(c,U)}catch(O){this.onError(O)}}var sr=!1,ri=null,ii=!1,zs=null,Rm={onError:function(o){sr=!0,ri=o}};function Mm(o,i,c,f,g,v,S,T,k){sr=!1,ri=null,Pm.apply(Rm,arguments)}function Nm(o,i,c,f,g,v,S,T,k){if(Mm.apply(this,arguments),sr){if(sr){var U=ri;sr=!1,ri=null}else throw Error(n(198));ii||(ii=!0,zs=U)}}function Dn(o){var i=o,c=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,(i.flags&4098)!==0&&(c=i.return),o=i.return;while(o)}return i.tag===3?c:null}function bu(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function Vu(o){if(Dn(o)!==o)throw Error(n(188))}function Dm(o){var i=o.alternate;if(!i){if(i=Dn(o),i===null)throw Error(n(188));return i!==o?null:o}for(var c=o,f=i;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return Vu(g),o;if(v===f)return Vu(g),i;v=v.sibling}throw Error(n(188))}if(c.return!==f.return)c=g,f=v;else{for(var S=!1,T=g.child;T;){if(T===c){S=!0,c=g,f=v;break}if(T===f){S=!0,f=g,c=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===c){S=!0,c=v,f=g;break}if(T===f){S=!0,f=v,c=g;break}T=T.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:i}function Bu(o){return o=Dm(o),o!==null?Ou(o):null}function Ou(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=Ou(o);if(i!==null)return i;o=o.sibling}return null}var zu=e.unstable_scheduleCallback,Hu=e.unstable_cancelCallback,Lm=e.unstable_shouldYield,Um=e.unstable_requestPaint,Oe=e.unstable_now,Fm=e.unstable_getCurrentPriorityLevel,Hs=e.unstable_ImmediatePriority,qu=e.unstable_UserBlockingPriority,si=e.unstable_NormalPriority,$m=e.unstable_LowPriority,Gu=e.unstable_IdlePriority,li=null,bt=null;function bm(o){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(li,o,void 0,(o.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Om,Vm=Math.log,Bm=Math.LN2;function Om(o){return o>>>=0,o===0?32:31-(Vm(o)/Bm|0)|0}var ai=64,ui=4194304;function lr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ci(o,i){var c=o.pendingLanes;if(c===0)return 0;var f=0,g=o.suspendedLanes,v=o.pingedLanes,S=c&268435455;if(S!==0){var T=S&~g;T!==0?f=lr(T):(v&=S,v!==0&&(f=lr(v)))}else S=c&~g,S!==0?f=lr(S):v!==0&&(f=lr(v));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,v=i&-i,g>=v||g===16&&(v&4194240)!==0))return i;if((f&4)!==0&&(f|=c&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=f;0<i;)c=31-Pt(i),g=1<<c,f|=o[c],i&=~g;return f}function zm(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hm(o,i){for(var c=o.suspendedLanes,f=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes;0<v;){var S=31-Pt(v),T=1<<S,k=g[S];k===-1?((T&c)===0||(T&f)!==0)&&(g[S]=zm(T,i)):k<=i&&(o.expiredLanes|=T),v&=~T}}function qs(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Wu(){var o=ai;return ai<<=1,(ai&4194240)===0&&(ai=64),o}function Gs(o){for(var i=[],c=0;31>c;c++)i.push(o);return i}function ar(o,i,c){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-Pt(i),o[i]=c}function qm(o,i){var c=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var f=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-Pt(c),v=1<<g;i[g]=0,f[g]=-1,o[g]=-1,c&=~v}}function Ws(o,i){var c=o.entangledLanes|=i;for(o=o.entanglements;c;){var f=31-Pt(c),g=1<<f;g&i|o[f]&i&&(o[f]|=i),c&=~g}}var ke=0;function Ju(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Ku,Js,Yu,Qu,Xu,Ks=!1,di=[],sn=null,ln=null,an=null,ur=new Map,cr=new Map,un=[],Gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zu(o,i){switch(o){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":ur.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cr.delete(i.pointerId)}}function dr(o,i,c,f,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:i,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},i!==null&&(i=kr(i),i!==null&&Js(i)),o):(o.eventSystemFlags|=f,i=o.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),o)}function Wm(o,i,c,f,g){switch(i){case"focusin":return sn=dr(sn,o,i,c,f,g),!0;case"dragenter":return ln=dr(ln,o,i,c,f,g),!0;case"mouseover":return an=dr(an,o,i,c,f,g),!0;case"pointerover":var v=g.pointerId;return ur.set(v,dr(ur.get(v)||null,o,i,c,f,g)),!0;case"gotpointercapture":return v=g.pointerId,cr.set(v,dr(cr.get(v)||null,o,i,c,f,g)),!0}return!1}function ju(o){var i=Ln(o.target);if(i!==null){var c=Dn(i);if(c!==null){if(i=c.tag,i===13){if(i=bu(c),i!==null){o.blockedOn=i,Xu(o.priority,function(){Yu(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function fi(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var c=Qs(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var f=new c.constructor(c.type,c);$s=f,c.target.dispatchEvent(f),$s=null}else return i=kr(c),i!==null&&Js(i),o.blockedOn=c,!1;i.shift()}return!0}function ec(o,i,c){fi(o)&&c.delete(i)}function Jm(){Ks=!1,sn!==null&&fi(sn)&&(sn=null),ln!==null&&fi(ln)&&(ln=null),an!==null&&fi(an)&&(an=null),ur.forEach(ec),cr.forEach(ec)}function fr(o,i){o.blockedOn===i&&(o.blockedOn=null,Ks||(Ks=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jm)))}function hr(o){function i(g){return fr(g,o)}if(0<di.length){fr(di[0],o);for(var c=1;c<di.length;c++){var f=di[c];f.blockedOn===o&&(f.blockedOn=null)}}for(sn!==null&&fr(sn,o),ln!==null&&fr(ln,o),an!==null&&fr(an,o),ur.forEach(i),cr.forEach(i),c=0;c<un.length;c++)f=un[c],f.blockedOn===o&&(f.blockedOn=null);for(;0<un.length&&(c=un[0],c.blockedOn===null);)ju(c),c.blockedOn===null&&un.shift()}var so=$.ReactCurrentBatchConfig,hi=!0;function Km(o,i,c,f){var g=ke,v=so.transition;so.transition=null;try{ke=1,Ys(o,i,c,f)}finally{ke=g,so.transition=v}}function Ym(o,i,c,f){var g=ke,v=so.transition;so.transition=null;try{ke=4,Ys(o,i,c,f)}finally{ke=g,so.transition=v}}function Ys(o,i,c,f){if(hi){var g=Qs(o,i,c,f);if(g===null)hl(o,i,f,pi,c),Zu(o,f);else if(Wm(g,o,i,c,f))f.stopPropagation();else if(Zu(o,f),i&4&&-1<Gm.indexOf(o)){for(;g!==null;){var v=kr(g);if(v!==null&&Ku(v),v=Qs(o,i,c,f),v===null&&hl(o,i,f,pi,c),v===g)break;g=v}g!==null&&f.stopPropagation()}else hl(o,i,f,null,c)}}var pi=null;function Qs(o,i,c,f){if(pi=null,o=bs(f),o=Ln(o),o!==null)if(i=Dn(o),i===null)o=null;else if(c=i.tag,c===13){if(o=bu(i),o!==null)return o;o=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return pi=o,null}function tc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fm()){case Hs:return 1;case qu:return 4;case si:case $m:return 16;case Gu:return 536870912;default:return 16}default:return 16}}var cn=null,Xs=null,mi=null;function nc(){if(mi)return mi;var o,i=Xs,c=i.length,f,g="value"in cn?cn.value:cn.textContent,v=g.length;for(o=0;o<c&&i[o]===g[o];o++);var S=c-o;for(f=1;f<=S&&i[c-f]===g[v-f];f++);return mi=g.slice(o,1<f?1-f:void 0)}function gi(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function yi(){return!0}function oc(){return!1}function vt(o){function i(c,f,g,v,S){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in o)o.hasOwnProperty(T)&&(c=o[T],this[T]=c?c(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?yi:oc,this.isPropagationStopped=oc,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),i}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=vt(lo),pr=Y({},lo,{view:0,detail:0}),Qm=vt(pr),js,el,mr,vi=Y({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==mr&&(mr&&o.type==="mousemove"?(js=o.screenX-mr.screenX,el=o.screenY-mr.screenY):el=js=0,mr=o),js)},movementY:function(o){return"movementY"in o?o.movementY:el}}),rc=vt(vi),Xm=Y({},vi,{dataTransfer:0}),Zm=vt(Xm),jm=Y({},pr,{relatedTarget:0}),tl=vt(jm),eg=Y({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=vt(eg),ng=Y({},lo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),og=vt(ng),rg=Y({},lo,{data:0}),ic=vt(rg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=lg[o])?!!i[o]:!1}function nl(){return ag}var ug=Y({},pr,{key:function(o){if(o.key){var i=ig[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=gi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?sg[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(o){return o.type==="keypress"?gi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?gi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),cg=vt(ug),dg=Y({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=vt(dg),fg=Y({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),hg=vt(fg),pg=Y({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=vt(pg),gg=Y({},vi,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=vt(gg),vg=[9,13,27,32],ol=h&&"CompositionEvent"in window,gr=null;h&&"documentMode"in document&&(gr=document.documentMode);var _g=h&&"TextEvent"in window&&!gr,lc=h&&(!ol||gr&&8<gr&&11>=gr),ac=" ",uc=!1;function cc(o,i){switch(o){case"keyup":return vg.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ao=!1;function Cg(o,i){switch(o){case"compositionend":return dc(i);case"keypress":return i.which!==32?null:(uc=!0,ac);case"textInput":return o=i.data,o===ac&&uc?null:o;default:return null}}function Sg(o,i){if(ao)return o==="compositionend"||!ol&&cc(o,i)?(o=nc(),mi=Xs=cn=null,ao=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return lc&&i.locale!=="ko"?null:i.data;default:return null}}var wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!wg[o.type]:i==="textarea"}function hc(o,i,c,f){Du(f),i=Ti(i,"onChange"),0<i.length&&(c=new Zs("onChange","change",null,c,f),o.push({event:c,listeners:i}))}var yr=null,vr=null;function Tg(o){Mc(o,0)}function _i(o){var i=po(o);if(Su(i))return o}function Eg(o,i){if(o==="change")return i}var pc=!1;if(h){var rl;if(h){var il="oninput"in document;if(!il){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),il=typeof mc.oninput=="function"}rl=il}else rl=!1;pc=rl&&(!document.documentMode||9<document.documentMode)}function gc(){yr&&(yr.detachEvent("onpropertychange",yc),vr=yr=null)}function yc(o){if(o.propertyName==="value"&&_i(vr)){var i=[];hc(i,vr,o,bs(o)),$u(Tg,i)}}function kg(o,i,c){o==="focusin"?(gc(),yr=i,vr=c,yr.attachEvent("onpropertychange",yc)):o==="focusout"&&gc()}function xg(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return _i(vr)}function Ag(o,i){if(o==="click")return _i(i)}function Ig(o,i){if(o==="input"||o==="change")return _i(i)}function Pg(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var Rt=typeof Object.is=="function"?Object.is:Pg;function _r(o,i){if(Rt(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var c=Object.keys(o),f=Object.keys(i);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!m.call(i,g)||!Rt(o[g],i[g]))return!1}return!0}function vc(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function _c(o,i){var c=vc(o);o=0;for(var f;c;){if(c.nodeType===3){if(f=o+c.textContent.length,o<=i&&f>=i)return{node:c,offset:i-o};o=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vc(c)}}function Cc(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Cc(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Sc(){for(var o=window,i=ni();i instanceof o.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)o=i.contentWindow;else break;i=ni(o.document)}return i}function sl(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Rg(o){var i=Sc(),c=o.focusedElem,f=o.selectionRange;if(i!==c&&c&&c.ownerDocument&&Cc(c.ownerDocument.documentElement,c)){if(f!==null&&sl(c)){if(i=f.start,o=f.end,o===void 0&&(o=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(o,c.value.length);else if(o=(i=c.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!o.extend&&v>f&&(g=f,f=v,v=g),g=_c(c,v);var S=_c(c,f);g&&S&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),o.removeAllRanges(),v>f?(o.addRange(i),o.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),o.addRange(i)))}}for(i=[],o=c;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)o=i[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Mg=h&&"documentMode"in document&&11>=document.documentMode,uo=null,ll=null,Cr=null,al=!1;function wc(o,i,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;al||uo==null||uo!==ni(f)||(f=uo,"selectionStart"in f&&sl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Cr&&_r(Cr,f)||(Cr=f,f=Ti(ll,"onSelect"),0<f.length&&(i=new Zs("onSelect","select",null,i,c),o.push({event:i,listeners:f}),i.target=uo)))}function Ci(o,i){var c={};return c[o.toLowerCase()]=i.toLowerCase(),c["Webkit"+o]="webkit"+i,c["Moz"+o]="moz"+i,c}var co={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},ul={},Tc={};h&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Si(o){if(ul[o])return ul[o];if(!co[o])return o;var i=co[o],c;for(c in i)if(i.hasOwnProperty(c)&&c in Tc)return ul[o]=i[c];return o}var Ec=Si("animationend"),kc=Si("animationiteration"),xc=Si("animationstart"),Ac=Si("transitionend"),Ic=new Map,Pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(o,i){Ic.set(o,i),u(i,[o])}for(var cl=0;cl<Pc.length;cl++){var dl=Pc[cl],Ng=dl.toLowerCase(),Dg=dl[0].toUpperCase()+dl.slice(1);dn(Ng,"on"+Dg)}dn(Ec,"onAnimationEnd"),dn(kc,"onAnimationIteration"),dn(xc,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Ac,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Rc(o,i,c){var f=o.type||"unknown-event";o.currentTarget=c,Nm(f,i,void 0,o),o.currentTarget=null}function Mc(o,i){i=(i&4)!==0;for(var c=0;c<o.length;c++){var f=o[c],g=f.event;f=f.listeners;e:{var v=void 0;if(i)for(var S=f.length-1;0<=S;S--){var T=f[S],k=T.instance,U=T.currentTarget;if(T=T.listener,k!==v&&g.isPropagationStopped())break e;Rc(g,T,U),v=k}else for(S=0;S<f.length;S++){if(T=f[S],k=T.instance,U=T.currentTarget,T=T.listener,k!==v&&g.isPropagationStopped())break e;Rc(g,T,U),v=k}}}if(ii)throw o=zs,ii=!1,zs=null,o}function Me(o,i){var c=i[_l];c===void 0&&(c=i[_l]=new Set);var f=o+"__bubble";c.has(f)||(Nc(i,o,2,!1),c.add(f))}function fl(o,i,c){var f=0;i&&(f|=4),Nc(c,o,f,i)}var wi="_reactListening"+Math.random().toString(36).slice(2);function wr(o){if(!o[wi]){o[wi]=!0,r.forEach(function(c){c!=="selectionchange"&&(Lg.has(c)||fl(c,!1,o),fl(c,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[wi]||(i[wi]=!0,fl("selectionchange",!1,i))}}function Nc(o,i,c,f){switch(tc(i)){case 1:var g=Km;break;case 4:g=Ym;break;default:g=Ys}c=g.bind(null,i,c,o),g=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?o.addEventListener(i,c,{capture:!0,passive:g}):o.addEventListener(i,c,!0):g!==void 0?o.addEventListener(i,c,{passive:g}):o.addEventListener(i,c,!1)}function hl(o,i,c,f,g){var v=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var k=S.tag;if((k===3||k===4)&&(k=S.stateNode.containerInfo,k===g||k.nodeType===8&&k.parentNode===g))return;S=S.return}for(;T!==null;){if(S=Ln(T),S===null)return;if(k=S.tag,k===5||k===6){f=v=S;continue e}T=T.parentNode}}f=f.return}$u(function(){var U=v,O=bs(c),H=[];e:{var B=Ic.get(o);if(B!==void 0){var K=Zs,Z=o;switch(o){case"keypress":if(gi(c)===0)break e;case"keydown":case"keyup":K=cg;break;case"focusin":Z="focus",K=tl;break;case"focusout":Z="blur",K=tl;break;case"beforeblur":case"afterblur":K=tl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=hg;break;case Ec:case kc:case xc:K=tg;break;case Ac:K=mg;break;case"scroll":K=Qm;break;case"wheel":K=yg;break;case"copy":case"cut":case"paste":K=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=sc}var ee=(i&4)!==0,ze=!ee&&o==="scroll",N=ee?B!==null?B+"Capture":null:B;ee=[];for(var x=U,D;x!==null;){D=x;var G=D.stateNode;if(D.tag===5&&G!==null&&(D=G,N!==null&&(G=rr(x,N),G!=null&&ee.push(Tr(x,G,D)))),ze)break;x=x.return}0<ee.length&&(B=new K(B,Z,null,c,O),H.push({event:B,listeners:ee}))}}if((i&7)===0){e:{if(B=o==="mouseover"||o==="pointerover",K=o==="mouseout"||o==="pointerout",B&&c!==$s&&(Z=c.relatedTarget||c.fromElement)&&(Ln(Z)||Z[Gt]))break e;if((K||B)&&(B=O.window===O?O:(B=O.ownerDocument)?B.defaultView||B.parentWindow:window,K?(Z=c.relatedTarget||c.toElement,K=U,Z=Z?Ln(Z):null,Z!==null&&(ze=Dn(Z),Z!==ze||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(K=null,Z=U),K!==Z)){if(ee=rc,G="onMouseLeave",N="onMouseEnter",x="mouse",(o==="pointerout"||o==="pointerover")&&(ee=sc,G="onPointerLeave",N="onPointerEnter",x="pointer"),ze=K==null?B:po(K),D=Z==null?B:po(Z),B=new ee(G,x+"leave",K,c,O),B.target=ze,B.relatedTarget=D,G=null,Ln(O)===U&&(ee=new ee(N,x+"enter",Z,c,O),ee.target=D,ee.relatedTarget=ze,G=ee),ze=G,K&&Z)t:{for(ee=K,N=Z,x=0,D=ee;D;D=fo(D))x++;for(D=0,G=N;G;G=fo(G))D++;for(;0<x-D;)ee=fo(ee),x--;for(;0<D-x;)N=fo(N),D--;for(;x--;){if(ee===N||N!==null&&ee===N.alternate)break t;ee=fo(ee),N=fo(N)}ee=null}else ee=null;K!==null&&Dc(H,B,K,ee,!1),Z!==null&&ze!==null&&Dc(H,ze,Z,ee,!0)}}e:{if(B=U?po(U):window,K=B.nodeName&&B.nodeName.toLowerCase(),K==="select"||K==="input"&&B.type==="file")var te=Eg;else if(fc(B))if(pc)te=Ig;else{te=xg;var le=kg}else(K=B.nodeName)&&K.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(te=Ag);if(te&&(te=te(o,U))){hc(H,te,c,O);break e}le&&le(o,B,U),o==="focusout"&&(le=B._wrapperState)&&le.controlled&&B.type==="number"&&Ns(B,"number",B.value)}switch(le=U?po(U):window,o){case"focusin":(fc(le)||le.contentEditable==="true")&&(uo=le,ll=U,Cr=null);break;case"focusout":Cr=ll=uo=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,wc(H,c,O);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":wc(H,c,O)}var ae;if(ol)e:{switch(o){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else ao?cc(o,c)&&(ce="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(ce="onCompositionStart");ce&&(lc&&c.locale!=="ko"&&(ao||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&ao&&(ae=nc()):(cn=O,Xs="value"in cn?cn.value:cn.textContent,ao=!0)),le=Ti(U,ce),0<le.length&&(ce=new ic(ce,o,null,c,O),H.push({event:ce,listeners:le}),ae?ce.data=ae:(ae=dc(c),ae!==null&&(ce.data=ae)))),(ae=_g?Cg(o,c):Sg(o,c))&&(U=Ti(U,"onBeforeInput"),0<U.length&&(O=new ic("onBeforeInput","beforeinput",null,c,O),H.push({event:O,listeners:U}),O.data=ae))}Mc(H,i)})}function Tr(o,i,c){return{instance:o,listener:i,currentTarget:c}}function Ti(o,i){for(var c=i+"Capture",f=[];o!==null;){var g=o,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=rr(o,c),v!=null&&f.unshift(Tr(o,v,g)),v=rr(o,i),v!=null&&f.push(Tr(o,v,g))),o=o.return}return f}function fo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Dc(o,i,c,f,g){for(var v=i._reactName,S=[];c!==null&&c!==f;){var T=c,k=T.alternate,U=T.stateNode;if(k!==null&&k===f)break;T.tag===5&&U!==null&&(T=U,g?(k=rr(c,v),k!=null&&S.unshift(Tr(c,k,T))):g||(k=rr(c,v),k!=null&&S.push(Tr(c,k,T)))),c=c.return}S.length!==0&&o.push({event:i,listeners:S})}var Ug=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function Lc(o){return(typeof o=="string"?o:""+o).replace(Ug,`
`).replace(Fg,"")}function Ei(o,i,c){if(i=Lc(i),Lc(o)!==i&&c)throw Error(n(425))}function ki(){}var pl=null,ml=null;function gl(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,$g=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,bg=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(o){return Uc.resolve(null).then(o).catch(Vg)}:yl;function Vg(o){setTimeout(function(){throw o})}function vl(o,i){var c=i,f=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){o.removeChild(g),hr(i);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);hr(i)}function fn(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function Fc(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return o;i--}else c==="/$"&&i++}o=o.previousSibling}return null}var ho=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ho,Er="__reactProps$"+ho,Gt="__reactContainer$"+ho,_l="__reactEvents$"+ho,Bg="__reactListeners$"+ho,Og="__reactHandles$"+ho;function Ln(o){var i=o[Vt];if(i)return i;for(var c=o.parentNode;c;){if(i=c[Gt]||c[Vt]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(o=Fc(o);o!==null;){if(c=o[Vt])return c;o=Fc(o)}return i}o=c,c=o.parentNode}return null}function kr(o){return o=o[Vt]||o[Gt],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function po(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function xi(o){return o[Er]||null}var Cl=[],mo=-1;function hn(o){return{current:o}}function Ne(o){0>mo||(o.current=Cl[mo],Cl[mo]=null,mo--)}function Pe(o,i){mo++,Cl[mo]=o.current,o.current=i}var pn={},tt=hn(pn),ct=hn(!1),Un=pn;function go(o,i){var c=o.type.contextTypes;if(!c)return pn;var f=o.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=i[v];return f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=g),g}function dt(o){return o=o.childContextTypes,o!=null}function Ai(){Ne(ct),Ne(tt)}function $c(o,i,c){if(tt.current!==pn)throw Error(n(168));Pe(tt,i),Pe(ct,c)}function bc(o,i,c){var f=o.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(n(108,Ie(o)||"Unknown",g));return Y({},c,f)}function Ii(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||pn,Un=tt.current,Pe(tt,o),Pe(ct,ct.current),!0}function Vc(o,i,c){var f=o.stateNode;if(!f)throw Error(n(169));c?(o=bc(o,i,Un),f.__reactInternalMemoizedMergedChildContext=o,Ne(ct),Ne(tt),Pe(tt,o)):Ne(ct),Pe(ct,c)}var Wt=null,Pi=!1,Sl=!1;function Bc(o){Wt===null?Wt=[o]:Wt.push(o)}function zg(o){Pi=!0,Bc(o)}function mn(){if(!Sl&&Wt!==null){Sl=!0;var o=0,i=ke;try{var c=Wt;for(ke=1;o<c.length;o++){var f=c[o];do f=f(!0);while(f!==null)}Wt=null,Pi=!1}catch(g){throw Wt!==null&&(Wt=Wt.slice(o+1)),zu(Hs,mn),g}finally{ke=i,Sl=!1}}return null}var yo=[],vo=0,Ri=null,Mi=0,wt=[],Tt=0,Fn=null,Jt=1,Kt="";function $n(o,i){yo[vo++]=Mi,yo[vo++]=Ri,Ri=o,Mi=i}function Oc(o,i,c){wt[Tt++]=Jt,wt[Tt++]=Kt,wt[Tt++]=Fn,Fn=o;var f=Jt;o=Kt;var g=32-Pt(f)-1;f&=~(1<<g),c+=1;var v=32-Pt(i)+g;if(30<v){var S=g-g%5;v=(f&(1<<S)-1).toString(32),f>>=S,g-=S,Jt=1<<32-Pt(i)+g|c<<g|f,Kt=v+o}else Jt=1<<v|c<<g|f,Kt=o}function wl(o){o.return!==null&&($n(o,1),Oc(o,1,0))}function Tl(o){for(;o===Ri;)Ri=yo[--vo],yo[vo]=null,Mi=yo[--vo],yo[vo]=null;for(;o===Fn;)Fn=wt[--Tt],wt[Tt]=null,Kt=wt[--Tt],wt[Tt]=null,Jt=wt[--Tt],wt[Tt]=null}var _t=null,Ct=null,Ue=!1,Mt=null;function zc(o,i){var c=At(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=o,i=o.deletions,i===null?(o.deletions=[c],o.flags|=16):i.push(c)}function Hc(o,i){switch(o.tag){case 5:var c=o.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,_t=o,Ct=fn(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,_t=o,Ct=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=Fn!==null?{id:Jt,overflow:Kt}:null,o.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=At(18,null,null,0),c.stateNode=i,c.return=o,o.child=c,_t=o,Ct=null,!0):!1;default:return!1}}function El(o){return(o.mode&1)!==0&&(o.flags&128)===0}function kl(o){if(Ue){var i=Ct;if(i){var c=i;if(!Hc(o,i)){if(El(o))throw Error(n(418));i=fn(c.nextSibling);var f=_t;i&&Hc(o,i)?zc(f,c):(o.flags=o.flags&-4097|2,Ue=!1,_t=o)}}else{if(El(o))throw Error(n(418));o.flags=o.flags&-4097|2,Ue=!1,_t=o}}}function qc(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;_t=o}function Ni(o){if(o!==_t)return!1;if(!Ue)return qc(o),Ue=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!gl(o.type,o.memoizedProps)),i&&(i=Ct)){if(El(o))throw Gc(),Error(n(418));for(;i;)zc(o,i),i=fn(i.nextSibling)}if(qc(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(i===0){Ct=fn(o.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}o=o.nextSibling}Ct=null}}else Ct=_t?fn(o.stateNode.nextSibling):null;return!0}function Gc(){for(var o=Ct;o;)o=fn(o.nextSibling)}function _o(){Ct=_t=null,Ue=!1}function xl(o){Mt===null?Mt=[o]:Mt.push(o)}var Hg=$.ReactCurrentBatchConfig;function xr(o,i,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,o));var g=f,v=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(S){var T=g.refs;S===null?delete T[v]:T[v]=S},i._stringRef=v,i)}if(typeof o!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,o))}return o}function Di(o,i){throw o=Object.prototype.toString.call(i),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function Wc(o){var i=o._init;return i(o._payload)}function Jc(o){function i(N,x){if(o){var D=N.deletions;D===null?(N.deletions=[x],N.flags|=16):D.push(x)}}function c(N,x){if(!o)return null;for(;x!==null;)i(N,x),x=x.sibling;return null}function f(N,x){for(N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function g(N,x){return N=Tn(N,x),N.index=0,N.sibling=null,N}function v(N,x,D){return N.index=D,o?(D=N.alternate,D!==null?(D=D.index,D<x?(N.flags|=2,x):D):(N.flags|=2,x)):(N.flags|=1048576,x)}function S(N){return o&&N.alternate===null&&(N.flags|=2),N}function T(N,x,D,G){return x===null||x.tag!==6?(x=ya(D,N.mode,G),x.return=N,x):(x=g(x,D),x.return=N,x)}function k(N,x,D,G){var te=D.type;return te===W?O(N,x,D.props.children,G,D.key):x!==null&&(x.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ye&&Wc(te)===x.type)?(G=g(x,D.props),G.ref=xr(N,x,D),G.return=N,G):(G=os(D.type,D.key,D.props,null,N.mode,G),G.ref=xr(N,x,D),G.return=N,G)}function U(N,x,D,G){return x===null||x.tag!==4||x.stateNode.containerInfo!==D.containerInfo||x.stateNode.implementation!==D.implementation?(x=va(D,N.mode,G),x.return=N,x):(x=g(x,D.children||[]),x.return=N,x)}function O(N,x,D,G,te){return x===null||x.tag!==7?(x=Gn(D,N.mode,G,te),x.return=N,x):(x=g(x,D),x.return=N,x)}function H(N,x,D){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ya(""+x,N.mode,D),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return D=os(x.type,x.key,x.props,null,N.mode,D),D.ref=xr(N,null,x),D.return=N,D;case q:return x=va(x,N.mode,D),x.return=N,x;case ye:var G=x._init;return H(N,G(x._payload),D)}if(tr(x)||se(x))return x=Gn(x,N.mode,D,null),x.return=N,x;Di(N,x)}return null}function B(N,x,D,G){var te=x!==null?x.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return te!==null?null:T(N,x,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return D.key===te?k(N,x,D,G):null;case q:return D.key===te?U(N,x,D,G):null;case ye:return te=D._init,B(N,x,te(D._payload),G)}if(tr(D)||se(D))return te!==null?null:O(N,x,D,G,null);Di(N,D)}return null}function K(N,x,D,G,te){if(typeof G=="string"&&G!==""||typeof G=="number")return N=N.get(D)||null,T(x,N,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return N=N.get(G.key===null?D:G.key)||null,k(x,N,G,te);case q:return N=N.get(G.key===null?D:G.key)||null,U(x,N,G,te);case ye:var le=G._init;return K(N,x,D,le(G._payload),te)}if(tr(G)||se(G))return N=N.get(D)||null,O(x,N,G,te,null);Di(x,G)}return null}function Z(N,x,D,G){for(var te=null,le=null,ae=x,ce=x=0,Ye=null;ae!==null&&ce<D.length;ce++){ae.index>ce?(Ye=ae,ae=null):Ye=ae.sibling;var Se=B(N,ae,D[ce],G);if(Se===null){ae===null&&(ae=Ye);break}o&&ae&&Se.alternate===null&&i(N,ae),x=v(Se,x,ce),le===null?te=Se:le.sibling=Se,le=Se,ae=Ye}if(ce===D.length)return c(N,ae),Ue&&$n(N,ce),te;if(ae===null){for(;ce<D.length;ce++)ae=H(N,D[ce],G),ae!==null&&(x=v(ae,x,ce),le===null?te=ae:le.sibling=ae,le=ae);return Ue&&$n(N,ce),te}for(ae=f(N,ae);ce<D.length;ce++)Ye=K(ae,N,ce,D[ce],G),Ye!==null&&(o&&Ye.alternate!==null&&ae.delete(Ye.key===null?ce:Ye.key),x=v(Ye,x,ce),le===null?te=Ye:le.sibling=Ye,le=Ye);return o&&ae.forEach(function(En){return i(N,En)}),Ue&&$n(N,ce),te}function ee(N,x,D,G){var te=se(D);if(typeof te!="function")throw Error(n(150));if(D=te.call(D),D==null)throw Error(n(151));for(var le=te=null,ae=x,ce=x=0,Ye=null,Se=D.next();ae!==null&&!Se.done;ce++,Se=D.next()){ae.index>ce?(Ye=ae,ae=null):Ye=ae.sibling;var En=B(N,ae,Se.value,G);if(En===null){ae===null&&(ae=Ye);break}o&&ae&&En.alternate===null&&i(N,ae),x=v(En,x,ce),le===null?te=En:le.sibling=En,le=En,ae=Ye}if(Se.done)return c(N,ae),Ue&&$n(N,ce),te;if(ae===null){for(;!Se.done;ce++,Se=D.next())Se=H(N,Se.value,G),Se!==null&&(x=v(Se,x,ce),le===null?te=Se:le.sibling=Se,le=Se);return Ue&&$n(N,ce),te}for(ae=f(N,ae);!Se.done;ce++,Se=D.next())Se=K(ae,N,ce,Se.value,G),Se!==null&&(o&&Se.alternate!==null&&ae.delete(Se.key===null?ce:Se.key),x=v(Se,x,ce),le===null?te=Se:le.sibling=Se,le=Se);return o&&ae.forEach(function(w0){return i(N,w0)}),Ue&&$n(N,ce),te}function ze(N,x,D,G){if(typeof D=="object"&&D!==null&&D.type===W&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case b:e:{for(var te=D.key,le=x;le!==null;){if(le.key===te){if(te=D.type,te===W){if(le.tag===7){c(N,le.sibling),x=g(le,D.props.children),x.return=N,N=x;break e}}else if(le.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ye&&Wc(te)===le.type){c(N,le.sibling),x=g(le,D.props),x.ref=xr(N,le,D),x.return=N,N=x;break e}c(N,le);break}else i(N,le);le=le.sibling}D.type===W?(x=Gn(D.props.children,N.mode,G,D.key),x.return=N,N=x):(G=os(D.type,D.key,D.props,null,N.mode,G),G.ref=xr(N,x,D),G.return=N,N=G)}return S(N);case q:e:{for(le=D.key;x!==null;){if(x.key===le)if(x.tag===4&&x.stateNode.containerInfo===D.containerInfo&&x.stateNode.implementation===D.implementation){c(N,x.sibling),x=g(x,D.children||[]),x.return=N,N=x;break e}else{c(N,x);break}else i(N,x);x=x.sibling}x=va(D,N.mode,G),x.return=N,N=x}return S(N);case ye:return le=D._init,ze(N,x,le(D._payload),G)}if(tr(D))return Z(N,x,D,G);if(se(D))return ee(N,x,D,G);Di(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,x!==null&&x.tag===6?(c(N,x.sibling),x=g(x,D),x.return=N,N=x):(c(N,x),x=ya(D,N.mode,G),x.return=N,N=x),S(N)):c(N,x)}return ze}var Co=Jc(!0),Kc=Jc(!1),Li=hn(null),Ui=null,So=null,Al=null;function Il(){Al=So=Ui=null}function Pl(o){var i=Li.current;Ne(Li),o._currentValue=i}function Rl(o,i,c){for(;o!==null;){var f=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),o===c)break;o=o.return}}function wo(o,i){Ui=o,Al=So=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&i)!==0&&(ft=!0),o.firstContext=null)}function Et(o){var i=o._currentValue;if(Al!==o)if(o={context:o,memoizedValue:i,next:null},So===null){if(Ui===null)throw Error(n(308));So=o,Ui.dependencies={lanes:0,firstContext:o}}else So=So.next=o;return i}var bn=null;function Ml(o){bn===null?bn=[o]:bn.push(o)}function Yc(o,i,c,f){var g=i.interleaved;return g===null?(c.next=c,Ml(i)):(c.next=g.next,g.next=c),i.interleaved=c,Yt(o,f)}function Yt(o,i){o.lanes|=i;var c=o.alternate;for(c!==null&&(c.lanes|=i),c=o,o=o.return;o!==null;)o.childLanes|=i,c=o.alternate,c!==null&&(c.childLanes|=i),c=o,o=o.return;return c.tag===3?c.stateNode:null}var gn=!1;function Nl(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qc(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Qt(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function yn(o,i,c){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(ve&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,Yt(o,c)}return g=f.interleaved,g===null?(i.next=i,Ml(f)):(i.next=g.next,g.next=i),f.interleaved=i,Yt(o,c)}function Fi(o,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var f=i.lanes;f&=o.pendingLanes,c|=f,i.lanes=c,Ws(o,c)}}function Xc(o,i){var c=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?g=v=i:v=v.next=i}else g=v=i;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=i:o.next=i,c.lastBaseUpdate=i}function $i(o,i,c,f){var g=o.updateQueue;gn=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var k=T,U=k.next;k.next=null,S===null?v=U:S.next=U,S=k;var O=o.alternate;O!==null&&(O=O.updateQueue,T=O.lastBaseUpdate,T!==S&&(T===null?O.firstBaseUpdate=U:T.next=U,O.lastBaseUpdate=k))}if(v!==null){var H=g.baseState;S=0,O=U=k=null,T=v;do{var B=T.lane,K=T.eventTime;if((f&B)===B){O!==null&&(O=O.next={eventTime:K,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Z=o,ee=T;switch(B=i,K=c,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){H=Z.call(K,H,B);break e}H=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,B=typeof Z=="function"?Z.call(K,H,B):Z,B==null)break e;H=Y({},H,B);break e;case 2:gn=!0}}T.callback!==null&&T.lane!==0&&(o.flags|=64,B=g.effects,B===null?g.effects=[T]:B.push(T))}else K={eventTime:K,lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},O===null?(U=O=K,k=H):O=O.next=K,S|=B;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;B=T,T=B.next,B.next=null,g.lastBaseUpdate=B,g.shared.pending=null}}while(!0);if(O===null&&(k=H),g.baseState=k,g.firstBaseUpdate=U,g.lastBaseUpdate=O,i=g.shared.interleaved,i!==null){g=i;do S|=g.lane,g=g.next;while(g!==i)}else v===null&&(g.shared.lanes=0);On|=S,o.lanes=S,o.memoizedState=H}}function Zc(o,i,c){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var f=o[i],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Ar={},Bt=hn(Ar),Ir=hn(Ar),Pr=hn(Ar);function Vn(o){if(o===Ar)throw Error(n(174));return o}function Dl(o,i){switch(Pe(Pr,i),Pe(Ir,o),Pe(Bt,Ar),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ls(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=Ls(i,o)}Ne(Bt),Pe(Bt,i)}function To(){Ne(Bt),Ne(Ir),Ne(Pr)}function jc(o){Vn(Pr.current);var i=Vn(Bt.current),c=Ls(i,o.type);i!==c&&(Pe(Ir,o),Pe(Bt,c))}function Ll(o){Ir.current===o&&(Ne(Bt),Ne(Ir))}var $e=hn(0);function bi(o){for(var i=o;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ul=[];function Fl(){for(var o=0;o<Ul.length;o++)Ul[o]._workInProgressVersionPrimary=null;Ul.length=0}var Vi=$.ReactCurrentDispatcher,$l=$.ReactCurrentBatchConfig,Bn=0,be=null,Ge=null,Je=null,Bi=!1,Rr=!1,Mr=0,qg=0;function nt(){throw Error(n(321))}function bl(o,i){if(i===null)return!1;for(var c=0;c<i.length&&c<o.length;c++)if(!Rt(o[c],i[c]))return!1;return!0}function Vl(o,i,c,f,g,v){if(Bn=v,be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Vi.current=o===null||o.memoizedState===null?Kg:Yg,o=c(f,g),Rr){v=0;do{if(Rr=!1,Mr=0,25<=v)throw Error(n(301));v+=1,Je=Ge=null,i.updateQueue=null,Vi.current=Qg,o=c(f,g)}while(Rr)}if(Vi.current=Hi,i=Ge!==null&&Ge.next!==null,Bn=0,Je=Ge=be=null,Bi=!1,i)throw Error(n(300));return o}function Bl(){var o=Mr!==0;return Mr=0,o}function Ot(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?be.memoizedState=Je=o:Je=Je.next=o,Je}function kt(){if(Ge===null){var o=be.alternate;o=o!==null?o.memoizedState:null}else o=Ge.next;var i=Je===null?be.memoizedState:Je.next;if(i!==null)Je=i,Ge=o;else{if(o===null)throw Error(n(310));Ge=o,o={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Je===null?be.memoizedState=Je=o:Je=Je.next=o}return Je}function Nr(o,i){return typeof i=="function"?i(o):i}function Ol(o){var i=kt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var f=Ge,g=f.baseQueue,v=c.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}f.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,f=f.baseState;var T=S=null,k=null,U=v;do{var O=U.lane;if((Bn&O)===O)k!==null&&(k=k.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),f=U.hasEagerState?U.eagerState:o(f,U.action);else{var H={lane:O,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};k===null?(T=k=H,S=f):k=k.next=H,be.lanes|=O,On|=O}U=U.next}while(U!==null&&U!==v);k===null?S=f:k.next=T,Rt(f,i.memoizedState)||(ft=!0),i.memoizedState=f,i.baseState=S,i.baseQueue=k,c.lastRenderedState=f}if(o=c.interleaved,o!==null){g=o;do v=g.lane,be.lanes|=v,On|=v,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function zl(o){var i=kt(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var f=c.dispatch,g=c.pending,v=i.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do v=o(v,S.action),S=S.next;while(S!==g);Rt(v,i.memoizedState)||(ft=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),c.lastRenderedState=v}return[v,f]}function ed(){}function td(o,i){var c=be,f=kt(),g=i(),v=!Rt(f.memoizedState,g);if(v&&(f.memoizedState=g,ft=!0),f=f.queue,Hl(rd.bind(null,c,f,o),[o]),f.getSnapshot!==i||v||Je!==null&&Je.memoizedState.tag&1){if(c.flags|=2048,Dr(9,od.bind(null,c,f,g,i),void 0,null),Ke===null)throw Error(n(349));(Bn&30)!==0||nd(c,i,g)}return g}function nd(o,i,c){o.flags|=16384,o={getSnapshot:i,value:c},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.stores=[o]):(c=i.stores,c===null?i.stores=[o]:c.push(o))}function od(o,i,c,f){i.value=c,i.getSnapshot=f,id(i)&&sd(o)}function rd(o,i,c){return c(function(){id(i)&&sd(o)})}function id(o){var i=o.getSnapshot;o=o.value;try{var c=i();return!Rt(o,c)}catch{return!0}}function sd(o){var i=Yt(o,1);i!==null&&Ut(i,o,1,-1)}function ld(o){var i=Ot();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:o},i.queue=o,o=o.dispatch=Jg.bind(null,be,o),[i.memoizedState,o]}function Dr(o,i,c,f){return o={tag:o,create:i,destroy:c,deps:f,next:null},i=be.updateQueue,i===null?(i={lastEffect:null,stores:null},be.updateQueue=i,i.lastEffect=o.next=o):(c=i.lastEffect,c===null?i.lastEffect=o.next=o:(f=c.next,c.next=o,o.next=f,i.lastEffect=o)),o}function ad(){return kt().memoizedState}function Oi(o,i,c,f){var g=Ot();be.flags|=o,g.memoizedState=Dr(1|i,c,void 0,f===void 0?null:f)}function zi(o,i,c,f){var g=kt();f=f===void 0?null:f;var v=void 0;if(Ge!==null){var S=Ge.memoizedState;if(v=S.destroy,f!==null&&bl(f,S.deps)){g.memoizedState=Dr(i,c,v,f);return}}be.flags|=o,g.memoizedState=Dr(1|i,c,v,f)}function ud(o,i){return Oi(8390656,8,o,i)}function Hl(o,i){return zi(2048,8,o,i)}function cd(o,i){return zi(4,2,o,i)}function dd(o,i){return zi(4,4,o,i)}function fd(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function hd(o,i,c){return c=c!=null?c.concat([o]):null,zi(4,4,fd.bind(null,i,o),c)}function ql(){}function pd(o,i){var c=kt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&bl(i,f[1])?f[0]:(c.memoizedState=[o,i],o)}function md(o,i){var c=kt();i=i===void 0?null:i;var f=c.memoizedState;return f!==null&&i!==null&&bl(i,f[1])?f[0]:(o=o(),c.memoizedState=[o,i],o)}function gd(o,i,c){return(Bn&21)===0?(o.baseState&&(o.baseState=!1,ft=!0),o.memoizedState=c):(Rt(c,i)||(c=Wu(),be.lanes|=c,On|=c,o.baseState=!0),i)}function Gg(o,i){var c=ke;ke=c!==0&&4>c?c:4,o(!0);var f=$l.transition;$l.transition={};try{o(!1),i()}finally{ke=c,$l.transition=f}}function yd(){return kt().memoizedState}function Wg(o,i,c){var f=Sn(o);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},vd(o))_d(i,c);else if(c=Yc(o,i,c,f),c!==null){var g=at();Ut(c,o,f,g),Cd(c,i,f)}}function Jg(o,i,c){var f=Sn(o),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(vd(o))_d(i,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,T=v(S,c);if(g.hasEagerState=!0,g.eagerState=T,Rt(T,S)){var k=i.interleaved;k===null?(g.next=g,Ml(i)):(g.next=k.next,k.next=g),i.interleaved=g;return}}catch{}finally{}c=Yc(o,i,g,f),c!==null&&(g=at(),Ut(c,o,f,g),Cd(c,i,f))}}function vd(o){var i=o.alternate;return o===be||i!==null&&i===be}function _d(o,i){Rr=Bi=!0;var c=o.pending;c===null?i.next=i:(i.next=c.next,c.next=i),o.pending=i}function Cd(o,i,c){if((c&4194240)!==0){var f=i.lanes;f&=o.pendingLanes,c|=f,i.lanes=c,Ws(o,c)}}var Hi={readContext:Et,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},Kg={readContext:Et,useCallback:function(o,i){return Ot().memoizedState=[o,i===void 0?null:i],o},useContext:Et,useEffect:ud,useImperativeHandle:function(o,i,c){return c=c!=null?c.concat([o]):null,Oi(4194308,4,fd.bind(null,i,o),c)},useLayoutEffect:function(o,i){return Oi(4194308,4,o,i)},useInsertionEffect:function(o,i){return Oi(4,2,o,i)},useMemo:function(o,i){var c=Ot();return i=i===void 0?null:i,o=o(),c.memoizedState=[o,i],o},useReducer:function(o,i,c){var f=Ot();return i=c!==void 0?c(i):i,f.memoizedState=f.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},f.queue=o,o=o.dispatch=Wg.bind(null,be,o),[f.memoizedState,o]},useRef:function(o){var i=Ot();return o={current:o},i.memoizedState=o},useState:ld,useDebugValue:ql,useDeferredValue:function(o){return Ot().memoizedState=o},useTransition:function(){var o=ld(!1),i=o[0];return o=Gg.bind(null,o[1]),Ot().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,c){var f=be,g=Ot();if(Ue){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),Ke===null)throw Error(n(349));(Bn&30)!==0||nd(f,i,c)}g.memoizedState=c;var v={value:c,getSnapshot:i};return g.queue=v,ud(rd.bind(null,f,v,o),[o]),f.flags|=2048,Dr(9,od.bind(null,f,v,c,i),void 0,null),c},useId:function(){var o=Ot(),i=Ke.identifierPrefix;if(Ue){var c=Kt,f=Jt;c=(f&~(1<<32-Pt(f)-1)).toString(32)+c,i=":"+i+"R"+c,c=Mr++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=qg++,i=":"+i+"r"+c.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},Yg={readContext:Et,useCallback:pd,useContext:Et,useEffect:Hl,useImperativeHandle:hd,useInsertionEffect:cd,useLayoutEffect:dd,useMemo:md,useReducer:Ol,useRef:ad,useState:function(){return Ol(Nr)},useDebugValue:ql,useDeferredValue:function(o){var i=kt();return gd(i,Ge.memoizedState,o)},useTransition:function(){var o=Ol(Nr)[0],i=kt().memoizedState;return[o,i]},useMutableSource:ed,useSyncExternalStore:td,useId:yd,unstable_isNewReconciler:!1},Qg={readContext:Et,useCallback:pd,useContext:Et,useEffect:Hl,useImperativeHandle:hd,useInsertionEffect:cd,useLayoutEffect:dd,useMemo:md,useReducer:zl,useRef:ad,useState:function(){return zl(Nr)},useDebugValue:ql,useDeferredValue:function(o){var i=kt();return Ge===null?i.memoizedState=o:gd(i,Ge.memoizedState,o)},useTransition:function(){var o=zl(Nr)[0],i=kt().memoizedState;return[o,i]},useMutableSource:ed,useSyncExternalStore:td,useId:yd,unstable_isNewReconciler:!1};function Nt(o,i){if(o&&o.defaultProps){i=Y({},i),o=o.defaultProps;for(var c in o)i[c]===void 0&&(i[c]=o[c]);return i}return i}function Gl(o,i,c,f){i=o.memoizedState,c=c(f,i),c=c==null?i:Y({},i,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var qi={isMounted:function(o){return(o=o._reactInternals)?Dn(o)===o:!1},enqueueSetState:function(o,i,c){o=o._reactInternals;var f=at(),g=Sn(o),v=Qt(f,g);v.payload=i,c!=null&&(v.callback=c),i=yn(o,v,g),i!==null&&(Ut(i,o,g,f),Fi(i,o,g))},enqueueReplaceState:function(o,i,c){o=o._reactInternals;var f=at(),g=Sn(o),v=Qt(f,g);v.tag=1,v.payload=i,c!=null&&(v.callback=c),i=yn(o,v,g),i!==null&&(Ut(i,o,g,f),Fi(i,o,g))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var c=at(),f=Sn(o),g=Qt(c,f);g.tag=2,i!=null&&(g.callback=i),i=yn(o,g,f),i!==null&&(Ut(i,o,f,c),Fi(i,o,f))}};function Sd(o,i,c,f,g,v,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,v,S):i.prototype&&i.prototype.isPureReactComponent?!_r(c,f)||!_r(g,v):!0}function wd(o,i,c){var f=!1,g=pn,v=i.contextType;return typeof v=="object"&&v!==null?v=Et(v):(g=dt(i)?Un:tt.current,f=i.contextTypes,v=(f=f!=null)?go(o,g):pn),i=new i(c,v),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=qi,o.stateNode=i,i._reactInternals=o,f&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=v),i}function Td(o,i,c,f){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,f),i.state!==o&&qi.enqueueReplaceState(i,i.state,null)}function Wl(o,i,c,f){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs={},Nl(o);var v=i.contextType;typeof v=="object"&&v!==null?g.context=Et(v):(v=dt(i)?Un:tt.current,g.context=go(o,v)),g.state=o.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Gl(o,i,v,c),g.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&qi.enqueueReplaceState(g,g.state,null),$i(o,c,g,f),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function Eo(o,i){try{var c="",f=i;do c+=_e(f),f=f.return;while(f);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:i,stack:g,digest:null}}function Jl(o,i,c){return{value:o,source:null,stack:c??null,digest:i??null}}function Kl(o,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function Ed(o,i,c){c=Qt(-1,c),c.tag=3,c.payload={element:null};var f=i.value;return c.callback=function(){Xi||(Xi=!0,ua=f),Kl(o,i)},c}function kd(o,i,c){c=Qt(-1,c),c.tag=3;var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;c.payload=function(){return f(g)},c.callback=function(){Kl(o,i)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){Kl(o,i),typeof f!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),c}function xd(o,i,c){var f=o.pingCache;if(f===null){f=o.pingCache=new Xg;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(c)||(g.add(c),o=d0.bind(null,o,i,c),i.then(o,o))}function Ad(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Id(o,i,c,f,g){return(o.mode&1)===0?(o===i?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=Qt(-1,1),i.tag=2,yn(c,i,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=g,o)}var Zg=$.ReactCurrentOwner,ft=!1;function lt(o,i,c,f){i.child=o===null?Kc(i,null,c,f):Co(i,o.child,c,f)}function Pd(o,i,c,f,g){c=c.render;var v=i.ref;return wo(i,g),f=Vl(o,i,c,f,v,g),c=Bl(),o!==null&&!ft?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~g,Xt(o,i,g)):(Ue&&c&&wl(i),i.flags|=1,lt(o,i,f,g),i.child)}function Rd(o,i,c,f,g){if(o===null){var v=c.type;return typeof v=="function"&&!ga(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=v,Md(o,i,v,f,g)):(o=os(c.type,null,f,i,i.mode,g),o.ref=i.ref,o.return=i,i.child=o)}if(v=o.child,(o.lanes&g)===0){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:_r,c(S,f)&&o.ref===i.ref)return Xt(o,i,g)}return i.flags|=1,o=Tn(v,f),o.ref=i.ref,o.return=i,i.child=o}function Md(o,i,c,f,g){if(o!==null){var v=o.memoizedProps;if(_r(v,f)&&o.ref===i.ref)if(ft=!1,i.pendingProps=f=v,(o.lanes&g)!==0)(o.flags&131072)!==0&&(ft=!0);else return i.lanes=o.lanes,Xt(o,i,g)}return Yl(o,i,c,f,g)}function Nd(o,i,c){var f=i.pendingProps,g=f.children,v=o!==null?o.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(xo,St),St|=c;else{if((c&1073741824)===0)return o=v!==null?v.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,Pe(xo,St),St|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,Pe(xo,St),St|=f}else v!==null?(f=v.baseLanes|c,i.memoizedState=null):f=c,Pe(xo,St),St|=f;return lt(o,i,g,c),i.child}function Dd(o,i){var c=i.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Yl(o,i,c,f,g){var v=dt(c)?Un:tt.current;return v=go(i,v),wo(i,g),c=Vl(o,i,c,f,v,g),f=Bl(),o!==null&&!ft?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~g,Xt(o,i,g)):(Ue&&f&&wl(i),i.flags|=1,lt(o,i,c,g),i.child)}function Ld(o,i,c,f,g){if(dt(c)){var v=!0;Ii(i)}else v=!1;if(wo(i,g),i.stateNode===null)Wi(o,i),wd(i,c,f),Wl(i,c,f,g),f=!0;else if(o===null){var S=i.stateNode,T=i.memoizedProps;S.props=T;var k=S.context,U=c.contextType;typeof U=="object"&&U!==null?U=Et(U):(U=dt(c)?Un:tt.current,U=go(i,U));var O=c.getDerivedStateFromProps,H=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function";H||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==f||k!==U)&&Td(i,S,f,U),gn=!1;var B=i.memoizedState;S.state=B,$i(i,f,S,g),k=i.memoizedState,T!==f||B!==k||ct.current||gn?(typeof O=="function"&&(Gl(i,c,O,f),k=i.memoizedState),(T=gn||Sd(i,c,T,f,B,k,U))?(H||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=k),S.props=f,S.state=k,S.context=U,f=T):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{S=i.stateNode,Qc(o,i),T=i.memoizedProps,U=i.type===i.elementType?T:Nt(i.type,T),S.props=U,H=i.pendingProps,B=S.context,k=c.contextType,typeof k=="object"&&k!==null?k=Et(k):(k=dt(c)?Un:tt.current,k=go(i,k));var K=c.getDerivedStateFromProps;(O=typeof K=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==H||B!==k)&&Td(i,S,f,k),gn=!1,B=i.memoizedState,S.state=B,$i(i,f,S,g);var Z=i.memoizedState;T!==H||B!==Z||ct.current||gn?(typeof K=="function"&&(Gl(i,c,K,f),Z=i.memoizedState),(U=gn||Sd(i,c,U,f,B,Z,k)||!1)?(O||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,Z,k),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,Z,k)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===o.memoizedProps&&B===o.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&B===o.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Z),S.props=f,S.state=Z,S.context=k,f=U):(typeof S.componentDidUpdate!="function"||T===o.memoizedProps&&B===o.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&B===o.memoizedState||(i.flags|=1024),f=!1)}return Ql(o,i,c,f,v,g)}function Ql(o,i,c,f,g,v){Dd(o,i);var S=(i.flags&128)!==0;if(!f&&!S)return g&&Vc(i,c,!1),Xt(o,i,v);f=i.stateNode,Zg.current=i;var T=S&&typeof c.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,o!==null&&S?(i.child=Co(i,o.child,null,v),i.child=Co(i,null,T,v)):lt(o,i,T,v),i.memoizedState=f.state,g&&Vc(i,c,!0),i.child}function Ud(o){var i=o.stateNode;i.pendingContext?$c(o,i.pendingContext,i.pendingContext!==i.context):i.context&&$c(o,i.context,!1),Dl(o,i.containerInfo)}function Fd(o,i,c,f,g){return _o(),xl(g),i.flags|=256,lt(o,i,c,f),i.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Zl(o){return{baseLanes:o,cachePool:null,transitions:null}}function $d(o,i,c){var f=i.pendingProps,g=$e.current,v=!1,S=(i.flags&128)!==0,T;if((T=S)||(T=o!==null&&o.memoizedState===null?!1:(g&2)!==0),T?(v=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),Pe($e,g&1),o===null)return kl(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((i.mode&1)===0?i.lanes=1:o.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=f.children,o=f.fallback,v?(f=i.mode,v=i.child,S={mode:"hidden",children:S},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=rs(S,f,0,null),o=Gn(o,f,c,null),v.return=i,o.return=i,v.sibling=o,i.child=v,i.child.memoizedState=Zl(c),i.memoizedState=Xl,o):jl(i,S));if(g=o.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return jg(o,i,S,f,T,g,c);if(v){v=f.fallback,S=i.mode,g=o.child,T=g.sibling;var k={mode:"hidden",children:f.children};return(S&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=k,i.deletions=null):(f=Tn(g,k),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?v=Tn(T,v):(v=Gn(v,S,c,null),v.flags|=2),v.return=i,f.return=i,f.sibling=v,i.child=f,f=v,v=i.child,S=o.child.memoizedState,S=S===null?Zl(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=o.childLanes&~c,i.memoizedState=Xl,f}return v=o.child,o=v.sibling,f=Tn(v,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=c),f.return=i,f.sibling=null,o!==null&&(c=i.deletions,c===null?(i.deletions=[o],i.flags|=16):c.push(o)),i.child=f,i.memoizedState=null,f}function jl(o,i){return i=rs({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function Gi(o,i,c,f){return f!==null&&xl(f),Co(i,o.child,null,c),o=jl(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function jg(o,i,c,f,g,v,S){if(c)return i.flags&256?(i.flags&=-257,f=Jl(Error(n(422))),Gi(o,i,S,f)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(v=f.fallback,g=i.mode,f=rs({mode:"visible",children:f.children},g,0,null),v=Gn(v,g,S,null),v.flags|=2,f.return=i,v.return=i,f.sibling=v,i.child=f,(i.mode&1)!==0&&Co(i,o.child,null,S),i.child.memoizedState=Zl(S),i.memoizedState=Xl,v);if((i.mode&1)===0)return Gi(o,i,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,v=Error(n(419)),f=Jl(v,f,void 0),Gi(o,i,S,f)}if(T=(S&o.childLanes)!==0,ft||T){if(f=Ke,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Yt(o,g),Ut(f,o,g,-1))}return ma(),f=Jl(Error(n(421))),Gi(o,i,S,f)}return g.data==="$?"?(i.flags|=128,i.child=o.child,i=f0.bind(null,o),g._reactRetry=i,null):(o=v.treeContext,Ct=fn(g.nextSibling),_t=i,Ue=!0,Mt=null,o!==null&&(wt[Tt++]=Jt,wt[Tt++]=Kt,wt[Tt++]=Fn,Jt=o.id,Kt=o.overflow,Fn=i),i=jl(i,f.children),i.flags|=4096,i)}function bd(o,i,c){o.lanes|=i;var f=o.alternate;f!==null&&(f.lanes|=i),Rl(o.return,i,c)}function ea(o,i,c,f,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=g)}function Vd(o,i,c){var f=i.pendingProps,g=f.revealOrder,v=f.tail;if(lt(o,i,f.children,c),f=$e.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&bd(o,c,i);else if(o.tag===19)bd(o,c,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}f&=1}if(Pe($e,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(c=i.child,g=null;c!==null;)o=c.alternate,o!==null&&bi(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),ea(i,!1,g,c,v);break;case"backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(o=g.alternate,o!==null&&bi(o)===null){i.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}ea(i,!0,c,null,v);break;case"together":ea(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wi(o,i){(i.mode&1)===0&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function Xt(o,i,c){if(o!==null&&(i.dependencies=o.dependencies),On|=i.lanes,(c&i.childLanes)===0)return null;if(o!==null&&i.child!==o.child)throw Error(n(153));if(i.child!==null){for(o=i.child,c=Tn(o,o.pendingProps),i.child=c,c.return=i;o.sibling!==null;)o=o.sibling,c=c.sibling=Tn(o,o.pendingProps),c.return=i;c.sibling=null}return i.child}function e0(o,i,c){switch(i.tag){case 3:Ud(i),_o();break;case 5:jc(i);break;case 1:dt(i.type)&&Ii(i);break;case 4:Dl(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;Pe(Li,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Pe($e,$e.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?$d(o,i,c):(Pe($e,$e.current&1),o=Xt(o,i,c),o!==null?o.sibling:null);Pe($e,$e.current&1);break;case 19:if(f=(c&i.childLanes)!==0,(o.flags&128)!==0){if(f)return Vd(o,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Pe($e,$e.current),f)break;return null;case 22:case 23:return i.lanes=0,Nd(o,i,c)}return Xt(o,i,c)}var Bd,ta,Od,zd;Bd=function(o,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ta=function(){},Od=function(o,i,c,f){var g=o.memoizedProps;if(g!==f){o=i.stateNode,Vn(Bt.current);var v=null;switch(c){case"input":g=Rs(o,g),f=Rs(o,f),v=[];break;case"select":g=Y({},g,{value:void 0}),f=Y({},f,{value:void 0}),v=[];break;case"textarea":g=Ds(o,g),f=Ds(o,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(o.onclick=ki)}Us(c,f);var S;c=null;for(U in g)if(!f.hasOwnProperty(U)&&g.hasOwnProperty(U)&&g[U]!=null)if(U==="style"){var T=g[U];for(S in T)T.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?v||(v=[]):(v=v||[]).push(U,null));for(U in f){var k=f[U];if(T=g!=null?g[U]:void 0,f.hasOwnProperty(U)&&k!==T&&(k!=null||T!=null))if(U==="style")if(T){for(S in T)!T.hasOwnProperty(S)||k&&k.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in k)k.hasOwnProperty(S)&&T[S]!==k[S]&&(c||(c={}),c[S]=k[S])}else c||(v||(v=[]),v.push(U,c)),c=k;else U==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,T=T?T.__html:void 0,k!=null&&T!==k&&(v=v||[]).push(U,k)):U==="children"?typeof k!="string"&&typeof k!="number"||(v=v||[]).push(U,""+k):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(s.hasOwnProperty(U)?(k!=null&&U==="onScroll"&&Me("scroll",o),v||T===k||(v=[])):(v=v||[]).push(U,k))}c&&(v=v||[]).push("style",c);var U=v;(i.updateQueue=U)&&(i.flags|=4)}},zd=function(o,i,c,f){c!==f&&(i.flags|=4)};function Lr(o,i){if(!Ue)switch(o.tailMode){case"hidden":i=o.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function ot(o){var i=o.alternate!==null&&o.alternate.child===o.child,c=0,f=0;if(i)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=f,o.childLanes=c,i}function t0(o,i,c){var f=i.pendingProps;switch(Tl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return dt(i.type)&&Ai(),ot(i),null;case 3:return f=i.stateNode,To(),Ne(ct),Ne(tt),Fl(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Ni(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mt!==null&&(fa(Mt),Mt=null))),ta(o,i),ot(i),null;case 5:Ll(i);var g=Vn(Pr.current);if(c=i.type,o!==null&&i.stateNode!=null)Od(o,i,c,f,g),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return ot(i),null}if(o=Vn(Bt.current),Ni(i)){f=i.stateNode,c=i.type;var v=i.memoizedProps;switch(f[Vt]=i,f[Er]=v,o=(i.mode&1)!==0,c){case"dialog":Me("cancel",f),Me("close",f);break;case"iframe":case"object":case"embed":Me("load",f);break;case"video":case"audio":for(g=0;g<Sr.length;g++)Me(Sr[g],f);break;case"source":Me("error",f);break;case"img":case"image":case"link":Me("error",f),Me("load",f);break;case"details":Me("toggle",f);break;case"input":wu(f,v),Me("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Me("invalid",f);break;case"textarea":ku(f,v),Me("invalid",f)}Us(c,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var T=v[S];S==="children"?typeof T=="string"?f.textContent!==T&&(v.suppressHydrationWarning!==!0&&Ei(f.textContent,T,o),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&Ei(f.textContent,T,o),g=["children",""+T]):s.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&Me("scroll",f)}switch(c){case"input":ti(f),Eu(f,v,!0);break;case"textarea":ti(f),Au(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=ki)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Iu(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=S.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof f.is=="string"?o=S.createElement(c,{is:f.is}):(o=S.createElement(c),c==="select"&&(S=o,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):o=S.createElementNS(o,c),o[Vt]=i,o[Er]=f,Bd(o,i,!1,!1),i.stateNode=o;e:{switch(S=Fs(c,f),c){case"dialog":Me("cancel",o),Me("close",o),g=f;break;case"iframe":case"object":case"embed":Me("load",o),g=f;break;case"video":case"audio":for(g=0;g<Sr.length;g++)Me(Sr[g],o);g=f;break;case"source":Me("error",o),g=f;break;case"img":case"image":case"link":Me("error",o),Me("load",o),g=f;break;case"details":Me("toggle",o),g=f;break;case"input":wu(o,f),g=Rs(o,f),Me("invalid",o);break;case"option":g=f;break;case"select":o._wrapperState={wasMultiple:!!f.multiple},g=Y({},f,{value:void 0}),Me("invalid",o);break;case"textarea":ku(o,f),g=Ds(o,f),Me("invalid",o);break;default:g=f}Us(c,g),T=g;for(v in T)if(T.hasOwnProperty(v)){var k=T[v];v==="style"?Mu(o,k):v==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Pu(o,k)):v==="children"?typeof k=="string"?(c!=="textarea"||k!=="")&&nr(o,k):typeof k=="number"&&nr(o,""+k):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?k!=null&&v==="onScroll"&&Me("scroll",o):k!=null&&M(o,v,k,S))}switch(c){case"input":ti(o),Eu(o,f,!1);break;case"textarea":ti(o),Au(o);break;case"option":f.value!=null&&o.setAttribute("value",""+Ee(f.value));break;case"select":o.multiple=!!f.multiple,v=f.value,v!=null?oo(o,!!f.multiple,v,!1):f.defaultValue!=null&&oo(o,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=ki)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ot(i),null;case 6:if(o&&i.stateNode!=null)zd(o,i,o.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(c=Vn(Pr.current),Vn(Bt.current),Ni(i)){if(f=i.stateNode,c=i.memoizedProps,f[Vt]=i,(v=f.nodeValue!==c)&&(o=_t,o!==null))switch(o.tag){case 3:Ei(f.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ei(f.nodeValue,c,(o.mode&1)!==0)}v&&(i.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Vt]=i,i.stateNode=f}return ot(i),null;case 13:if(Ne($e),f=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ue&&Ct!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Gc(),_o(),i.flags|=98560,v=!1;else if(v=Ni(i),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Vt]=i}else _o(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),v=!1}else Mt!==null&&(fa(Mt),Mt=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(f=f!==null,f!==(o!==null&&o.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(o===null||($e.current&1)!==0?We===0&&(We=3):ma())),i.updateQueue!==null&&(i.flags|=4),ot(i),null);case 4:return To(),ta(o,i),o===null&&wr(i.stateNode.containerInfo),ot(i),null;case 10:return Pl(i.type._context),ot(i),null;case 17:return dt(i.type)&&Ai(),ot(i),null;case 19:if(Ne($e),v=i.memoizedState,v===null)return ot(i),null;if(f=(i.flags&128)!==0,S=v.rendering,S===null)if(f)Lr(v,!1);else{if(We!==0||o!==null&&(o.flags&128)!==0)for(o=i.child;o!==null;){if(S=bi(o),S!==null){for(i.flags|=128,Lr(v,!1),f=S.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=c,c=i.child;c!==null;)v=c,o=f,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,o=S.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Pe($e,$e.current&1|2),i.child}o=o.sibling}v.tail!==null&&Oe()>Ao&&(i.flags|=128,f=!0,Lr(v,!1),i.lanes=4194304)}else{if(!f)if(o=bi(S),o!==null){if(i.flags|=128,f=!0,c=o.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Lr(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Ue)return ot(i),null}else 2*Oe()-v.renderingStartTime>Ao&&c!==1073741824&&(i.flags|=128,f=!0,Lr(v,!1),i.lanes=4194304);v.isBackwards?(S.sibling=i.child,i.child=S):(c=v.last,c!==null?c.sibling=S:i.child=S,v.last=S)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Oe(),i.sibling=null,c=$e.current,Pe($e,f?c&1|2:c&1),i):(ot(i),null);case 22:case 23:return pa(),f=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(St&1073741824)!==0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function n0(o,i){switch(Tl(i),i.tag){case 1:return dt(i.type)&&Ai(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return To(),Ne(ct),Ne(tt),Fl(),o=i.flags,(o&65536)!==0&&(o&128)===0?(i.flags=o&-65537|128,i):null;case 5:return Ll(i),null;case 13:if(Ne($e),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(n(340));_o()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return Ne($e),null;case 4:return To(),null;case 10:return Pl(i.type._context),null;case 22:case 23:return pa(),null;case 24:return null;default:return null}}var Ji=!1,rt=!1,o0=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ko(o,i){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Be(o,i,f)}else c.current=null}function na(o,i,c){try{c()}catch(f){Be(o,i,f)}}var Hd=!1;function r0(o,i){if(pl=hi,o=Sc(),sl(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var S=0,T=-1,k=-1,U=0,O=0,H=o,B=null;t:for(;;){for(var K;H!==c||g!==0&&H.nodeType!==3||(T=S+g),H!==v||f!==0&&H.nodeType!==3||(k=S+f),H.nodeType===3&&(S+=H.nodeValue.length),(K=H.firstChild)!==null;)B=H,H=K;for(;;){if(H===o)break t;if(B===c&&++U===g&&(T=S),B===v&&++O===f&&(k=S),(K=H.nextSibling)!==null)break;H=B,B=H.parentNode}H=K}c=T===-1||k===-1?null:{start:T,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;for(ml={focusedElem:o,selectionRange:c},hi=!1,Q=i;Q!==null;)if(i=Q,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,Q=o;else for(;Q!==null;){i=Q;try{var Z=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,ze=Z.memoizedState,N=i.stateNode,x=N.getSnapshotBeforeUpdate(i.elementType===i.type?ee:Nt(i.type,ee),ze);N.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var D=i.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(G){Be(i,i.return,G)}if(o=i.sibling,o!==null){o.return=i.return,Q=o;break}Q=i.return}return Z=Hd,Hd=!1,Z}function Ur(o,i,c){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&o)===o){var v=g.destroy;g.destroy=void 0,v!==void 0&&na(i,c,v)}g=g.next}while(g!==f)}}function Ki(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&o)===o){var f=c.create;c.destroy=f()}c=c.next}while(c!==i)}}function oa(o){var i=o.ref;if(i!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof i=="function"?i(o):i.current=o}}function qd(o){var i=o.alternate;i!==null&&(o.alternate=null,qd(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Vt],delete i[Er],delete i[_l],delete i[Bg],delete i[Og])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Gd(o){return o.tag===5||o.tag===3||o.tag===4}function Wd(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Gd(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ra(o,i,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(o,i):c.insertBefore(o,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(o,c)):(i=c,i.appendChild(o)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=ki));else if(f!==4&&(o=o.child,o!==null))for(ra(o,i,c),o=o.sibling;o!==null;)ra(o,i,c),o=o.sibling}function ia(o,i,c){var f=o.tag;if(f===5||f===6)o=o.stateNode,i?c.insertBefore(o,i):c.appendChild(o);else if(f!==4&&(o=o.child,o!==null))for(ia(o,i,c),o=o.sibling;o!==null;)ia(o,i,c),o=o.sibling}var Ze=null,Dt=!1;function vn(o,i,c){for(c=c.child;c!==null;)Jd(o,i,c),c=c.sibling}function Jd(o,i,c){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(li,c)}catch{}switch(c.tag){case 5:rt||ko(c,i);case 6:var f=Ze,g=Dt;Ze=null,vn(o,i,c),Ze=f,Dt=g,Ze!==null&&(Dt?(o=Ze,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):Ze.removeChild(c.stateNode));break;case 18:Ze!==null&&(Dt?(o=Ze,c=c.stateNode,o.nodeType===8?vl(o.parentNode,c):o.nodeType===1&&vl(o,c),hr(o)):vl(Ze,c.stateNode));break;case 4:f=Ze,g=Dt,Ze=c.stateNode.containerInfo,Dt=!0,vn(o,i,c),Ze=f,Dt=g;break;case 0:case 11:case 14:case 15:if(!rt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&na(c,i,S),g=g.next}while(g!==f)}vn(o,i,c);break;case 1:if(!rt&&(ko(c,i),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(T){Be(c,i,T)}vn(o,i,c);break;case 21:vn(o,i,c);break;case 22:c.mode&1?(rt=(f=rt)||c.memoizedState!==null,vn(o,i,c),rt=f):vn(o,i,c);break;default:vn(o,i,c)}}function Kd(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new o0),i.forEach(function(f){var g=h0.bind(null,o,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Lt(o,i){var c=i.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var v=o,S=i,T=S;e:for(;T!==null;){switch(T.tag){case 5:Ze=T.stateNode,Dt=!1;break e;case 3:Ze=T.stateNode.containerInfo,Dt=!0;break e;case 4:Ze=T.stateNode.containerInfo,Dt=!0;break e}T=T.return}if(Ze===null)throw Error(n(160));Jd(v,S,g),Ze=null,Dt=!1;var k=g.alternate;k!==null&&(k.return=null),g.return=null}catch(U){Be(g,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Yd(i,o),i=i.sibling}function Yd(o,i){var c=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Lt(i,o),zt(o),f&4){try{Ur(3,o,o.return),Ki(3,o)}catch(ee){Be(o,o.return,ee)}try{Ur(5,o,o.return)}catch(ee){Be(o,o.return,ee)}}break;case 1:Lt(i,o),zt(o),f&512&&c!==null&&ko(c,c.return);break;case 5:if(Lt(i,o),zt(o),f&512&&c!==null&&ko(c,c.return),o.flags&32){var g=o.stateNode;try{nr(g,"")}catch(ee){Be(o,o.return,ee)}}if(f&4&&(g=o.stateNode,g!=null)){var v=o.memoizedProps,S=c!==null?c.memoizedProps:v,T=o.type,k=o.updateQueue;if(o.updateQueue=null,k!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&Tu(g,v),Fs(T,S);var U=Fs(T,v);for(S=0;S<k.length;S+=2){var O=k[S],H=k[S+1];O==="style"?Mu(g,H):O==="dangerouslySetInnerHTML"?Pu(g,H):O==="children"?nr(g,H):M(g,O,H,U)}switch(T){case"input":Ms(g,v);break;case"textarea":xu(g,v);break;case"select":var B=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var K=v.value;K!=null?oo(g,!!v.multiple,K,!1):B!==!!v.multiple&&(v.defaultValue!=null?oo(g,!!v.multiple,v.defaultValue,!0):oo(g,!!v.multiple,v.multiple?[]:"",!1))}g[Er]=v}catch(ee){Be(o,o.return,ee)}}break;case 6:if(Lt(i,o),zt(o),f&4){if(o.stateNode===null)throw Error(n(162));g=o.stateNode,v=o.memoizedProps;try{g.nodeValue=v}catch(ee){Be(o,o.return,ee)}}break;case 3:if(Lt(i,o),zt(o),f&4&&c!==null&&c.memoizedState.isDehydrated)try{hr(i.containerInfo)}catch(ee){Be(o,o.return,ee)}break;case 4:Lt(i,o),zt(o);break;case 13:Lt(i,o),zt(o),g=o.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(aa=Oe())),f&4&&Kd(o);break;case 22:if(O=c!==null&&c.memoizedState!==null,o.mode&1?(rt=(U=rt)||O,Lt(i,o),rt=U):Lt(i,o),zt(o),f&8192){if(U=o.memoizedState!==null,(o.stateNode.isHidden=U)&&!O&&(o.mode&1)!==0)for(Q=o,O=o.child;O!==null;){for(H=Q=O;Q!==null;){switch(B=Q,K=B.child,B.tag){case 0:case 11:case 14:case 15:Ur(4,B,B.return);break;case 1:ko(B,B.return);var Z=B.stateNode;if(typeof Z.componentWillUnmount=="function"){f=B,c=B.return;try{i=f,Z.props=i.memoizedProps,Z.state=i.memoizedState,Z.componentWillUnmount()}catch(ee){Be(f,c,ee)}}break;case 5:ko(B,B.return);break;case 22:if(B.memoizedState!==null){Zd(H);continue}}K!==null?(K.return=B,Q=K):Zd(H)}O=O.sibling}e:for(O=null,H=o;;){if(H.tag===5){if(O===null){O=H;try{g=H.stateNode,U?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=H.stateNode,k=H.memoizedProps.style,S=k!=null&&k.hasOwnProperty("display")?k.display:null,T.style.display=Ru("display",S))}catch(ee){Be(o,o.return,ee)}}}else if(H.tag===6){if(O===null)try{H.stateNode.nodeValue=U?"":H.memoizedProps}catch(ee){Be(o,o.return,ee)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===o)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===o)break e;for(;H.sibling===null;){if(H.return===null||H.return===o)break e;O===H&&(O=null),H=H.return}O===H&&(O=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Lt(i,o),zt(o),f&4&&Kd(o);break;case 21:break;default:Lt(i,o),zt(o)}}function zt(o){var i=o.flags;if(i&2){try{e:{for(var c=o.return;c!==null;){if(Gd(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(nr(g,""),f.flags&=-33);var v=Wd(o);ia(o,v,g);break;case 3:case 4:var S=f.stateNode.containerInfo,T=Wd(o);ra(o,T,S);break;default:throw Error(n(161))}}catch(k){Be(o,o.return,k)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function i0(o,i,c){Q=o,Qd(o)}function Qd(o,i,c){for(var f=(o.mode&1)!==0;Q!==null;){var g=Q,v=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Ji;if(!S){var T=g.alternate,k=T!==null&&T.memoizedState!==null||rt;T=Ji;var U=rt;if(Ji=S,(rt=k)&&!U)for(Q=g;Q!==null;)S=Q,k=S.child,S.tag===22&&S.memoizedState!==null?jd(g):k!==null?(k.return=S,Q=k):jd(g);for(;v!==null;)Q=v,Qd(v),v=v.sibling;Q=g,Ji=T,rt=U}Xd(o)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Q=v):Xd(o)}}function Xd(o){for(;Q!==null;){var i=Q;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:rt||Ki(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!rt)if(c===null)f.componentDidMount();else{var g=i.elementType===i.type?c.memoizedProps:Nt(i.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Zc(i,v,f);break;case 3:var S=i.updateQueue;if(S!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Zc(i,S,c)}break;case 5:var T=i.stateNode;if(c===null&&i.flags&4){c=T;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&c.focus();break;case"img":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var O=U.memoizedState;if(O!==null){var H=O.dehydrated;H!==null&&hr(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rt||i.flags&512&&oa(i)}catch(B){Be(i,i.return,B)}}if(i===o){Q=null;break}if(c=i.sibling,c!==null){c.return=i.return,Q=c;break}Q=i.return}}function Zd(o){for(;Q!==null;){var i=Q;if(i===o){Q=null;break}var c=i.sibling;if(c!==null){c.return=i.return,Q=c;break}Q=i.return}}function jd(o){for(;Q!==null;){var i=Q;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Ki(4,i)}catch(k){Be(i,c,k)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(k){Be(i,g,k)}}var v=i.return;try{oa(i)}catch(k){Be(i,v,k)}break;case 5:var S=i.return;try{oa(i)}catch(k){Be(i,S,k)}}}catch(k){Be(i,i.return,k)}if(i===o){Q=null;break}var T=i.sibling;if(T!==null){T.return=i.return,Q=T;break}Q=i.return}}var s0=Math.ceil,Yi=$.ReactCurrentDispatcher,sa=$.ReactCurrentOwner,xt=$.ReactCurrentBatchConfig,ve=0,Ke=null,qe=null,je=0,St=0,xo=hn(0),We=0,Fr=null,On=0,Qi=0,la=0,$r=null,ht=null,aa=0,Ao=1/0,Zt=null,Xi=!1,ua=null,_n=null,Zi=!1,Cn=null,ji=0,br=0,ca=null,es=-1,ts=0;function at(){return(ve&6)!==0?Oe():es!==-1?es:es=Oe()}function Sn(o){return(o.mode&1)===0?1:(ve&2)!==0&&je!==0?je&-je:Hg.transition!==null?(ts===0&&(ts=Wu()),ts):(o=ke,o!==0||(o=window.event,o=o===void 0?16:tc(o.type)),o)}function Ut(o,i,c,f){if(50<br)throw br=0,ca=null,Error(n(185));ar(o,c,f),((ve&2)===0||o!==Ke)&&(o===Ke&&((ve&2)===0&&(Qi|=c),We===4&&wn(o,je)),pt(o,f),c===1&&ve===0&&(i.mode&1)===0&&(Ao=Oe()+500,Pi&&mn()))}function pt(o,i){var c=o.callbackNode;Hm(o,i);var f=ci(o,o===Ke?je:0);if(f===0)c!==null&&Hu(c),o.callbackNode=null,o.callbackPriority=0;else if(i=f&-f,o.callbackPriority!==i){if(c!=null&&Hu(c),i===1)o.tag===0?zg(tf.bind(null,o)):Bc(tf.bind(null,o)),bg(function(){(ve&6)===0&&mn()}),c=null;else{switch(Ju(f)){case 1:c=Hs;break;case 4:c=qu;break;case 16:c=si;break;case 536870912:c=Gu;break;default:c=si}c=cf(c,ef.bind(null,o))}o.callbackPriority=i,o.callbackNode=c}}function ef(o,i){if(es=-1,ts=0,(ve&6)!==0)throw Error(n(327));var c=o.callbackNode;if(Io()&&o.callbackNode!==c)return null;var f=ci(o,o===Ke?je:0);if(f===0)return null;if((f&30)!==0||(f&o.expiredLanes)!==0||i)i=ns(o,f);else{i=f;var g=ve;ve|=2;var v=of();(Ke!==o||je!==i)&&(Zt=null,Ao=Oe()+500,Hn(o,i));do try{u0();break}catch(T){nf(o,T)}while(!0);Il(),Yi.current=v,ve=g,qe!==null?i=0:(Ke=null,je=0,i=We)}if(i!==0){if(i===2&&(g=qs(o),g!==0&&(f=g,i=da(o,g))),i===1)throw c=Fr,Hn(o,0),wn(o,f),pt(o,Oe()),c;if(i===6)wn(o,f);else{if(g=o.current.alternate,(f&30)===0&&!l0(g)&&(i=ns(o,f),i===2&&(v=qs(o),v!==0&&(f=v,i=da(o,v))),i===1))throw c=Fr,Hn(o,0),wn(o,f),pt(o,Oe()),c;switch(o.finishedWork=g,o.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:qn(o,ht,Zt);break;case 3:if(wn(o,f),(f&130023424)===f&&(i=aa+500-Oe(),10<i)){if(ci(o,0)!==0)break;if(g=o.suspendedLanes,(g&f)!==f){at(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=yl(qn.bind(null,o,ht,Zt),i);break}qn(o,ht,Zt);break;case 4:if(wn(o,f),(f&4194240)===f)break;for(i=o.eventTimes,g=-1;0<f;){var S=31-Pt(f);v=1<<S,S=i[S],S>g&&(g=S),f&=~v}if(f=g,f=Oe()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*s0(f/1960))-f,10<f){o.timeoutHandle=yl(qn.bind(null,o,ht,Zt),f);break}qn(o,ht,Zt);break;case 5:qn(o,ht,Zt);break;default:throw Error(n(329))}}}return pt(o,Oe()),o.callbackNode===c?ef.bind(null,o):null}function da(o,i){var c=$r;return o.current.memoizedState.isDehydrated&&(Hn(o,i).flags|=256),o=ns(o,i),o!==2&&(i=ht,ht=c,i!==null&&fa(i)),o}function fa(o){ht===null?ht=o:ht.push.apply(ht,o)}function l0(o){for(var i=o;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],v=g.getSnapshot;g=g.value;try{if(!Rt(v(),g))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wn(o,i){for(i&=~la,i&=~Qi,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var c=31-Pt(i),f=1<<c;o[c]=-1,i&=~f}}function tf(o){if((ve&6)!==0)throw Error(n(327));Io();var i=ci(o,0);if((i&1)===0)return pt(o,Oe()),null;var c=ns(o,i);if(o.tag!==0&&c===2){var f=qs(o);f!==0&&(i=f,c=da(o,f))}if(c===1)throw c=Fr,Hn(o,0),wn(o,i),pt(o,Oe()),c;if(c===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,qn(o,ht,Zt),pt(o,Oe()),null}function ha(o,i){var c=ve;ve|=1;try{return o(i)}finally{ve=c,ve===0&&(Ao=Oe()+500,Pi&&mn())}}function zn(o){Cn!==null&&Cn.tag===0&&(ve&6)===0&&Io();var i=ve;ve|=1;var c=xt.transition,f=ke;try{if(xt.transition=null,ke=1,o)return o()}finally{ke=f,xt.transition=c,ve=i,(ve&6)===0&&mn()}}function pa(){St=xo.current,Ne(xo)}function Hn(o,i){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,$g(c)),qe!==null)for(c=qe.return;c!==null;){var f=c;switch(Tl(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ai();break;case 3:To(),Ne(ct),Ne(tt),Fl();break;case 5:Ll(f);break;case 4:To();break;case 13:Ne($e);break;case 19:Ne($e);break;case 10:Pl(f.type._context);break;case 22:case 23:pa()}c=c.return}if(Ke=o,qe=o=Tn(o.current,null),je=St=i,We=0,Fr=null,la=Qi=On=0,ht=$r=null,bn!==null){for(i=0;i<bn.length;i++)if(c=bn[i],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,v=c.pending;if(v!==null){var S=v.next;v.next=g,f.next=S}c.pending=f}bn=null}return o}function nf(o,i){do{var c=qe;try{if(Il(),Vi.current=Hi,Bi){for(var f=be.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Bi=!1}if(Bn=0,Je=Ge=be=null,Rr=!1,Mr=0,sa.current=null,c===null||c.return===null){We=1,Fr=i,qe=null;break}e:{var v=o,S=c.return,T=c,k=i;if(i=je,T.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var U=k,O=T,H=O.tag;if((O.mode&1)===0&&(H===0||H===11||H===15)){var B=O.alternate;B?(O.updateQueue=B.updateQueue,O.memoizedState=B.memoizedState,O.lanes=B.lanes):(O.updateQueue=null,O.memoizedState=null)}var K=Ad(S);if(K!==null){K.flags&=-257,Id(K,S,T,v,i),K.mode&1&&xd(v,U,i),i=K,k=U;var Z=i.updateQueue;if(Z===null){var ee=new Set;ee.add(k),i.updateQueue=ee}else Z.add(k);break e}else{if((i&1)===0){xd(v,U,i),ma();break e}k=Error(n(426))}}else if(Ue&&T.mode&1){var ze=Ad(S);if(ze!==null){(ze.flags&65536)===0&&(ze.flags|=256),Id(ze,S,T,v,i),xl(Eo(k,T));break e}}v=k=Eo(k,T),We!==4&&(We=2),$r===null?$r=[v]:$r.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var N=Ed(v,k,i);Xc(v,N);break e;case 1:T=k;var x=v.type,D=v.stateNode;if((v.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(_n===null||!_n.has(D)))){v.flags|=65536,i&=-i,v.lanes|=i;var G=kd(v,T,i);Xc(v,G);break e}}v=v.return}while(v!==null)}sf(c)}catch(te){i=te,qe===c&&c!==null&&(qe=c=c.return);continue}break}while(!0)}function of(){var o=Yi.current;return Yi.current=Hi,o===null?Hi:o}function ma(){(We===0||We===3||We===2)&&(We=4),Ke===null||(On&268435455)===0&&(Qi&268435455)===0||wn(Ke,je)}function ns(o,i){var c=ve;ve|=2;var f=of();(Ke!==o||je!==i)&&(Zt=null,Hn(o,i));do try{a0();break}catch(g){nf(o,g)}while(!0);if(Il(),ve=c,Yi.current=f,qe!==null)throw Error(n(261));return Ke=null,je=0,We}function a0(){for(;qe!==null;)rf(qe)}function u0(){for(;qe!==null&&!Lm();)rf(qe)}function rf(o){var i=uf(o.alternate,o,St);o.memoizedProps=o.pendingProps,i===null?sf(o):qe=i,sa.current=null}function sf(o){var i=o;do{var c=i.alternate;if(o=i.return,(i.flags&32768)===0){if(c=t0(c,i,St),c!==null){qe=c;return}}else{if(c=n0(c,i),c!==null){c.flags&=32767,qe=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{We=6,qe=null;return}}if(i=i.sibling,i!==null){qe=i;return}qe=i=o}while(i!==null);We===0&&(We=5)}function qn(o,i,c){var f=ke,g=xt.transition;try{xt.transition=null,ke=1,c0(o,i,c,f)}finally{xt.transition=g,ke=f}return null}function c0(o,i,c,f){do Io();while(Cn!==null);if((ve&6)!==0)throw Error(n(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(qm(o,v),o===Ke&&(qe=Ke=null,je=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Zi||(Zi=!0,cf(si,function(){return Io(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=xt.transition,xt.transition=null;var S=ke;ke=1;var T=ve;ve|=4,sa.current=null,r0(o,c),Yd(c,o),Rg(ml),hi=!!pl,ml=pl=null,o.current=c,i0(c),Um(),ve=T,ke=S,xt.transition=v}else o.current=c;if(Zi&&(Zi=!1,Cn=o,ji=g),v=o.pendingLanes,v===0&&(_n=null),bm(c.stateNode),pt(o,Oe()),i!==null)for(f=o.onRecoverableError,c=0;c<i.length;c++)g=i[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Xi)throw Xi=!1,o=ua,ua=null,o;return(ji&1)!==0&&o.tag!==0&&Io(),v=o.pendingLanes,(v&1)!==0?o===ca?br++:(br=0,ca=o):br=0,mn(),null}function Io(){if(Cn!==null){var o=Ju(ji),i=xt.transition,c=ke;try{if(xt.transition=null,ke=16>o?16:o,Cn===null)var f=!1;else{if(o=Cn,Cn=null,ji=0,(ve&6)!==0)throw Error(n(331));var g=ve;for(ve|=4,Q=o.current;Q!==null;){var v=Q,S=v.child;if((Q.flags&16)!==0){var T=v.deletions;if(T!==null){for(var k=0;k<T.length;k++){var U=T[k];for(Q=U;Q!==null;){var O=Q;switch(O.tag){case 0:case 11:case 15:Ur(8,O,v)}var H=O.child;if(H!==null)H.return=O,Q=H;else for(;Q!==null;){O=Q;var B=O.sibling,K=O.return;if(qd(O),O===U){Q=null;break}if(B!==null){B.return=K,Q=B;break}Q=K}}}var Z=v.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var ze=ee.sibling;ee.sibling=null,ee=ze}while(ee!==null)}}Q=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Q=S;else e:for(;Q!==null;){if(v=Q,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ur(9,v,v.return)}var N=v.sibling;if(N!==null){N.return=v.return,Q=N;break e}Q=v.return}}var x=o.current;for(Q=x;Q!==null;){S=Q;var D=S.child;if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,Q=D;else e:for(S=x;Q!==null;){if(T=Q,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Ki(9,T)}}catch(te){Be(T,T.return,te)}if(T===S){Q=null;break e}var G=T.sibling;if(G!==null){G.return=T.return,Q=G;break e}Q=T.return}}if(ve=g,mn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(li,o)}catch{}f=!0}return f}finally{ke=c,xt.transition=i}}return!1}function lf(o,i,c){i=Eo(c,i),i=Ed(o,i,1),o=yn(o,i,1),i=at(),o!==null&&(ar(o,1,i),pt(o,i))}function Be(o,i,c){if(o.tag===3)lf(o,o,c);else for(;i!==null;){if(i.tag===3){lf(i,o,c);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_n===null||!_n.has(f))){o=Eo(c,o),o=kd(i,o,1),i=yn(i,o,1),o=at(),i!==null&&(ar(i,1,o),pt(i,o));break}}i=i.return}}function d0(o,i,c){var f=o.pingCache;f!==null&&f.delete(i),i=at(),o.pingedLanes|=o.suspendedLanes&c,Ke===o&&(je&c)===c&&(We===4||We===3&&(je&130023424)===je&&500>Oe()-aa?Hn(o,0):la|=c),pt(o,i)}function af(o,i){i===0&&((o.mode&1)===0?i=1:(i=ui,ui<<=1,(ui&130023424)===0&&(ui=4194304)));var c=at();o=Yt(o,i),o!==null&&(ar(o,i,c),pt(o,c))}function f0(o){var i=o.memoizedState,c=0;i!==null&&(c=i.retryLane),af(o,c)}function h0(o,i){var c=0;switch(o.tag){case 13:var f=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=o.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),af(o,c)}var uf;uf=function(o,i,c){if(o!==null)if(o.memoizedProps!==i.pendingProps||ct.current)ft=!0;else{if((o.lanes&c)===0&&(i.flags&128)===0)return ft=!1,e0(o,i,c);ft=(o.flags&131072)!==0}else ft=!1,Ue&&(i.flags&1048576)!==0&&Oc(i,Mi,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;Wi(o,i),o=i.pendingProps;var g=go(i,tt.current);wo(i,c),g=Vl(null,i,f,o,g,c);var v=Bl();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,dt(f)?(v=!0,Ii(i)):v=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Nl(i),g.updater=qi,i.stateNode=g,g._reactInternals=i,Wl(i,f,o,c),i=Ql(null,i,f,!0,v,c)):(i.tag=0,Ue&&v&&wl(i),lt(null,i,g,c),i=i.child),i;case 16:f=i.elementType;e:{switch(Wi(o,i),o=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=m0(f),o=Nt(f,o),g){case 0:i=Yl(null,i,f,o,c);break e;case 1:i=Ld(null,i,f,o,c);break e;case 11:i=Pd(null,i,f,o,c);break e;case 14:i=Rd(null,i,f,Nt(f.type,o),c);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Nt(f,g),Yl(o,i,f,g,c);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Nt(f,g),Ld(o,i,f,g,c);case 3:e:{if(Ud(i),o===null)throw Error(n(387));f=i.pendingProps,v=i.memoizedState,g=v.element,Qc(o,i),$i(i,f,null,c);var S=i.memoizedState;if(f=S.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){g=Eo(Error(n(423)),i),i=Fd(o,i,f,c,g);break e}else if(f!==g){g=Eo(Error(n(424)),i),i=Fd(o,i,f,c,g);break e}else for(Ct=fn(i.stateNode.containerInfo.firstChild),_t=i,Ue=!0,Mt=null,c=Kc(i,null,f,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_o(),f===g){i=Xt(o,i,c);break e}lt(o,i,f,c)}i=i.child}return i;case 5:return jc(i),o===null&&kl(i),f=i.type,g=i.pendingProps,v=o!==null?o.memoizedProps:null,S=g.children,gl(f,g)?S=null:v!==null&&gl(f,v)&&(i.flags|=32),Dd(o,i),lt(o,i,S,c),i.child;case 6:return o===null&&kl(i),null;case 13:return $d(o,i,c);case 4:return Dl(i,i.stateNode.containerInfo),f=i.pendingProps,o===null?i.child=Co(i,null,f,c):lt(o,i,f,c),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Nt(f,g),Pd(o,i,f,g,c);case 7:return lt(o,i,i.pendingProps,c),i.child;case 8:return lt(o,i,i.pendingProps.children,c),i.child;case 12:return lt(o,i,i.pendingProps.children,c),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,v=i.memoizedProps,S=g.value,Pe(Li,f._currentValue),f._currentValue=S,v!==null)if(Rt(v.value,S)){if(v.children===g.children&&!ct.current){i=Xt(o,i,c);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var T=v.dependencies;if(T!==null){S=v.child;for(var k=T.firstContext;k!==null;){if(k.context===f){if(v.tag===1){k=Qt(-1,c&-c),k.tag=2;var U=v.updateQueue;if(U!==null){U=U.shared;var O=U.pending;O===null?k.next=k:(k.next=O.next,O.next=k),U.pending=k}}v.lanes|=c,k=v.alternate,k!==null&&(k.lanes|=c),Rl(v.return,c,i),T.lanes|=c;break}k=k.next}}else if(v.tag===10)S=v.type===i.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(n(341));S.lanes|=c,T=S.alternate,T!==null&&(T.lanes|=c),Rl(S,c,i),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===i){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}lt(o,i,g.children,c),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,wo(i,c),g=Et(g),f=f(g),i.flags|=1,lt(o,i,f,c),i.child;case 14:return f=i.type,g=Nt(f,i.pendingProps),g=Nt(f.type,g),Rd(o,i,f,g,c);case 15:return Md(o,i,i.type,i.pendingProps,c);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:Nt(f,g),Wi(o,i),i.tag=1,dt(f)?(o=!0,Ii(i)):o=!1,wo(i,c),wd(i,f,g),Wl(i,f,g,c),Ql(null,i,f,!0,o,c);case 19:return Vd(o,i,c);case 22:return Nd(o,i,c)}throw Error(n(156,i.tag))};function cf(o,i){return zu(o,i)}function p0(o,i,c,f){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(o,i,c,f){return new p0(o,i,c,f)}function ga(o){return o=o.prototype,!(!o||!o.isReactComponent)}function m0(o){if(typeof o=="function")return ga(o)?1:0;if(o!=null){if(o=o.$$typeof,o===we)return 11;if(o===ge)return 14}return 2}function Tn(o,i){var c=o.alternate;return c===null?(c=At(o.tag,i,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=i,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,i=o.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function os(o,i,c,f,g,v){var S=2;if(f=o,typeof o=="function")ga(o)&&(S=1);else if(typeof o=="string")S=5;else e:switch(o){case W:return Gn(c.children,g,v,i);case ue:S=8,g|=8;break;case j:return o=At(12,c,i,g|2),o.elementType=j,o.lanes=v,o;case Fe:return o=At(13,c,i,g),o.elementType=Fe,o.lanes=v,o;case Ve:return o=At(19,c,i,g),o.elementType=Ve,o.lanes=v,o;case Te:return rs(c,g,v,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case ne:S=10;break e;case oe:S=9;break e;case we:S=11;break e;case ge:S=14;break e;case ye:S=16,f=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return i=At(S,c,i,g),i.elementType=o,i.type=f,i.lanes=v,i}function Gn(o,i,c,f){return o=At(7,o,f,i),o.lanes=c,o}function rs(o,i,c,f){return o=At(22,o,f,i),o.elementType=Te,o.lanes=c,o.stateNode={isHidden:!1},o}function ya(o,i,c){return o=At(6,o,null,i),o.lanes=c,o}function va(o,i,c){return i=At(4,o.children!==null?o.children:[],o.key,i),i.lanes=c,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function g0(o,i,c,f,g){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function _a(o,i,c,f,g,v,S,T,k){return o=new g0(o,i,c,T,k),i===1?(i=1,v===!0&&(i|=8)):i=0,v=At(3,null,null,i),o.current=v,v.stateNode=o,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nl(v),o}function y0(o,i,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:f==null?null:""+f,children:o,containerInfo:i,implementation:c}}function df(o){if(!o)return pn;o=o._reactInternals;e:{if(Dn(o)!==o||o.tag!==1)throw Error(n(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(dt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(o.tag===1){var c=o.type;if(dt(c))return bc(o,c,i)}return i}function ff(o,i,c,f,g,v,S,T,k){return o=_a(c,f,!0,o,g,v,S,T,k),o.context=df(null),c=o.current,f=at(),g=Sn(c),v=Qt(f,g),v.callback=i??null,yn(c,v,g),o.current.lanes=g,ar(o,g,f),pt(o,f),o}function is(o,i,c,f){var g=i.current,v=at(),S=Sn(g);return c=df(c),i.context===null?i.context=c:i.pendingContext=c,i=Qt(v,S),i.payload={element:o},f=f===void 0?null:f,f!==null&&(i.callback=f),o=yn(g,i,S),o!==null&&(Ut(o,g,S,v),Fi(o,g,S)),S}function ss(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hf(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<i?c:i}}function Ca(o,i){hf(o,i),(o=o.alternate)&&hf(o,i)}function v0(){return null}var pf=typeof reportError=="function"?reportError:function(o){console.error(o)};function Sa(o){this._internalRoot=o}ls.prototype.render=Sa.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(n(409));is(o,i,null,null)},ls.prototype.unmount=Sa.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;zn(function(){is(null,o,null,null)}),i[Gt]=null}};function ls(o){this._internalRoot=o}ls.prototype.unstable_scheduleHydration=function(o){if(o){var i=Qu();o={blockedOn:null,target:o,priority:i};for(var c=0;c<un.length&&i!==0&&i<un[c].priority;c++);un.splice(c,0,o),c===0&&ju(o)}};function wa(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function as(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function mf(){}function _0(o,i,c,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var U=ss(S);v.call(U)}}var S=ff(i,f,o,0,null,!1,!1,"",mf);return o._reactRootContainer=S,o[Gt]=S.current,wr(o.nodeType===8?o.parentNode:o),zn(),S}for(;g=o.lastChild;)o.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var U=ss(k);T.call(U)}}var k=_a(o,0,!1,null,null,!1,!1,"",mf);return o._reactRootContainer=k,o[Gt]=k.current,wr(o.nodeType===8?o.parentNode:o),zn(function(){is(i,k,c,f)}),k}function us(o,i,c,f,g){var v=c._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var T=g;g=function(){var k=ss(S);T.call(k)}}is(i,S,o,g)}else S=_0(c,i,o,g,f);return ss(S)}Ku=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var c=lr(i.pendingLanes);c!==0&&(Ws(i,c|1),pt(i,Oe()),(ve&6)===0&&(Ao=Oe()+500,mn()))}break;case 13:zn(function(){var f=Yt(o,1);if(f!==null){var g=at();Ut(f,o,1,g)}}),Ca(o,1)}},Js=function(o){if(o.tag===13){var i=Yt(o,134217728);if(i!==null){var c=at();Ut(i,o,134217728,c)}Ca(o,134217728)}},Yu=function(o){if(o.tag===13){var i=Sn(o),c=Yt(o,i);if(c!==null){var f=at();Ut(c,o,i,f)}Ca(o,i)}},Qu=function(){return ke},Xu=function(o,i){var c=ke;try{return ke=o,i()}finally{ke=c}},Vs=function(o,i,c){switch(i){case"input":if(Ms(o,c),i=c.name,c.type==="radio"&&i!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var f=c[i];if(f!==o&&f.form===o.form){var g=xi(f);if(!g)throw Error(n(90));Su(f),Ms(f,g)}}}break;case"textarea":xu(o,c);break;case"select":i=c.value,i!=null&&oo(o,!!c.multiple,i,!1)}},Uu=ha,Fu=zn;var C0={usingClientEntryPoint:!1,Events:[kr,po,xi,Du,Lu,ha]},Vr={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S0={bundleType:Vr.bundleType,version:Vr.version,rendererPackageName:Vr.rendererPackageName,rendererConfig:Vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Bu(o),o===null?null:o.stateNode},findFiberByHostInstance:Vr.findFiberByHostInstance||v0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{li=cs.inject(S0),bt=cs}catch{}}return mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0,mt.createPortal=function(o,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(i))throw Error(n(200));return y0(o,i,null,c)},mt.createRoot=function(o,i){if(!wa(o))throw Error(n(299));var c=!1,f="",g=pf;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=_a(o,1,!1,null,null,c,!1,f,g),o[Gt]=i.current,wr(o.nodeType===8?o.parentNode:o),new Sa(i)},mt.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Bu(i),o=o===null?null:o.stateNode,o},mt.flushSync=function(o){return zn(o)},mt.hydrate=function(o,i,c){if(!as(i))throw Error(n(200));return us(null,o,i,!0,c)},mt.hydrateRoot=function(o,i,c){if(!wa(o))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,g=!1,v="",S=pf;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),i=ff(i,null,o,1,c??null,g,!1,v,S),o[Gt]=i.current,wr(o),f)for(o=0;o<f.length;o++)c=f[o],g=c._getVersion,g=g(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,g]:i.mutableSourceEagerHydrationData.push(c,g);return new ls(i)},mt.render=function(o,i,c){if(!as(i))throw Error(n(200));return us(null,o,i,!1,c)},mt.unmountComponentAtNode=function(o){if(!as(o))throw Error(n(40));return o._reactRootContainer?(zn(function(){us(null,null,o,!1,function(){o._reactRootContainer=null,o[Gt]=null})}),!0):!1},mt.unstable_batchedUpdates=ha,mt.unstable_renderSubtreeIntoContainer=function(o,i,c,f){if(!as(c))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return us(o,i,c,!1,f)},mt.version="18.3.1-next-f1338f8080-20240426",mt}var Tf;function R0(){if(Tf)return ka.exports;Tf=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ka.exports=P0(),ka.exports}var Ef;function M0(){if(Ef)return ds;Ef=1;var t=R0();return ds.createRoot=t.createRoot,ds.hydrateRoot=t.hydrateRoot,ds}var N0=M0();const D0=au(N0),L0="modulepreload",U0=function(t){return"/"+t},kf={},Xr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=d(n.map(p=>{if(p=U0(p),p in kf)return;kf[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const C=document.createElement("link");if(C.rel=y?"stylesheet":L0,y||(C.as="script"),C.crossOrigin="",C.href=p,m&&C.setAttribute("nonce",m),document.head.appendChild(C),y)return new Promise((w,E)=>{C.addEventListener("load",w),C.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return s.then(d=>{for(const h of d||[])h.status==="rejected"&&u(h.reason);return e().catch(u)})},F0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ko);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class cu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class $0 extends cu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xf extends cu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Af extends cu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ba;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ba||(ba={}));var b0=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};class V0{constructor(e,{headers:n={},customFetch:r,region:s=ba.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=F0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return b0(this,void 0,void 0,function*(){try{const{headers:s,method:u,body:d}=n;let h={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${e}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let y;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)));const _=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y}).catch(A=>{throw new $0(A)}),C=_.headers.get("x-relay-error");if(C&&C==="true")throw new xf(_);if(!_.ok)throw new Af(_);let w=((r=_.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return w==="application/json"?E=yield _.json():w==="application/octet-stream"?E=yield _.blob():w==="text/event-stream"?E=_:w==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(s){return{data:null,error:s,response:s instanceof Af||s instanceof xf?s.context:void 0}}})}}var Qe={},Po={},Ro={},Mo={},No={},Do={},B0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jo=B0();const O0=Jo.fetch,Tp=Jo.fetch.bind(Jo),Ep=Jo.Headers,z0=Jo.Request,H0=Jo.Response,Ko=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ep,Request:z0,Response:H0,default:Tp,fetch:O0},Symbol.toStringTag,{value:"Module"})),q0=T0(Ko);var fs={},If;function kp(){if(If)return fs;If=1,Object.defineProperty(fs,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return fs.default=t,fs}var Pf;function xp(){if(Pf)return Do;Pf=1;var t=Do&&Do.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Do,"__esModule",{value:!0});const e=t(q0),n=t(kp());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=Object.assign({},this.headers),this.headers[u]=d,this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,_,C;let w=null,E=null,A=null,I=p.status,L=p.statusText;if(p.ok){if(this.method!=="HEAD"){const b=await p.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=b:E=JSON.parse(b))}const M=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),$=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");M&&$&&$.length>1&&(A=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,A=null,I=406,L="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const M=await p.text();try{w=JSON.parse(M),Array.isArray(w)&&p.status===404&&(E=[],w=null,I=200,L="OK")}catch{p.status===404&&M===""?(I=204,L="No Content"):w={message:M}}if(w&&this.isMaybeSingle&&(!((C=w==null?void 0:w.details)===null||C===void 0)&&C.includes("0 rows"))&&(w=null,I=200,L="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:E,count:A,status:I,statusText:L}});return this.shouldThrowOnError||(m=m.catch(p=>{var y,_,C;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(_=p==null?void 0:p.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(C=p==null?void 0:p.code)!==null&&C!==void 0?C:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return Do.default=r,Do}var Rf;function Ap(){if(Rf)return No;Rf=1;var t=No&&No.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(No,"__esModule",{value:!0});const e=t(xp());class n extends e.default{select(s){let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:u=!0,nullsFirst:d,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${s}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${s}`),this}range(s,u,{foreignTable:d,referencedTable:h=d}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${s}`),this.url.searchParams.set(p,`${u-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:u=!1,settings:d=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var y;const _=[s?"analyze":null,u?"verbose":null,d?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),C=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${C}"; options=${_};`,p==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return No.default=n,No}var Mf;function du(){if(Mf)return Mo;Mf=1;var t=Mo&&Mo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mo,"__esModule",{value:!0});const e=t(Ap());class n extends e.default{eq(s,u){return this.url.searchParams.append(s,`eq.${u}`),this}neq(s,u){return this.url.searchParams.append(s,`neq.${u}`),this}gt(s,u){return this.url.searchParams.append(s,`gt.${u}`),this}gte(s,u){return this.url.searchParams.append(s,`gte.${u}`),this}lt(s,u){return this.url.searchParams.append(s,`lt.${u}`),this}lte(s,u){return this.url.searchParams.append(s,`lte.${u}`),this}like(s,u){return this.url.searchParams.append(s,`like.${u}`),this}likeAllOf(s,u){return this.url.searchParams.append(s,`like(all).{${u.join(",")}}`),this}likeAnyOf(s,u){return this.url.searchParams.append(s,`like(any).{${u.join(",")}}`),this}ilike(s,u){return this.url.searchParams.append(s,`ilike.${u}`),this}ilikeAllOf(s,u){return this.url.searchParams.append(s,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(s,u){return this.url.searchParams.append(s,`ilike(any).{${u.join(",")}}`),this}is(s,u){return this.url.searchParams.append(s,`is.${u}`),this}in(s,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(s,`in.(${d})`),this}contains(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cs.{${u.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(u)}`),this}containedBy(s,u){return typeof u=="string"?this.url.searchParams.append(s,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(s,`cd.{${u.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(u)}`),this}rangeGt(s,u){return this.url.searchParams.append(s,`sr.${u}`),this}rangeGte(s,u){return this.url.searchParams.append(s,`nxl.${u}`),this}rangeLt(s,u){return this.url.searchParams.append(s,`sl.${u}`),this}rangeLte(s,u){return this.url.searchParams.append(s,`nxr.${u}`),this}rangeAdjacent(s,u){return this.url.searchParams.append(s,`adj.${u}`),this}overlaps(s,u){return typeof u=="string"?this.url.searchParams.append(s,`ov.${u}`):this.url.searchParams.append(s,`ov.{${u.join(",")}}`),this}textSearch(s,u,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(s,`${m}fts${p}.${u}`),this}match(s){return Object.entries(s).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(s,u,d){return this.url.searchParams.append(s,`not.${u}.${d}`),this}or(s,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${s})`),this}filter(s,u,d){return this.url.searchParams.append(s,`${u}.${d}`),this}}return Mo.default=n,Mo}var Nf;function Ip(){if(Nf)return Ro;Nf=1;var t=Ro&&Ro.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ro,"__esModule",{value:!0});const e=t(du());class n{constructor(s,{headers:u={},schema:d,fetch:h}){this.url=s,this.headers=u,this.schema=d,this.fetch=h}select(s,{head:u=!1,count:d}={}){const h=u?"HEAD":"GET";let m=!1;const p=(s??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",p),d&&(this.headers.Prefer=`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:u,defaultToNull:d=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(s)){const p=s.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(p.length>0){const y=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:u,ignoreDuplicates:d=!1,count:h,defaultToNull:m=!0}={}){const p="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(s)){const _=s.reduce((C,w)=>C.concat(Object.keys(w)),[]);if(_.length>0){const C=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",C.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:u}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),this.headers.Prefer=h.join(","),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const u="DELETE",d=[];return s&&d.push(`count=${s}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ro.default=n,Ro}var Or={},zr={},Df;function G0(){return Df||(Df=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.version=void 0,zr.version="0.0.0-automated"),zr}var Lf;function W0(){if(Lf)return Or;Lf=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.DEFAULT_HEADERS=void 0;const t=G0();return Or.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Or}var Uf;function J0(){if(Uf)return Po;Uf=1;var t=Po&&Po.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Po,"__esModule",{value:!0});const e=t(Ip()),n=t(du()),r=W0();class s{constructor(d,{headers:h={},schema:m,fetch:p}={}){this.url=d,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=p}from(d){const h=new URL(`${this.url}/${d}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new s(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:m=!1,get:p=!1,count:y}={}){let _;const C=new URL(`${this.url}/rpc/${d}`);let w;m||p?(_=m?"HEAD":"GET",Object.entries(h).filter(([A,I])=>I!==void 0).map(([A,I])=>[A,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([A,I])=>{C.searchParams.append(A,I)})):(_="POST",w=h);const E=Object.assign({},this.headers);return y&&(E.Prefer=`count=${y}`),new n.default({method:_,url:C,headers:E,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Po.default=s,Po}var Ff;function K0(){if(Ff)return Qe;Ff=1;var t=Qe&&Qe.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const e=t(J0());Qe.PostgrestClient=e.default;const n=t(Ip());Qe.PostgrestQueryBuilder=n.default;const r=t(du());Qe.PostgrestFilterBuilder=r.default;const s=t(Ap());Qe.PostgrestTransformBuilder=s.default;const u=t(xp());Qe.PostgrestBuilder=u.default;const d=t(kp());return Qe.PostgrestError=d.default,Qe.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:u.default,PostgrestError:d.default},Qe}var Y0=K0();const Q0=au(Y0),{PostgrestClient:X0,PostgrestQueryBuilder:d3,PostgrestFilterBuilder:f3,PostgrestTransformBuilder:h3,PostgrestBuilder:p3,PostgrestError:m3}=Q0;function Z0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const j0=Z0(),ey="2.11.15",ty=`realtime-js/${ey}`,ny="1.0.0",Pp=1e4,oy=1e3;var Jr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jr||(Jr={}));var it;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(it||(it={}));var $t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})($t||($t={}));var Va;(function(t){t.websocket="websocket"})(Va||(Va={}));var Yn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Yn||(Yn={}));class ry{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const h=r.decode(e.slice(d,d+s));d=d+s;const m=r.decode(e.slice(d,d+u));d=d+u;const p=JSON.parse(r.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class Rp{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Re||(Re={}));const $f=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((u,d)=>(u[d]=iy(d,t,e,s),u),{})},iy=(t,e,n,r)=>{const s=e.find(h=>h.name===t),u=s==null?void 0:s.type,d=n[t];return u&&!r.includes(u)?Mp(u,d):Ba(d)},Mp=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return uy(e,n)}switch(t){case Re.bool:return sy(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return ly(e);case Re.json:case Re.jsonb:return ay(e);case Re.timestamp:return cy(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Ba(e);default:return Ba(e)}},Ba=t=>t,sy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ly=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ay=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},uy=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let u;const d=t.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>Mp(e,h))}return t},cy=t=>typeof t=="string"?t.replace(" ","T"):t,Np=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ia{constructor(e,n,r={},s=Pp){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bf||(bf={}));class Kr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,s,u,d),this.pendingDiffs.forEach(m=>{this.state=Kr.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},s=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Kr.syncDiff(this.state,s,u,d),h())}),this.onJoin((s,u,d)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:u,newPresences:d})}),this.onLeave((s,u,d)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const u=this.cloneDeep(e),d=this.transformState(n),h={},m={};return this.map(u,(p,y)=>{d[p]||(m[p]=y)}),this.map(d,(p,y)=>{const _=u[p];if(_){const C=y.map(I=>I.presence_ref),w=_.map(I=>I.presence_ref),E=y.filter(I=>w.indexOf(I.presence_ref)<0),A=_.filter(I=>C.indexOf(I.presence_ref)<0);E.length>0&&(h[p]=E),A.length>0&&(m[p]=A)}else h[p]=y}),this.syncDiff(u,{joins:h,leaves:m},r,s)}static syncDiff(e,n,r,s){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(u,(h,m)=>{var p;const y=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(m),y.length>0){const _=e[h].map(w=>w.presence_ref),C=y.filter(w=>_.indexOf(w.presence_ref)<0);e[h].unshift(...C)}r(h,y,m)}),this.map(d,(h,m)=>{let p=e[h];if(!p)return;const y=m.map(_=>_.presence_ref);p=p.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=p,s(h,p,m),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vf||(Vf={}));var Bf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bf||(Bf={}));var en;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class fu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ia(this,$t.join,this.params,this.timeout),this.rejoinTimer=new Rp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new Kr(this),this.broadcastEndpointURL=Np(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params;this._onError(y=>e==null?void 0:e(en.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(en.CLOSED));const m={},p={broadcast:u,presence:d,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e==null||e(en.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,w=(_=C==null?void 0:C.length)!==null&&_!==void 0?_:0,E=[];for(let A=0;A<w;A++){const I=C[A],{filter:{event:L,schema:F,table:M,filter:$}}=I,b=y&&y[A];if(b&&b.event===L&&b.schema===F&&b.table===M&&b.filter===$)E.push(Object.assign(Object.assign({},I),{id:b.id}));else{this.unsubscribe(),this.state=it.errored,e==null||e(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(en.SUBSCRIBED);return}}).receive("error",y=>{this.state=it.errored,e==null||e(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:d}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,m;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ia(this,$t.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,u=setTimeout(()=>s.abort(),r),d=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(u),d}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ia(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,u;const d=e.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=$t;if(r&&[h,m,p,y].indexOf(d)>=0&&r!==this._joinRef())return;let C=this._onMessage(d,n,r);if(n&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var E,A,I;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((I=(A=w.filter)===null||A===void 0?void 0:A.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===d}).map(w=>w.callback(C,r)):(u=this.bindings[d])===null||u===void 0||u.filter(w=>{var E,A,I,L,F,M;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const $=w.id,b=(E=w.filter)===null||E===void 0?void 0:E.event;return $&&((A=n.ids)===null||A===void 0?void 0:A.includes($))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((I=n.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const $=(F=(L=w==null?void 0:w.filter)===null||L===void 0?void 0:L.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return $==="*"||$===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof C=="object"&&"ids"in C){const E=C.data,{schema:A,table:I,commit_timestamp:L,type:F,errors:M}=E;C=Object.assign(Object.assign({},{schema:A,table:I,commit_timestamp:L,eventType:F,new:{},old:{},errors:M}),this._getPayloadRecords(E))}w.callback(C,r)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),u={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(u):this.bindings[s]=[u],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var u;return!(((u=s.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&fu.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($t.close,{},e)}_onError(e){this._on($t.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$f(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$f(e.columns,e.old_record)),n}}const Of=()=>{},dy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fy{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pp,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Of,this.ref=0,this.logger=Of,this.conn=null,this.sendBuffer=[],this.serializer=new ry,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...h)=>Xr(async()=>{const{default:m}=await Promise.resolve().then(()=>Ko);return{default:m}},void 0).then(({default:m})=>m(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${e}/${Va.websocket}`,this.httpEndpoint=Np(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,d)=>d(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Rp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=j0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ny}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jr.connecting:return Yn.Connecting;case Jr.open:return Yn.Open;case Jr.closing:return Yn.Closing;default:return Yn.Closed}}isConnected(){return this.connectionState()===Yn.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(u=>u.topic===r);if(s)return s;{const u=new fu(`realtime:${e}`,n,this);return this.channels.push(u),u}}push(e){const{topic:n,event:r,payload:s,ref:u}=e,d=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${n} ${r} (${u})`,s),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:ty};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push($t.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(oy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:u,ref:d}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${s} ${d&&"("+d+")"||""}`,u),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,u,d)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($t.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([dy],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class hu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hy extends hu{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Oa extends hu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var py=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const Dp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ko);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},my=()=>py(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xr(()=>Promise.resolve().then(()=>Ko),void 0)).Response:Response}),za=t=>{if(Array.isArray(t))return t.map(n=>za(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[s]=za(r)}),e},gy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jn=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const Pa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yy=(t,e,n)=>jn(void 0,void 0,void 0,function*(){const r=yield my();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const u=t.status||500,d=(s==null?void 0:s.statusCode)||u+"";e(new hy(Pa(s),u,d))}).catch(s=>{e(new Oa(Pa(s),s))}):e(new Oa(Pa(t),t))}),vy=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(gy(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n))};function Zr(t,e,n,r,s,u){return jn(this,void 0,void 0,function*(){return new Promise((d,h)=>{t(n,vy(e,r,s,u)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>yy(m,h,r))})})}function Ss(t,e,n,r){return jn(this,void 0,void 0,function*(){return Zr(t,"GET",e,n,r)})}function tn(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return Zr(t,"POST",e,r,s,n)})}function Ha(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return Zr(t,"PUT",e,r,s,n)})}function _y(t,e,n,r){return jn(this,void 0,void 0,function*(){return Zr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Lp(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return Zr(t,"DELETE",e,r,s,n)})}var gt=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const Cy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sy{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Dp(s)}uploadOrUpdate(e,n,r,s){return gt(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},zf),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),_=yield(e=="PUT"?Ha:tn)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(Xe(u))return{data:null,error:u};throw u}})}upload(e,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return gt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),d=this._getFinalPath(u),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:zf.upsert},s),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const _=yield Ha(this.fetch,h.toString(),m,{headers:y});return{data:{path:u,fullPath:_.Key},error:null}}catch(m){if(Xe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,n){return gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const u=yield tn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),d=new URL(this.url+u.url),h=d.searchParams.get("token");if(!h)throw new hu("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}update(e,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return gt(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return gt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),u=yield tn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return gt(this,void 0,void 0,function*(){try{const s=yield tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}download(e,n){return gt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Ss(this.fetch,`${this.url}/${s}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Xe(h))return{data:null,error:h};throw h}})}info(e){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ss(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:za(r),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}exists(e){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield _y(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Xe(r)&&r instanceof Oa){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&s.push(u);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&s.push(m);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return gt(this,void 0,void 0,function*(){try{return{data:yield Lp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}list(e,n,r){return gt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Cy),n),{prefix:e||""});return{data:yield tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const wy="2.10.4",Ty={"X-Client-Info":`storage-js/${wy}`};var Lo=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};class Ey{constructor(e,n={},r,s){const u=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},Ty),n),this.fetch=Dp(r)}listBuckets(){return Lo(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Xe(e))return{data:null,error:e};throw e}})}getBucket(e){return Lo(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Lo(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Lo(this,void 0,void 0,function*(){try{return{data:yield Ha(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Lo(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Lo(this,void 0,void 0,function*(){try{return{data:yield Lp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}}class ky extends Ey{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Sy(this.url,this.headers,e,this.fetch)}}const xy="2.53.0";let Gr="";typeof Deno<"u"?Gr="deno":typeof document<"u"?Gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gr="react-native":Gr="node";const Ay={"X-Client-Info":`supabase-js-${Gr}/${xy}`},Iy={headers:Ay},Py={schema:"public"},Ry={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},My={};var Ny=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};const Dy=t=>{let e;return t?e=t:typeof fetch>"u"?e=Tp:e=fetch,(...n)=>e(...n)},Ly=()=>typeof Headers>"u"?Ep:Headers,Uy=(t,e,n)=>{const r=Dy(n),s=Ly();return(u,d)=>Ny(void 0,void 0,void 0,function*(){var h;const m=(h=yield e())!==null&&h!==void 0?h:t;let p=new s(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(u,Object.assign(Object.assign({},d),{headers:p}))})};var Fy=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};function $y(t){return t.endsWith("/")?t:t+"/"}function by(t,e){var n,r;const{db:s,auth:u,realtime:d,global:h}=t,{db:m,auth:p,realtime:y,global:_}=e,C={db:Object.assign(Object.assign({},m),s),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},_),h),{headers:Object.assign(Object.assign({},(n=_==null?void 0:_.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Fy(this,void 0,void 0,function*(){return""})};return t.accessToken?C.accessToken=t.accessToken:delete C.accessToken,C}const Up="2.71.1",Bo=30*1e3,qa=3,Ra=qa*Bo,Vy="http://localhost:9999",By="supabase.auth.token",Oy={"X-Client-Info":`gotrue-js/${Up}`},Ga="X-Supabase-Api-Version",Fp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hy=600*1e3;class pu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qy extends pu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Gy(t){return de(t)&&t.name==="AuthApiError"}class $p extends pu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Nn extends pu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class xn extends Nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wy(t){return de(t)&&t.name==="AuthSessionMissingError"}class hs extends Nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ps extends Nn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ms extends Nn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jy(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}class Hf extends Nn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wa extends Nn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ma(t){return de(t)&&t.name==="AuthRetryableFetchError"}class qf extends Nn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ja extends Nn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gf=` 	
\r=`.split(""),Ky=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gf.length;e+=1)t[Gf[e].charCodeAt(0)]=-2;for(let e=0;e<ws.length;e+=1)t[ws[e].charCodeAt(0)]=e;return t})();function Wf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ws[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ws[r]),e.queuedBits-=6}}function bp(t,e,n){const r=Ky[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Jf(t){const e=[],n=d=>{e.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},u=d=>{Xy(d,r,n)};for(let d=0;d<t.length;d+=1)bp(t.charCodeAt(d),s,u);return e.join("")}function Yy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Qy(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Yy(r,e)}}function Xy(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Zy(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)bp(t.charCodeAt(s),n,r);return new Uint8Array(e)}function jy(t){const e=[];return Qy(t,n=>e.push(n)),new Uint8Array(e)}function ev(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Wf(s,n,r)),Wf(null,n,r),e.join("")}function tv(t){return Math.round(Date.now()/1e3)+t}function nv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ft=()=>typeof window<"u"&&typeof document<"u",Wn={tested:!1,writable:!1},Vp=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wn.tested)return Wn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wn.tested=!0,Wn.writable=!0}catch{Wn.tested=!0,Wn.writable=!1}return Wn.writable};function ov(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,u)=>{e[u]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Bp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Xr(async()=>{const{default:r}=await Promise.resolve().then(()=>Ko);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},rv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Oo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kn=async(t,e)=>{await t.removeItem(e)};class xs{constructor(){this.promise=new xs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}xs.promiseConstructor=Promise;function Na(t){const e=t.split(".");if(e.length!==3)throw new Ja("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!zy.test(e[r]))throw new Ja("JWT not in base64url format");return{header:JSON.parse(Jf(e[0])),payload:JSON.parse(Jf(e[1])),signature:Zy(e[2]),raw:{header:e[0],payload:e[1]}}}async function iv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function sv(t,e){return new Promise((r,s)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await t(u);if(!e(u,null,d)){r(d);return}}catch(d){if(!e(u,d)){s(d);return}}})()})}function lv(t){return("0"+t.toString(16)).substr(-2)}function av(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let u=0;u<56;u++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,lv).join("")}async function uv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(u=>String.fromCharCode(u)).join("")}async function cv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uo(t,e,n=!1){const r=av();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Oo(t,`${e}-code-verifier`,s);const u=await cv(r);return[u,r===u?"plain":"s256"]}const dv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fv(t){const e=t.headers.get(Ga);if(!e||!e.match(dv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fo(t){if(!mv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Da(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kf(t){return JSON.parse(JSON.stringify(t))}var gv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Kn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yv=[502,503,504];async function Yf(t){var e;if(!rv(t))throw new Wa(Kn(t),0);if(yv.includes(t.status))throw new Wa(Kn(t),t.status);let n;try{n=await t.json()}catch(u){throw new $p(Kn(u),u)}let r;const s=fv(t);if(s&&s.getTime()>=Fp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new qf(Kn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new xn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new qf(Kn(n),t.status,n.weak_password.reasons);throw new qy(Kn(n),t.status||500,r)}const vv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function me(t,e,n,r){var s;const u=Object.assign({},r==null?void 0:r.headers);u[Ga]||(u[Ga]=Fp["2024-01-01"].name),r!=null&&r.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const d=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await _v(t,e,n+h,{headers:u,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function _v(t,e,n,r,s,u){const d=vv(e,r,s,u);let h;try{h=await t(n,Object.assign({},d))}catch(m){throw console.error(m),new Wa(Kn(m),0)}if(h.ok||await Yf(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(m){await Yf(m)}}function jt(t){var e;let n=null;Tv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=tv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Qf(t){const e=jt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function An(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Cv(t){return{data:t,error:null}}function Sv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:u}=t,d=gv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:u},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function wv(t){return t}function Tv(t){return t.access_token&&t.refresh_token&&t.expires_in}const La=["global","local","others"];var Ev=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class kv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Bp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=La[0]){if(La.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${La.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ev(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Sv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:An})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,u,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(u=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:""},xform:wv});if(y.error)throw y.error;const _=await y.json(),C=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const A=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(E.split(";")[1].split("=")[1]);p[`${I}Page`]=A}),p.total=parseInt(C)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(de(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Fo(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:An})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Fo(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:An})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Fo(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Fo(e.userId);try{const{data:n,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Fo(e.userId),Fo(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}function Xf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function xv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $o={debug:!!(globalThis&&Vp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Op extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Av extends Op{}async function Iv(t,e,n){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),$o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{$o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw $o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Av(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($o.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}xv();const Pv={url:Vy,storageKey:By,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zf(t,e,n){return await n()}const bo={};class Qr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qr.nextInstanceID,Qr.nextInstanceID+=1,this.instanceID>0&&Ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Pv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Bp(s.fetch),this.lock=s.lock||Zf,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ft()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Iv:this.lock=Zf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xf(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xf(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=bo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Up}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=ov(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ft()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:u}=await this._getSessionFromURL(n,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Jy(u)){const m=(e=u.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?{error:n}:{error:new $p("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:jt}),{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(de(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(e){var n,r,s;try{let u;if("email"in e){const{email:y,password:_,options:C}=e;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await Uo(this.storage,this.storageKey)),u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:y,password:_,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:w,code_challenge_method:E},xform:jt})}else if("phone"in e){const{phone:y,password:_,options:C}=e;u=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(r=C==null?void 0:C.data)!==null&&r!==void 0?r:{},channel:(s=C==null?void 0:C.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:jt})}else throw new ps("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return{data:{user:null,session:null},error:h};const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(u){if(de(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{let n;if("email"in e){const{email:u,password:d,options:h}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qf})}else if("phone"in e){const{phone:u,password:d,options:h}=e;n=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qf})}else throw new ps("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,u,d,h,m,p,y,_,C,w;let E,A;if("message"in e)E=e.message,A=e.signature;else{const{chain:I,wallet:L,statement:F,options:M}=e;let $;if(Ft())if(typeof L=="object")$=L;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))$=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=L}const b=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const q=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),F?{statement:F}:null));let W;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")W=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)W=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)E=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),A=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${b.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=M==null?void 0:M.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((d=M==null?void 0:M.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((_=(y=M==null?void 0:M.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...M.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const q=await $.signMessage(new TextEncoder().encode(E),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=q}}try{const{data:I,error:L}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:ev(A)},!((C=e.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:jt});if(L)throw L;return!I||!I.session||!I.user?{data:{user:null,session:null},error:new hs}:(I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({},I),error:L})}catch(I){if(de(I))return{data:{user:null,session:null},error:I};throw I}}async _exchangeCodeForSession(e){const n=await Jn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:u,error:d}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:jt});if(await kn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new hs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:s??null}),error:d})}catch(u){if(de(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:u,nonce:d}=e,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:jt}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new hs}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,u,d;try{if("email"in e){const{email:h,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Uo(this.storage,this.storageKey));const{error:_}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:m}=e,{data:p,error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new ps("You must provide either an email or phone number.")}catch(h){if(de(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let s,u;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,u=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:h}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:s,xform:jt});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await Uo(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Cv})}catch(u){if(de(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new xn;const{error:s}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(de(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:u}=e,{error:d}=await me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:r,type:s,options:u}=e,{data:d,error:h}=await me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new ps("You must provide either an email or phone number and a type")}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ra:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const d=await Jn(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=Da()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,p,y)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,y))})}return{data:{session:e},error:null}}const{session:s,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:An}):await this._useSession(async n=>{var r,s,u;const{data:d,error:h}=n;if(h)throw h;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0,xform:An})})}catch(n){if(de(n))return Wy(n)&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:u}=r;if(u)throw u;if(!s.session)throw new xn;const d=s.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await Uo(this.storage,this.storageKey));const{data:p,error:y}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:An});if(y)throw y;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xn;const n=Date.now()/1e3;let r=n,s=!0,u=null;const{payload:d}=Na(e.access_token);if(d.exp&&(r=d.exp,s=r<=n),s){const{session:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;u={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(de(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:d,error:h}=n;if(h)throw h;e=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new xn;const{session:s,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ft())throw new ms("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ms(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Hf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ms("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Hf("No code detected.");const{data:F,error:M}=await this._exchangeCodeForSession(e.code);if(M)throw M;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:u,refresh_token:d,expires_in:h,expires_at:m,token_type:p}=e;if(!u||!h||!d||!p)throw new ms("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let C=y+_;m&&(C=parseInt(m));const w=C-y;w*1e3<=Bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const E=C-_;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,C,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,C,y);const{data:A,error:I}=await this._getUser(u);if(I)throw I;const L={provider_token:r,provider_refresh_token:s,access_token:u,expires_in:_,expires_at:C,refresh_token:d,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:e.type},error:null}}catch(r){if(de(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:u}=n;if(u)return{error:u};const d=(r=s.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(Gy(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=nv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:u},error:d}=n;if(d)throw d;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Uo(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(de(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async u=>{var d,h,m,p,y;const{data:_,error:C}=u;if(C)throw C;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(s)throw s;return Ft()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(de(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:u,error:d}=n;if(d)throw d;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sv(async s=>(s>0&&await iv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:jt})),(s,u)=>{const d=200*Math.pow(2,s);return u&&Ma(u)&&Date.now()+d-r<Bo})}catch(r){if(this._debug(n,"error",r),de(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Jn(this.storage,this.storageKey);if(s&&this.userStorage){let d=await Jn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:s.user},await Oo(this.userStorage,this.storageKey+"-user",d)),s.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:Da()}else if(s&&!s.user&&!s.user){const d=await Jn(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(s.user=d.user,await kn(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,s)):s.user=Da()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const u=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ra;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Ra}s`),u){if(this.autoRefreshToken&&s.refresh_token){const{error:d}=await this._callRefreshToken(s.refresh_token);d&&(console.error(d),Ma(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(s.access_token);!h&&(d!=null&&d.user)?(s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xs;const{data:u,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!u.session)throw new xn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={session:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(s,"error",u),de(u)){const d={session:null,error:u};return Ma(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const u=Kf(s);await Oo(this.storage,this.storageKey,u)}else{const s=Kf(n);await Oo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kn(this.storage,this.storageKey),await kn(this.storage,this.storageKey+"-code-verifier"),await kn(this.storage,this.storageKey+"-user"),this.userStorage&&await kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bo}ms, refresh threshold is ${qa} ticks`),s<=qa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Op)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,d]=await Uo(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});s.push(h.toString())}if(r!=null&&r.queryParams){const u=new URLSearchParams(r.queryParams);s.push(u.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:u}=n;return u?{data:null,error:u}:await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:u,error:d}=n;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:p}=await me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((s=m==null?void 0:m.totp)===null||s===void 0)&&s.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:u}=n;if(u)return{data:null,error:u};const{data:d,error:h}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:u}=n;return u?{data:null,error:u}:await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=r.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:r,totp:s,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:u}=e;if(u)return{data:null,error:u};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Na(s.access_token);let h=null;d.aal&&(h=d.aal);let m=h;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+Hy>s)return r;const{data:u,error:d}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=s,r=u.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return{data:null,error:E};r=w.session.access_token}const{header:s,payload:u,signature:d,raw:{header:h,payload:m}}=Na(r);n!=null&&n.allowExpired||hv(u.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:u,header:s,signature:d},error:null}}const y=pv(s.alg),_=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,d,jy(`${h}.${m}`)))throw new Ja("Invalid JWT signature");return{data:{claims:u,header:s,signature:d},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}Qr.nextInstanceID=0;const Rv=Qr;class Mv extends Rv{constructor(e){super(e)}}var Nv=function(t,e,n,r){function s(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{p(r.next(y))}catch(_){d(_)}}function m(y){try{p(r.throw(y))}catch(_){d(_)}}function p(y){y.done?u(y.value):s(y.value).then(h,m)}p((r=r.apply(t,e||[])).next())})};class Dv{constructor(e,n,r){var s,u,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=$y(e),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:Py,realtime:My,auth:Object.assign(Object.assign({},Ry),{storageKey:p}),global:Iy},_=by(r??{},y);this.storageKey=(s=_.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=_.global.headers)!==null&&u!==void 0?u:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(C,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=_.auth)!==null&&d!==void 0?d:{},this.headers,_.global.fetch),this.fetch=Uy(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new X0(new URL("rest/v1",m).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new ky(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new V0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Nv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:u,flowType:d,lock:h,debug:m},p,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mv({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),p),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:d,lock:h,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lv=(t,e,n)=>new Dv(t,e,n);function Uv(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Uv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fv="https://pexsnxcntkprmrwipjgv.supabase.co",$v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBleHNueGNudGtwcm1yd2lwamd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzODYwNjEsImV4cCI6MjA2OTk2MjA2MX0.EN8HW-hXUGl_nqMRuvbLtWsh9viq6gvphAFCMOt6-JA",In=Lv(Fv,$v);var jf,Ae="colors",ut="sizes",X="space",bv={gap:X,gridGap:X,columnGap:X,gridColumnGap:X,rowGap:X,gridRowGap:X,inset:X,insetBlock:X,insetBlockEnd:X,insetBlockStart:X,insetInline:X,insetInlineEnd:X,insetInlineStart:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,marginBlock:X,marginBlockEnd:X,marginBlockStart:X,marginInline:X,marginInlineEnd:X,marginInlineStart:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,paddingBlock:X,paddingBlockEnd:X,paddingBlockStart:X,paddingInline:X,paddingInlineEnd:X,paddingInlineStart:X,top:X,right:X,bottom:X,left:X,scrollMargin:X,scrollMarginTop:X,scrollMarginRight:X,scrollMarginBottom:X,scrollMarginLeft:X,scrollMarginX:X,scrollMarginY:X,scrollMarginBlock:X,scrollMarginBlockEnd:X,scrollMarginBlockStart:X,scrollMarginInline:X,scrollMarginInlineEnd:X,scrollMarginInlineStart:X,scrollPadding:X,scrollPaddingTop:X,scrollPaddingRight:X,scrollPaddingBottom:X,scrollPaddingLeft:X,scrollPaddingX:X,scrollPaddingY:X,scrollPaddingBlock:X,scrollPaddingBlockEnd:X,scrollPaddingBlockStart:X,scrollPaddingInline:X,scrollPaddingInlineEnd:X,scrollPaddingInlineStart:X,fontSize:"fontSizes",background:Ae,backgroundColor:Ae,backgroundImage:Ae,borderImage:Ae,border:Ae,borderBlock:Ae,borderBlockEnd:Ae,borderBlockStart:Ae,borderBottom:Ae,borderBottomColor:Ae,borderColor:Ae,borderInline:Ae,borderInlineEnd:Ae,borderInlineStart:Ae,borderLeft:Ae,borderLeftColor:Ae,borderRight:Ae,borderRightColor:Ae,borderTop:Ae,borderTopColor:Ae,caretColor:Ae,color:Ae,columnRuleColor:Ae,fill:Ae,outline:Ae,outlineColor:Ae,stroke:Ae,textDecorationColor:Ae,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ut,minBlockSize:ut,maxBlockSize:ut,inlineSize:ut,minInlineSize:ut,maxInlineSize:ut,width:ut,minWidth:ut,maxWidth:ut,height:ut,minHeight:ut,maxHeight:ut,flexBasis:ut,gridTemplateColumns:ut,gridTemplateRows:ut,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},Vv=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,jr=()=>{const t=Object.create(null);return(e,n,...r)=>{const s=(u=>JSON.stringify(u,Vv))(e);return s in t?t[s]:t[s]=n(e,...r)}},vs=Symbol.for("sxs.internal"),mu=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),eh=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Bv}=Object.prototype,Ka=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Ov=/\s+(?![^()]*\))/,Vo=t=>e=>t(...typeof e=="string"?String(e).split(Ov):[e]),th={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Vo((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Vo((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Vo((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Vo((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Vo((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Vo((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},Ua=/([\d.]+)([^]*)/,zv=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(s=>s.includes("&")?s.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(s)?`:is(${r})`:r):r+" "+s)),n),[]):e,Hv=(t,e)=>t in qv&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,s,u)=>r+(s==="stretch"?`-moz-available${u};${Ka(t)}:${r}-webkit-fill-available`:`-moz-fit-content${u};${Ka(t)}:${r}fit-content`)+u):String(e),qv={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},nn=t=>t?t+"-":"",zp=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,s,u,d,h)=>d=="$"==!!u?r:(s||d=="--"?"calc(":"")+"var(--"+(d==="$"?nn(e)+(h.includes("$")?"":nn(n))+h.replace(/\$/g,"-"):h)+")"+(s||d=="--"?"*"+(s||"")+(u||"1")+")":"")),Gv=/\s*,\s*(?![^()]*\))/,Wv=Object.prototype.toString,zo=(t,e,n,r,s)=>{let u,d,h;const m=(p,y,_)=>{let C,w;const E=A=>{for(C in A){const F=C.charCodeAt(0)===64,M=F&&Array.isArray(A[C])?A[C]:[A[C]];for(w of M){const $=/[A-Z]/.test(L=C)?L:L.replace(/-[^]/g,q=>q[1].toUpperCase()),b=typeof w=="object"&&w&&w.toString===Wv&&(!r.utils[$]||!y.length);if($ in r.utils&&!b){const q=r.utils[$];if(q!==d){d=q,E(q(w)),d=null;continue}}else if($ in th){const q=th[$];if(q!==h){h=q,E(q(w)),h=null;continue}}if(F&&(I=C.slice(1)in r.media?"@media "+r.media[C.slice(1)]:C,C=I.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(q,W,ue,j,ne,oe)=>{const we=Ua.test(W),Fe=.0625*(we?-1:1),[Ve,ge]=we?[j,W]:[W,j];return"("+(ue[0]==="="?"":ue[0]===">"===we?"max-":"min-")+Ve+":"+(ue[0]!=="="&&ue.length===1?ge.replace(Ua,(ye,Te,J)=>Number(Te)+Fe*(ue===">"?1:-1)+J):ge)+(ne?") and ("+(ne[0]===">"?"min-":"max-")+Ve+":"+(ne.length===1?oe.replace(Ua,(ye,Te,J)=>Number(Te)+Fe*(ne===">"?-1:1)+J):oe):"")+")"})),b){const q=F?_.concat(C):[..._],W=F?[...y]:zv(y,C.split(Gv));u!==void 0&&s(nh(...u)),u=void 0,m(w,W,q)}else u===void 0&&(u=[[],y,_]),C=F||C.charCodeAt(0)!==36?C:`--${nn(r.prefix)}${C.slice(1).replace(/\$/g,"-")}`,w=b?w:typeof w=="number"?w&&$ in Jv?String(w)+"px":String(w):zp(Hv($,w??""),r.prefix,r.themeMap[$]),u[0].push(`${F?`${C} `:`${Ka(C)}:`}${w}`)}}var I,L};E(p),u!==void 0&&s(nh(...u)),u=void 0};m(t,e,n)},nh=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,Jv={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},oh=t=>String.fromCharCode(t+(t>25?39:97)),Xn=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=oh(n%52)+r;return oh(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Wr=["themed","global","styled","onevar","resonevar","allvar","inline"],Kv=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Yv=t=>{let e;const n=()=>{const{cssRules:s}=e.sheet;return[].map.call(s,(u,d)=>{const{cssText:h}=u;let m="";if(h.startsWith("--sxs"))return"";if(s[d-1]&&(m=s[d-1].cssText).startsWith("--sxs")){if(!u.cssRules.length)return"";for(const p in e.rules)if(e.rules[p].group===u)return`--sxs{--sxs:${[...e.rules[p].cache].join(" ")}}${h}`;return u.cssRules.length?`${m}${h}`:""}return h}).join("")},r=()=>{if(e){const{rules:h,sheet:m}=e;if(!m.deleteRule){for(;Object(Object(m.cssRules)[0]).type===3;)m.cssRules.splice(0,1);m.cssRules=[]}for(const p in h)delete h[p]}const s=Object(t).styleSheets||[];for(const h of s)if(Kv(h)){for(let m=0,p=h.cssRules;p[m];++m){const y=Object(p[m]);if(y.type!==1)continue;const _=Object(p[m+1]);if(_.type!==4)continue;++m;const{cssText:C}=y;if(!C.startsWith("--sxs"))continue;const w=C.slice(14,-3).trim().split(/\s+/),E=Wr[w[0]];E&&(e||(e={sheet:h,reset:r,rules:{},toString:n}),e.rules[E]={group:_,index:m,cache:new Set(w)})}if(e)break}if(!e){const h=(m,p)=>({type:p,cssRules:[],insertRule(y,_){this.cssRules.splice(_,0,h(y,{import:3,undefined:1}[(y.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return m==="@media{}"?`@media{${[].map.call(this.cssRules,y=>y.cssText).join("")}}`:m}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:h("","text/css"),rules:{},reset:r,toString:n}}const{sheet:u,rules:d}=e;for(let h=Wr.length-1;h>=0;--h){const m=Wr[h];if(!d[m]){const p=Wr[h+1],y=d[p]?d[p].index:u.cssRules.length;u.insertRule("@media{}",y),u.insertRule(`--sxs{--sxs:${h}}`,y),d[m]={group:u.cssRules[y+1],index:y,cache:new Set([h])}}Qv(d[m])}};return r(),e},Qv=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},Hr=Symbol(),Xv=jr(),Zv=(t,e)=>Xv(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const s of n)if(s!=null)if(s[vs]){r.type==null&&(r.type=s[vs].type);for(const u of s[vs].composers)r.composers.add(u)}else s.constructor!==Object||s.$$typeof?r.type==null&&(r.type=s):r.composers.add(jv(s,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),e1(t,r,e)}),jv=({variants:t,compoundVariants:e,defaultVariants:n,...r},s)=>{const u=`${nn(s.prefix)}c-${Xn(r)}`,d=[],h=[],m=Object.create(null),p=[];for(const C in n)m[C]=String(n[C]);if(typeof t=="object"&&t)for(const C in t){y=m,_=C,Bv.call(y,_)||(m[C]="undefined");const w=t[C];for(const E in w){const A={[C]:String(E)};String(E)==="undefined"&&p.push(C);const I=w[E],L=[A,I,!eh(I)];d.push(L)}}var y,_;if(typeof e=="object"&&e)for(const C of e){let{css:w,...E}=C;w=typeof w=="object"&&w||{};for(const I in E)E[I]=String(E[I]);const A=[E,w,!eh(w)];h.push(A)}return[u,r,d,h,m,p]},e1=(t,e,n)=>{const[r,s,u,d]=t1(e.composers),h=typeof e.type=="function"||e.type.$$typeof?(_=>{function C(){for(let w=0;w<C[Hr].length;w++){const[E,A]=C[Hr][w];_.rules[E].apply(A)}return C[Hr]=[],null}return C[Hr]=[],C.rules={},Wr.forEach(w=>C.rules[w]={apply:E=>C[Hr].push([w,E])}),C})(n):null,m=(h||n).rules,p=`.${r}${s.length>1?`:where(.${s.slice(1).join(".")})`:""}`,y=_=>{_=typeof _=="object"&&_||n1;const{css:C,...w}=_,E={};for(const L in u)if(delete w[L],L in _){let F=_[L];typeof F=="object"&&F?E[L]={"@initial":u[L],...F}:(F=String(F),E[L]=F!=="undefined"||d.has(L)?F:u[L])}else E[L]=u[L];const A=new Set([...s]);for(const[L,F,M,$]of e.composers){n.rules.styled.cache.has(L)||(n.rules.styled.cache.add(L),zo(F,[`.${L}`],[],t,W=>{m.styled.apply(W)}));const b=rh(M,E,t.media),q=rh($,E,t.media,!0);for(const W of b)if(W!==void 0)for(const[ue,j,ne]of W){const oe=`${L}-${Xn(j)}-${ue}`;A.add(oe);const we=(ne?n.rules.resonevar:n.rules.onevar).cache,Fe=ne?m.resonevar:m.onevar;we.has(oe)||(we.add(oe),zo(j,[`.${oe}`],[],t,Ve=>{Fe.apply(Ve)}))}for(const W of q)if(W!==void 0)for(const[ue,j]of W){const ne=`${L}-${Xn(j)}-${ue}`;A.add(ne),n.rules.allvar.cache.has(ne)||(n.rules.allvar.cache.add(ne),zo(j,[`.${ne}`],[],t,oe=>{m.allvar.apply(oe)}))}}if(typeof C=="object"&&C){const L=`${r}-i${Xn(C)}-css`;A.add(L),n.rules.inline.cache.has(L)||(n.rules.inline.cache.add(L),zo(C,[`.${L}`],[],t,F=>{m.inline.apply(F)}))}for(const L of String(_.className||"").trim().split(/\s+/))L&&A.add(L);const I=w.className=[...A].join(" ");return{type:e.type,className:I,selector:p,props:w,toString:()=>I,deferredInjector:h}};return mu(y,{className:r,selector:p,[vs]:e,toString:()=>(n.rules.styled.cache.has(r)||y(),r)})},t1=t=>{let e="";const n=[],r={},s=[];for(const[u,,,,d,h]of t){e===""&&(e=u),n.push(u),s.push(...h);for(const m in d){const p=d[m];(r[m]===void 0||p!=="undefined"||h.includes(p))&&(r[m]=p)}}return[e,n,r,new Set(s)]},rh=(t,e,n,r)=>{const s=[];e:for(let[u,d,h]of t){if(h)continue;let m,p=0,y=!1;for(m in u){const _=u[m];let C=e[m];if(C!==_){if(typeof C!="object"||!C)continue e;{let w,E,A=0;for(const I in C){if(_===String(C[I])){if(I!=="@initial"){const L=I.slice(1);(E=E||[]).push(L in n?n[L]:I.replace(/^@media ?/,"")),y=!0}p+=A,w=!0}++A}if(E&&E.length&&(d={["@media "+E.join(", ")]:d}),!w)continue e}}}(s[p]=s[p]||[]).push([r?"cv":`${m}-${u[m]}`,d,y])}return s},n1={},o1=jr(),r1=(t,e)=>o1(t,()=>(...n)=>{const r=()=>{for(let s of n){s=typeof s=="object"&&s||{};let u=Xn(s);if(!e.rules.global.cache.has(u)){if(e.rules.global.cache.add(u),"@import"in s){let d=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let h of[].concat(s["@import"]))h=h.includes('"')||h.includes("'")?h:`"${h}"`,e.sheet.insertRule(`@import ${h};`,d++);delete s["@import"]}zo(s,[],[],t,d=>{e.rules.global.apply(d)})}}return""};return mu(r,{toString:r})}),i1=jr(),s1=(t,e)=>i1(t,()=>n=>{const r=`${nn(t.prefix)}k-${Xn(n)}`,s=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const u=[];zo(n,[],[],t,h=>u.push(h));const d=`@keyframes ${r}{${u.join("")}}`;e.rules.global.apply(d)}return r};return mu(s,{get name(){return s()},toString:s})}),l1=class{constructor(e,n,r,s){this.token=e==null?"":String(e),this.value=n==null?"":String(n),this.scale=r==null?"":String(r),this.prefix=s==null?"":String(s)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+nn(this.prefix)+nn(this.scale)+this.token}toString(){return this.computedValue}},a1=jr(),u1=(t,e)=>a1(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const s=`.${n=(n=typeof n=="string"?n:"")||`${nn(t.prefix)}t-${Xn(r)}`}`,u={},d=[];for(const m in r){u[m]={};for(const p in r[m]){const y=`--${nn(t.prefix)}${m}-${p}`,_=zp(String(r[m][p]),t.prefix,m);u[m][p]=new l1(p,_,m,t.prefix),d.push(`${y}:${_}`)}}const h=()=>{if(d.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const m=`${r===t.theme?":root,":""}.${n}{${d.join(";")}}`;e.rules.themed.apply(m)}return n};return{...u,get className(){return h()},selector:s,toString:h}}),c1=jr(),Hp=t=>{let e=!1;const n=c1(t,r=>{e=!0;const s="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",u=typeof r.media=="object"&&r.media||{},d=typeof r.root=="object"?r.root||null:globalThis.document||null,h=typeof r.theme=="object"&&r.theme||{},m={prefix:s,media:u,theme:h,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...bv},utils:typeof r.utils=="object"&&r.utils||{}},p=Yv(d),y={css:Zv(m,p),globalCss:r1(m,p),keyframes:s1(m,p),createTheme:u1(m,p),reset(){p.reset(),y.theme.toString()},theme:{},sheet:p,config:m,prefix:s,getCssText:p.toString,toString:p.toString};return String(y.theme=y.createTheme(h)),y});return e||n.reset(),n},qp=()=>jf||(jf=Hp()),d1=(...t)=>qp().createTheme(...t),on=(...t)=>qp().css(...t),f1={default:{colors:{brand:"hsl(153 60.0% 53.0%)",brandAccent:"hsl(154 54.8% 45.1%)",brandButtonText:"white",defaultButtonBackground:"white",defaultButtonBackgroundHover:"#eaeaea",defaultButtonBorder:"lightgray",defaultButtonText:"gray",dividerBackground:"#eaeaea",inputBackground:"transparent",inputBorder:"lightgray",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"black",inputLabelText:"gray",inputPlaceholder:"darkgray",messageText:"#2b805a",messageBackground:"#e7fcf1",messageBorder:"#d0f3e1",messageTextDanger:"#ff6369",messageBackgroundDanger:"#fff8f8",messageBorderDanger:"#822025",anchorTextColor:"gray",anchorTextHoverColor:"darkgray"},space:{spaceSmall:"4px",spaceMedium:"8px",spaceLarge:"16px",labelBottomMargin:"8px",anchorBottomMargin:"4px",emailInputSpacing:"4px",socialAuthSpacing:"4px",buttonPadding:"10px 15px",inputPadding:"10px 15px"},fontSizes:{baseBodySize:"13px",baseInputSize:"14px",baseLabelSize:"14px",baseButtonSize:"14px"},fonts:{bodyFontFamily:"ui-sans-serif, sans-serif",buttonFontFamily:"ui-sans-serif, sans-serif",inputFontFamily:"ui-sans-serif, sans-serif",labelFontFamily:"ui-sans-serif, sans-serif"},borderWidths:{buttonBorderWidth:"1px",inputBorderWidth:"1px"},radii:{borderRadiusButton:"4px",buttonBorderRadius:"4px",inputBorderRadius:"4px"}},dark:{colors:{brandButtonText:"white",defaultButtonBackground:"#2e2e2e",defaultButtonBackgroundHover:"#3e3e3e",defaultButtonBorder:"#3e3e3e",defaultButtonText:"white",dividerBackground:"#2e2e2e",inputBackground:"#1e1e1e",inputBorder:"#3e3e3e",inputBorderHover:"gray",inputBorderFocus:"gray",inputText:"white",inputPlaceholder:"darkgray",messageText:"#85e0b7",messageBackground:"#072719",messageBorder:"#2b805a",messageBackgroundDanger:"#1f1315"}}},He={SIGN_IN:"sign_in",SIGN_UP:"sign_up",FORGOTTEN_PASSWORD:"forgotten_password",MAGIC_LINK:"magic_link",UPDATE_PASSWORD:"update_password",VERIFY_OTP:"verify_otp"},h1="supabase-auth-ui",p1={ROOT:"root",SIGN_IN:He.SIGN_IN,SIGN_UP:He.SIGN_UP,FORGOTTEN_PASSWORD:He.FORGOTTEN_PASSWORD,MAGIC_LINK:He.MAGIC_LINK,UPDATE_PASSWORD:He.UPDATE_PASSWORD,anchor:"ui-anchor",button:"ui-button",container:"ui-container",divider:"ui-divider",input:"ui-input",label:"ui-label",loader:"ui-loader",message:"ui-message"};function eo(t,e,n){var r,s;const u=[],d=p1[t];return u.push(n!=null&&n.prependedClassName?(n==null?void 0:n.prependedClassName)+"_"+d:h1+"_"+d),(r=n==null?void 0:n.className)!=null&&r[t]&&u.push((s=n==null?void 0:n.className)==null?void 0:s[t]),((n==null?void 0:n.extend)===void 0||(n==null?void 0:n.extend)===!0)&&u.push(e),u}function Ya(t,e){let n;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(e))for(n=0;n<e.length;n++)t[n]=Ya(t[n],e[n]);else for(n in e)t[n]=Ya(t[n],e[n]);return t}return e}function Fa(t,...e){let n=e.length;for(let r=0;r<n;r++)t=Ya(t,e[r]);return t}function m1(t,e){return t.replace(/{{(\w+)}}/g,(n,r)=>e.hasOwnProperty(r)?e[r]:n)}var g1={sign_up:{email_label:"Email address",password_label:"Create a Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign up",loading_button_label:"Signing up ...",social_provider_text:"Sign in with {{provider}}",link_text:"Don't have an account? Sign up",confirmation_text:"Check your email for the confirmation link"},sign_in:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",password_input_placeholder:"Your password",button_label:"Sign in",loading_button_label:"Signing in ...",social_provider_text:"Sign in with {{provider}}",link_text:"Already have an account? Sign in"},magic_link:{email_input_label:"Email address",email_input_placeholder:"Your email address",button_label:"Send Magic Link",loading_button_label:"Sending Magic Link ...",link_text:"Send a magic link email",confirmation_text:"Check your email for the magic link"},forgotten_password:{email_label:"Email address",password_label:"Your Password",email_input_placeholder:"Your email address",button_label:"Send reset password instructions",loading_button_label:"Sending reset instructions ...",link_text:"Forgot your password?",confirmation_text:"Check your email for the password reset link"},update_password:{password_label:"New password",password_input_placeholder:"Your new password",button_label:"Update password",loading_button_label:"Updating password ...",confirmation_text:"Your password has been updated"},verify_otp:{email_input_label:"Email address",email_input_placeholder:"Your email address",phone_input_label:"Phone number",phone_input_placeholder:"Your phone number",token_input_label:"Token",token_input_placeholder:"Your Otp token",button_label:"Verify token",loading_button_label:"Signing in ..."}};const y1=on({fontFamily:"$bodyFontFamily",fontSize:"$baseBodySize",marginBottom:"$anchorBottomMargin",color:"$anchorTextColor",display:"block",textAlign:"center",textDecoration:"underline","&:hover":{color:"$anchorTextHoverColor"}}),Qn=({children:t,appearance:e,...n})=>{var r;const s=eo("anchor",y1(),e);return P.createElement("a",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.anchor,className:s.join(" ")},t)},v1=on({fontFamily:"$buttonFontFamily",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"$borderRadiusButton",fontSize:"$baseButtonSize",padding:"$buttonPadding",cursor:"pointer",borderWidth:"$buttonBorderWidth",borderStyle:"solid",width:"100%",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms","&:disabled":{opacity:.7,cursor:"unset"},variants:{color:{default:{backgroundColor:"$defaultButtonBackground",color:"$defaultButtonText",borderColor:"$defaultButtonBorder","&:hover:not(:disabled)":{backgroundColor:"$defaultButtonBackgroundHover"}},primary:{backgroundColor:"$brand",color:"$brandButtonText",borderColor:"$brandAccent","&:hover:not(:disabled)":{backgroundColor:"$brandAccent"}}}}}),Yo=({children:t,color:e="default",appearance:n,icon:r,loading:s=!1,...u})=>{var d;const h=eo("button",v1({color:e}),n);return P.createElement("button",{...u,style:(d=n==null?void 0:n.style)==null?void 0:d.button,className:h.join(" "),disabled:s},r,t)},_1=on({display:"flex",gap:"4px",variants:{direction:{horizontal:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(48px, 1fr))"},vertical:{flexDirection:"column",margin:"8px 0"}},gap:{small:{gap:"4px"},medium:{gap:"8px"},large:{gap:"16px"}}}}),Ht=({children:t,appearance:e,...n})=>{var r;const s=eo("container",_1({direction:n.direction,gap:n.gap}),e);return P.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.container,className:s.join(" ")},t)},C1=on({background:"$dividerBackground",display:"block",margin:"16px 0",height:"1px",width:"100%"}),S1=({children:t,appearance:e,...n})=>{var r;const s=eo("divider",C1(),e);return P.createElement("div",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.divider,className:s.join(" ")})},w1=on({fontFamily:"$inputFontFamily",background:"$inputBackground",borderRadius:"$inputBorderRadius",padding:"$inputPadding",cursor:"text",borderWidth:"$inputBorderWidth",borderColor:"$inputBorder",borderStyle:"solid",fontSize:"$baseInputSize",width:"100%",color:"$inputText",boxSizing:"border-box","&:hover":{borderColor:"$inputBorderHover",outline:"none"},"&:focus":{borderColor:"$inputBorderFocus",outline:"none"},"&::placeholder":{color:"$inputPlaceholder",letterSpacing:"initial"},transitionProperty:"background-color, border",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"100ms",variants:{type:{default:{letterSpacing:"0px"},password:{letterSpacing:"0px"}}}}),Rn=({children:t,appearance:e,...n})=>{var r;const s=eo("input",w1({type:n.type==="password"?"password":"default"}),e);return P.createElement("input",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.input,className:s.join(" ")},t)},T1=on({fontFamily:"$labelFontFamily",fontSize:"$baseLabelSize",marginBottom:"$labelBottomMargin",color:"$inputLabelText",display:"block"}),Mn=({children:t,appearance:e,...n})=>{var r;const s=eo("label",T1(),e);return P.createElement("label",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.label,className:s.join(" ")},t)},E1=on({fontFamily:"$bodyFontFamily",fontSize:"$baseInputSize",marginBottom:"$labelBottomMargin",display:"block",textAlign:"center",borderRadius:"0.375rem",padding:"1.5rem 1rem",lineHeight:"1rem",color:"$messageText",backgroundColor:"$messageBackground",border:"1px solid $messageBorder",variants:{color:{danger:{color:"$messageTextDanger",backgroundColor:"$messageBackgroundDanger",border:"1px solid $messageBorderDanger"}}}}),qt=({children:t,appearance:e,...n})=>{var r;const s=eo("message",E1({color:n.color}),e);return P.createElement("span",{...n,style:(r=e==null?void 0:e.style)==null?void 0:r.message,className:s.join(" ")},t)};function Gp({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:s,showLinks:u=!1}){var d;const[h,m]=ie.useState(""),[p,y]=ie.useState(""),[_,C]=ie.useState(""),[w,E]=ie.useState(!1),A=async L=>{var F,M;if(L.preventDefault(),y(""),C(""),E(!0),h.length===0){y((F=r==null?void 0:r.magic_link)==null?void 0:F.empty_email_address),E(!1);return}const{error:$}=await e.auth.signInWithOtp({email:h,options:{emailRedirectTo:n}});$?y($.message):C((M=r==null?void 0:r.magic_link)==null?void 0:M.confirmation_text),E(!1)},I=r==null?void 0:r.magic_link;return P.createElement("form",{id:"auth-magic-link",onSubmit:A},P.createElement(Ht,{gap:"large",direction:"vertical",appearance:s},P.createElement("div",null,P.createElement(Mn,{htmlFor:"email",appearance:s},I==null?void 0:I.email_input_label),P.createElement(Rn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:I==null?void 0:I.email_input_placeholder,onChange:L=>{y&&y(""),m(L.target.value)},appearance:s})),P.createElement(Yo,{color:"primary",type:"submit",loading:w,appearance:s},w?I==null?void 0:I.loading_button_label:I==null?void 0:I.button_label),u&&P.createElement(Qn,{href:"#auth-sign-in",onClick:L=>{L.preventDefault(),t(He.SIGN_IN)},appearance:s},(d=r==null?void 0:r.sign_in)==null?void 0:d.link_text),_&&P.createElement(qt,{appearance:s},_),p&&P.createElement(qt,{color:"danger",appearance:s},p)))}const et=on({width:"21px",height:"21px"}),k1=({provider:t})=>t=="google"?x1():t=="facebook"?A1():t=="twitter"?I1():t=="apple"?P1():t=="github"?R1():t=="gitlab"?M1():t=="bitbucket"?N1():t=="discord"?D1():t=="azure"?L1():t=="keycloak"?U1():t=="linkedin"?F1():t=="notion"?$1():t=="slack"?b1():t=="spotify"?V1():t=="twitch"?B1():t=="workos"?O1():t=="kakao"?z1():null,x1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),P.createElement("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),P.createElement("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),P.createElement("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})),A1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("path",{fill:"#039be5",d:"M24 5A19 19 0 1 0 24 43A19 19 0 1 0 24 5Z"}),P.createElement("path",{fill:"#fff",d:"M26.572,29.036h4.917l0.772-4.995h-5.69v-2.73c0-2.075,0.678-3.915,2.619-3.915h3.119v-4.359c-0.548-0.074-1.707-0.236-3.897-0.236c-4.573,0-7.254,2.415-7.254,7.917v3.323h-4.701v4.995h4.701v13.729C22.089,42.905,23.032,43,24,43c0.875,0,1.729-0.08,2.572-0.194V29.036z"})),I1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("path",{fill:"#03A9F4",d:"M42,12.429c-1.323,0.586-2.746,0.977-4.247,1.162c1.526-0.906,2.7-2.351,3.251-4.058c-1.428,0.837-3.01,1.452-4.693,1.776C34.967,9.884,33.05,9,30.926,9c-4.08,0-7.387,3.278-7.387,7.32c0,0.572,0.067,1.129,0.193,1.67c-6.138-0.308-11.582-3.226-15.224-7.654c-0.64,1.082-1,2.349-1,3.686c0,2.541,1.301,4.778,3.285,6.096c-1.211-0.037-2.351-0.374-3.349-0.914c0,0.022,0,0.055,0,0.086c0,3.551,2.547,6.508,5.923,7.181c-0.617,0.169-1.269,0.263-1.941,0.263c-0.477,0-0.942-0.054-1.392-0.135c0.94,2.902,3.667,5.023,6.898,5.086c-2.528,1.96-5.712,3.134-9.174,3.134c-0.598,0-1.183-0.034-1.761-0.104C9.268,36.786,13.152,38,17.321,38c13.585,0,21.017-11.156,21.017-20.834c0-0.317-0.01-0.633-0.025-0.945C39.763,15.197,41.013,13.905,42,12.429"})),P1=()=>P.createElement("svg",{className:et(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"21px",height:"21px"}," ",P.createElement("path",{d:"M 15.904297 1.078125 C 15.843359 1.06875 15.774219 1.0746094 15.699219 1.0996094 C 14.699219 1.2996094 13.600391 1.8996094 12.900391 2.5996094 C 12.300391 3.1996094 11.800781 4.1996094 11.800781 5.0996094 C 11.800781 5.2996094 11.999219 5.5 12.199219 5.5 C 13.299219 5.4 14.399609 4.7996094 15.099609 4.0996094 C 15.699609 3.2996094 16.199219 2.4 16.199219 1.5 C 16.199219 1.275 16.087109 1.10625 15.904297 1.078125 z M 16.199219 5.4003906 C 14.399219 5.4003906 13.600391 6.5 12.400391 6.5 C 11.100391 6.5 9.9003906 5.5 8.4003906 5.5 C 6.3003906 5.5 3.0996094 7.4996094 3.0996094 12.099609 C 2.9996094 16.299609 6.8 21 9 21 C 10.3 21 10.600391 20.199219 12.400391 20.199219 C 14.200391 20.199219 14.600391 21 15.900391 21 C 17.400391 21 18.500391 19.399609 19.400391 18.099609 C 19.800391 17.399609 20.100391 17.000391 20.400391 16.400391 C 20.600391 16.000391 20.4 15.600391 20 15.400391 C 17.4 14.100391 16.900781 9.9003906 19.800781 8.4003906 C 20.300781 8.1003906 20.4 7.4992188 20 7.1992188 C 18.9 6.1992187 17.299219 5.4003906 16.199219 5.4003906 z"})),R1=()=>P.createElement("svg",{className:et(),fill:"gray",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"21px",height:"21px"}," ",P.createElement("path",{d:"M15,3C8.373,3,3,8.373,3,15c0,5.623,3.872,10.328,9.092,11.63C12.036,26.468,12,26.28,12,26.047v-2.051 c-0.487,0-1.303,0-1.508,0c-0.821,0-1.551-0.353-1.905-1.009c-0.393-0.729-0.461-1.844-1.435-2.526 c-0.289-0.227-0.069-0.486,0.264-0.451c0.615,0.174,1.125,0.596,1.605,1.222c0.478,0.627,0.703,0.769,1.596,0.769 c0.433,0,1.081-0.025,1.691-0.121c0.328-0.833,0.895-1.6,1.588-1.962c-3.996-0.411-5.903-2.399-5.903-5.098 c0-1.162,0.495-2.286,1.336-3.233C9.053,10.647,8.706,8.73,9.435,8c1.798,0,2.885,1.166,3.146,1.481C13.477,9.174,14.461,9,15.495,9 c1.036,0,2.024,0.174,2.922,0.483C18.675,9.17,19.763,8,21.565,8c0.732,0.731,0.381,2.656,0.102,3.594 c0.836,0.945,1.328,2.066,1.328,3.226c0,2.697-1.904,4.684-5.894,5.097C18.199,20.49,19,22.1,19,23.313v2.734 c0,0.104-0.023,0.179-0.035,0.268C23.641,24.676,27,20.236,27,15C27,8.373,21.627,3,15,3z"})),M1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("path",{fill:"#e53935",d:"M24 43L16 20 32 20z"}),P.createElement("path",{fill:"#ff7043",d:"M24 43L42 20 32 20z"}),P.createElement("path",{fill:"#e53935",d:"M37 5L42 20 32 20z"}),P.createElement("path",{fill:"#ffa726",d:"M24 43L42 20 45 28z"}),P.createElement("path",{fill:"#ff7043",d:"M24 43L6 20 16 20z"}),P.createElement("path",{fill:"#e53935",d:"M11 5L6 20 16 20z"}),P.createElement("path",{fill:"#ffa726",d:"M24 43L6 20 3 28z"})),N1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 62.42 62.42"},P.createElement("defs",null,P.createElement("linearGradient",{id:"New_Gradient_Swatch_1",x1:"64.01",y1:"30.27",x2:"32.99",y2:"54.48",gradientUnits:"userSpaceOnUse"},P.createElement("stop",{offset:"0.18",stopColor:"#0052cc"}),P.createElement("stop",{offset:"1",stopColor:"#2684ff"}))),P.createElement("title",null,"Bitbucket-blue"),P.createElement("g",{id:"Layer_2","data-name":"Layer 2"},P.createElement("g",{id:"Blue",transform:"translate(0 -3.13)"},P.createElement("path",{d:"M2,6.26A2,2,0,0,0,0,8.58L8.49,60.12a2.72,2.72,0,0,0,2.66,2.27H51.88a2,2,0,0,0,2-1.68L62.37,8.59a2,2,0,0,0-2-2.32ZM37.75,43.51h-13L21.23,25.12H40.9Z",fill:"#2684ff"}),P.createElement("path",{d:"M59.67,25.12H40.9L37.75,43.51h-13L9.4,61.73a2.71,2.71,0,0,0,1.75.66H51.89a2,2,0,0,0,2-1.68Z",fill:"url(#New_Gradient_Swatch_1)"})))),D1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("path",{fill:"#536dfe",d:"M39.248,10.177c-2.804-1.287-5.812-2.235-8.956-2.778c-0.057-0.01-0.114,0.016-0.144,0.068	c-0.387,0.688-0.815,1.585-1.115,2.291c-3.382-0.506-6.747-0.506-10.059,0c-0.3-0.721-0.744-1.603-1.133-2.291	c-0.03-0.051-0.087-0.077-0.144-0.068c-3.143,0.541-6.15,1.489-8.956,2.778c-0.024,0.01-0.045,0.028-0.059,0.051	c-5.704,8.522-7.267,16.835-6.5,25.044c0.003,0.04,0.026,0.079,0.057,0.103c3.763,2.764,7.409,4.442,10.987,5.554	c0.057,0.017,0.118-0.003,0.154-0.051c0.846-1.156,1.601-2.374,2.248-3.656c0.038-0.075,0.002-0.164-0.076-0.194	c-1.197-0.454-2.336-1.007-3.432-1.636c-0.087-0.051-0.094-0.175-0.014-0.234c0.231-0.173,0.461-0.353,0.682-0.534	c0.04-0.033,0.095-0.04,0.142-0.019c7.201,3.288,14.997,3.288,22.113,0c0.047-0.023,0.102-0.016,0.144,0.017	c0.22,0.182,0.451,0.363,0.683,0.536c0.08,0.059,0.075,0.183-0.012,0.234c-1.096,0.641-2.236,1.182-3.434,1.634	c-0.078,0.03-0.113,0.12-0.075,0.196c0.661,1.28,1.415,2.498,2.246,3.654c0.035,0.049,0.097,0.07,0.154,0.052	c3.595-1.112,7.241-2.79,11.004-5.554c0.033-0.024,0.054-0.061,0.057-0.101c0.917-9.491-1.537-17.735-6.505-25.044	C39.293,10.205,39.272,10.187,39.248,10.177z M16.703,30.273c-2.168,0-3.954-1.99-3.954-4.435s1.752-4.435,3.954-4.435	c2.22,0,3.989,2.008,3.954,4.435C20.658,28.282,18.906,30.273,16.703,30.273z M31.324,30.273c-2.168,0-3.954-1.99-3.954-4.435	s1.752-4.435,3.954-4.435c2.22,0,3.989,2.008,3.954,4.435C35.278,28.282,33.544,30.273,31.324,30.273z"})),L1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6a",x1:"-1254.397",x2:"-1261.911",y1:"877.268",y2:"899.466",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},P.createElement("stop",{offset:"0",stopColor:"#114a8b"}),P.createElement("stop",{offset:"1",stopColor:"#0669bc"})),P.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6a)",d:"M17.634,6h11.305L17.203,40.773c-0.247,0.733-0.934,1.226-1.708,1.226H6.697 c-0.994,0-1.8-0.806-1.8-1.8c0-0.196,0.032-0.39,0.094-0.576L15.926,7.227C16.173,6.494,16.86,6,17.634,6L17.634,6z"}),P.createElement("path",{fill:"#0078d4",d:"M34.062,29.324H16.135c-0.458-0.001-0.83,0.371-0.831,0.829c0,0.231,0.095,0.451,0.264,0.608 l11.52,10.752C27.423,41.826,27.865,42,28.324,42h10.151L34.062,29.324z"}),P.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6b",x1:"-1252.05",x2:"-1253.788",y1:"887.612",y2:"888.2",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},P.createElement("stop",{offset:"0",stopOpacity:".3"}),P.createElement("stop",{offset:".071",stopOpacity:".2"}),P.createElement("stop",{offset:".321",stopOpacity:".1"}),P.createElement("stop",{offset:".623",stopOpacity:".05"}),P.createElement("stop",{offset:"1",stopOpacity:"0"})),P.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6b)",d:"M17.634,6c-0.783-0.003-1.476,0.504-1.712,1.25L5.005,39.595 c-0.335,0.934,0.151,1.964,1.085,2.299C6.286,41.964,6.493,42,6.702,42h9.026c0.684-0.122,1.25-0.603,1.481-1.259l2.177-6.416 l7.776,7.253c0.326,0.27,0.735,0.419,1.158,0.422h10.114l-4.436-12.676l-12.931,0.003L28.98,6H17.634z"}),P.createElement("linearGradient",{id:"k8yl7~hDat~FaoWq8WjN6c",x1:"-1252.952",x2:"-1244.704",y1:"876.6",y2:"898.575",gradientTransform:"translate(1981.75 -1362.063) scale(1.5625)",gradientUnits:"userSpaceOnUse"},P.createElement("stop",{offset:"0",stopColor:"#3ccbf4"}),P.createElement("stop",{offset:"1",stopColor:"#2892df"})),P.createElement("path",{fill:"url(#k8yl7~hDat~FaoWq8WjN6c)",d:"M32.074,7.225C31.827,6.493,31.141,6,30.368,6h-12.6c0.772,0,1.459,0.493,1.705,1.224 l10.935,32.399c0.318,0.942-0.188,1.963-1.13,2.281C29.093,41.968,28.899,42,28.703,42h12.6c0.994,0,1.8-0.806,1.8-1.801 c0-0.196-0.032-0.39-0.095-0.575L32.074,7.225z"})),U1=()=>P.createElement("svg",{className:et(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P.createElement("path",{d:"M472.136 163.959H408.584C407.401 163.959 406.218 163.327 405.666 162.3L354.651 73.6591C354.02 72.632 352.916 72 351.654 72H143.492C142.309 72 141.126 72.632 140.574 73.6591L87.5084 165.618L36.414 254.259C35.862 255.286 35.862 256.55 36.414 257.656L87.5084 346.297L140.495 438.335C141.047 439.362 142.23 440.073 143.413 439.994H351.654C352.837 439.994 354.02 439.362 354.651 438.335L405.745 349.694C406.297 348.667 407.48 347.956 408.663 348.035H472.215C474.344 348.035 476 346.297 476 344.243V167.83C475.921 165.697 474.186 163.959 472.136 163.959ZM228.728 349.694L212.721 377.345C212.485 377.74 212.091 378.135 211.696 378.372C211.223 378.609 210.75 378.767 210.198 378.767H178.422C177.318 378.767 176.293 378.214 175.82 377.187L128.431 294.787L123.779 286.65L106.748 257.498C106.511 257.103 106.353 256.629 106.432 256.076C106.432 255.602 106.59 255.049 106.827 254.654L123.937 224.949L175.899 134.886C176.451 133.938 177.476 133.306 178.501 133.306H210.198C210.75 133.306 211.302 133.464 211.854 133.701C212.248 133.938 212.643 134.254 212.879 134.728L228.886 162.537C229.359 163.485 229.28 164.67 228.728 165.539L177.397 254.654C177.16 255.049 177.081 255.523 177.081 255.918C177.081 256.392 177.239 256.787 177.397 257.182L228.728 346.218C229.438 347.403 229.359 348.667 228.728 349.694V349.694ZM388.083 257.498L371.051 286.65L366.399 294.787L319.011 377.187C318.459 378.135 317.512 378.767 316.409 378.767H284.632C284.08 378.767 283.607 378.609 283.134 378.372C282.74 378.135 282.346 377.819 282.109 377.345L266.103 349.694C265.393 348.667 265.393 347.403 266.024 346.376L317.355 257.34C317.591 256.945 317.67 256.471 317.67 256.076C317.67 255.602 317.513 255.207 317.355 254.812L266.024 165.697C265.472 164.749 265.393 163.643 265.866 162.695L281.873 134.886C282.109 134.491 282.503 134.096 282.898 133.859C283.371 133.543 283.923 133.464 284.553 133.464H316.409C317.512 133.464 318.538 134.017 319.011 135.044L370.972 225.107L388.083 254.812C388.319 255.286 388.477 255.76 388.477 256.234C388.477 256.55 388.319 257.024 388.083 257.498V257.498Z",fill:"#008AAA"})),F1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("path",{fill:"#0288D1",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),P.createElement("path",{fill:"#FFF",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"})),$1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px",fillRule:"evenodd",clipRule:"evenodd"},P.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z",clipRule:"evenodd"}),P.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619 l23.971-1.387c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463 C13.171,14.718,12.862,15.181,12.862,16.182L12.862,16.182z",clipRule:"evenodd"}),P.createElement("path",{fill:"#424242",fillRule:"evenodd",d:"M11.553,11.099c1.232,1.001,1.694,0.925,4.008,0.77 l21.812-1.31c0.463,0,0.078-0.461-0.076-0.538l-3.622-2.619c-0.694-0.539-1.619-1.156-3.391-1.002l-21.12,1.54 c-0.77,0.076-0.924,0.461-0.617,0.77L11.553,11.099z M12.862,16.182v22.95c0,1.233,0.616,1.695,2.004,1.619l23.971-1.387 c1.388-0.076,1.543-0.925,1.543-1.927V14.641c0-1-0.385-1.54-1.234-1.463l-25.05,1.463C13.171,14.718,12.862,15.181,12.862,16.182 L12.862,16.182z M36.526,17.413c0.154,0.694,0,1.387-0.695,1.465l-1.155,0.23v16.943c-1.003,0.539-1.928,0.847-2.698,0.847 c-1.234,0-1.543-0.385-2.467-1.54l-7.555-11.86v11.475l2.391,0.539c0,0,0,1.386-1.929,1.386l-5.317,0.308 c-0.154-0.308,0-1.078,0.539-1.232l1.388-0.385V20.418l-1.927-0.154c-0.155-0.694,0.23-1.694,1.31-1.772l5.704-0.385l7.862,12.015 V19.493l-2.005-0.23c-0.154-0.848,0.462-1.464,1.233-1.54L36.526,17.413z M7.389,5.862l21.968-1.618 c2.698-0.231,3.392-0.076,5.087,1.155l7.013,4.929C42.614,11.176,43,11.407,43,12.33v27.032c0,1.694-0.617,2.696-2.775,2.849 l-25.512,1.541c-1.62,0.077-2.391-0.154-3.239-1.232l-5.164-6.7C5.385,34.587,5,33.664,5,32.585V8.556 C5,7.171,5.617,6.015,7.389,5.862z",clipRule:"evenodd"})),b1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"21px",height:"21px"},P.createElement("path",{fill:"#33d375",d:"M33,8c0-2.209-1.791-4-4-4s-4,1.791-4,4c0,1.254,0,9.741,0,11c0,2.209,1.791,4,4,4s4-1.791,4-4	C33,17.741,33,9.254,33,8z"}),P.createElement("path",{fill:"#33d375",d:"M43,19c0,2.209-1.791,4-4,4c-1.195,0-4,0-4,0s0-2.986,0-4c0-2.209,1.791-4,4-4S43,16.791,43,19z"}),P.createElement("path",{fill:"#40c4ff",d:"M8,14c-2.209,0-4,1.791-4,4s1.791,4,4,4c1.254,0,9.741,0,11,0c2.209,0,4-1.791,4-4s-1.791-4-4-4	C17.741,14,9.254,14,8,14z"}),P.createElement("path",{fill:"#40c4ff",d:"M19,4c2.209,0,4,1.791,4,4c0,1.195,0,4,0,4s-2.986,0-4,0c-2.209,0-4-1.791-4-4S16.791,4,19,4z"}),P.createElement("path",{fill:"#e91e63",d:"M14,39.006C14,41.212,15.791,43,18,43s4-1.788,4-3.994c0-1.252,0-9.727,0-10.984	c0-2.206-1.791-3.994-4-3.994s-4,1.788-4,3.994C14,29.279,14,37.754,14,39.006z"}),P.createElement("path",{fill:"#e91e63",d:"M4,28.022c0-2.206,1.791-3.994,4-3.994c1.195,0,4,0,4,0s0,2.981,0,3.994c0,2.206-1.791,3.994-4,3.994	S4,30.228,4,28.022z"}),P.createElement("path",{fill:"#ffc107",d:"M39,33c2.209,0,4-1.791,4-4s-1.791-4-4-4c-1.254,0-9.741,0-11,0c-2.209,0-4,1.791-4,4s1.791,4,4,4	C29.258,33,37.746,33,39,33z"}),P.createElement("path",{fill:"#ffc107",d:"M28,43c-2.209,0-4-1.791-4-4c0-1.195,0-4,0-4s2.986,0,4,0c2.209,0,4,1.791,4,4S30.209,43,28,43z"})),V1=()=>P.createElement("svg",{className:et(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P.createElement("path",{d:"M255.498 31.0034C131.513 31.0034 31 131.515 31 255.502C31 379.492 131.513 480 255.498 480C379.497 480 480 379.495 480 255.502C480 131.522 379.497 31.0135 255.495 31.0135L255.498 31V31.0034ZM358.453 354.798C354.432 361.391 345.801 363.486 339.204 359.435C286.496 327.237 220.139 319.947 141.993 337.801C134.463 339.516 126.957 334.798 125.24 327.264C123.516 319.731 128.217 312.225 135.767 310.511C221.284 290.972 294.639 299.384 353.816 335.549C360.413 339.596 362.504 348.2 358.453 354.798ZM385.932 293.67C380.864 301.903 370.088 304.503 361.858 299.438C301.512 262.345 209.528 251.602 138.151 273.272C128.893 276.067 119.118 270.851 116.309 261.61C113.521 252.353 118.74 242.597 127.981 239.782C209.512 215.044 310.87 227.026 380.17 269.612C388.4 274.68 391 285.456 385.935 293.676V293.673L385.932 293.67ZM388.293 230.016C315.935 187.039 196.56 183.089 127.479 204.055C116.387 207.42 104.654 201.159 101.293 190.063C97.9326 178.964 104.189 167.241 115.289 163.87C194.59 139.796 326.418 144.446 409.723 193.902C419.722 199.826 422.995 212.71 417.068 222.675C411.168 232.653 398.247 235.943 388.303 230.016H388.293V230.016Z",fill:"#1ED760"})),B1=()=>P.createElement("svg",{className:et(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P.createElement("path",{d:"M416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"white"}),P.createElement("path",{d:"M144 32L64 112V400H160V480L240 400H304L448 256V32H144ZM416 240L352 304H288L232 360V304H160V64H416V240Z",fill:"#9146FF"}),P.createElement("path",{d:"M368 120H336V216H368V120Z",fill:"#9146FF"}),P.createElement("path",{d:"M280 120H248V216H280V120Z",fill:"#9146FF"})),O1=()=>P.createElement("svg",{className:et(),width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P.createElement("path",{d:"M33 256.043C33 264.556 35.3159 273.069 39.4845 280.202L117.993 415.493C126.098 429.298 138.373 440.572 153.657 445.634C183.764 455.528 214.797 442.873 229.618 417.333L248.609 384.661L173.806 256.043L252.777 119.831L271.768 87.1591C277.557 77.2654 284.968 69.4424 294 63H285.894H172.185C150.878 63 131.193 74.2742 120.54 92.6812L39.7161 231.884C35.3159 239.016 33 247.53 33 256.043Z",fill:"#6363F1"}),P.createElement("path",{d:"M480 256.058C480 247.539 477.684 239.021 473.516 231.883L393.849 94.6596C379.028 69.3331 347.995 56.4396 317.888 66.34C302.603 71.4053 290.329 82.6871 282.224 96.5015L264.391 127.354L339.194 256.058L260.223 392.131L241.232 424.825C235.443 434.495 228.032 442.553 219 449H227.106H340.815C362.122 449 381.807 437.718 392.46 419.299L473.284 280.003C477.684 272.866 480 264.577 480 256.058Z",fill:"#6363F1"})),z1=()=>P.createElement("svg",{className:et(),xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"2500",viewBox:"0 0 256 256"},P.createElement("path",{fill:"#FFE812",d:"M256 236c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20V20C0 8.954 8.954 0 20 0h216c11.046 0 20 8.954 20 20v216z"}),P.createElement("path",{d:"M128 36C70.562 36 24 72.713 24 118c0 29.279 19.466 54.97 48.748 69.477-1.593 5.494-10.237 35.344-10.581 37.689 0 0-.207 1.762.934 2.434s2.483.15 2.483.15c3.272-.457 37.943-24.811 43.944-29.04 5.995.849 12.168 1.29 18.472 1.29 57.438 0 104-36.712 104-82 0-45.287-46.562-82-104-82z"}),P.createElement("path",{fill:"#FFE812",d:"M70.5 146.625c-3.309 0-6-2.57-6-5.73V105.25h-9.362c-3.247 0-5.888-2.636-5.888-5.875s2.642-5.875 5.888-5.875h30.724c3.247 0 5.888 2.636 5.888 5.875s-2.642 5.875-5.888 5.875H76.5v35.645c0 3.16-2.691 5.73-6 5.73zM123.112 146.547c-2.502 0-4.416-1.016-4.993-2.65l-2.971-7.778-18.296-.001-2.973 7.783c-.575 1.631-2.488 2.646-4.99 2.646a9.155 9.155 0 0 1-3.814-.828c-1.654-.763-3.244-2.861-1.422-8.52l14.352-37.776c1.011-2.873 4.082-5.833 7.99-5.922 3.919.088 6.99 3.049 8.003 5.928l14.346 37.759c1.826 5.672.236 7.771-1.418 8.532a9.176 9.176 0 0 1-3.814.827c-.001 0 0 0 0 0zm-11.119-21.056L106 108.466l-5.993 17.025h11.986zM138 145.75c-3.171 0-5.75-2.468-5.75-5.5V99.5c0-3.309 2.748-6 6.125-6s6.125 2.691 6.125 6v35.25h12.75c3.171 0 5.75 2.468 5.75 5.5s-2.579 5.5-5.75 5.5H138zM171.334 146.547c-3.309 0-6-2.691-6-6V99.5c0-3.309 2.691-6 6-6s6 2.691 6 6v12.896l16.74-16.74c.861-.861 2.044-1.335 3.328-1.335 1.498 0 3.002.646 4.129 1.772 1.051 1.05 1.678 2.401 1.764 3.804.087 1.415-.384 2.712-1.324 3.653l-13.673 13.671 14.769 19.566a5.951 5.951 0 0 1 1.152 4.445 5.956 5.956 0 0 1-2.328 3.957 5.94 5.94 0 0 1-3.609 1.211 5.953 5.953 0 0 1-4.793-2.385l-14.071-18.644-2.082 2.082v13.091a6.01 6.01 0 0 1-6.002 6.003z"}));function H1({supabaseClient:t,socialLayout:e="vertical",providers:n=["github","google","azure"],providerScopes:r,queryParams:s,redirectTo:u,onlyThirdPartyProviders:d=!0,view:h="sign_in",i18n:m,appearance:p}){const[y,_]=ie.useState(!1),[C,w]=ie.useState(""),E=e==="vertical",A=h==="magic_link"?"sign_in":h,I=async F=>{_(!0);const{error:M}=await t.auth.signInWithOAuth({provider:F,options:{redirectTo:u,scopes:r==null?void 0:r[F],queryParams:s}});M&&w(M.message),_(!1)};function L(F){const M=F.toLowerCase();return F.charAt(0).toUpperCase()+M.slice(1)}return P.createElement(P.Fragment,null,n&&n.length>0&&P.createElement(P.Fragment,null,P.createElement(Ht,{gap:"large",direction:"vertical",appearance:p},P.createElement(Ht,{direction:E?"vertical":"horizontal",gap:E?"small":"medium",appearance:p},n.map(F=>{var M;return P.createElement(Yo,{key:F,color:"default",loading:y,onClick:()=>I(F),appearance:p},P.createElement(k1,{provider:F}),E&&m1((M=m==null?void 0:m[A])==null?void 0:M.social_provider_text,{provider:L(F)}))}))),!d&&P.createElement(S1,{appearance:p})))}function ih({authView:t="sign_in",defaultEmail:e="",defaultPassword:n="",setAuthView:r=()=>{},setDefaultEmail:s=E=>{},setDefaultPassword:u=E=>{},supabaseClient:d,showLinks:h=!1,redirectTo:m,additionalData:p,magicLink:y,i18n:_,appearance:C,children:w}){var E,A,I,L;const F=ie.useRef(!0),[M,$]=ie.useState(e),[b,q]=ie.useState(n),[W,ue]=ie.useState(""),[j,ne]=ie.useState(!1),[oe,we]=ie.useState("");ie.useEffect(()=>(F.current=!0,$(e),q(n),()=>{F.current=!1}),[t]);const Fe=async ye=>{var Te;switch(ye.preventDefault(),ue(""),ne(!0),t){case"sign_in":const{error:J}=await d.auth.signInWithPassword({email:M,password:b});J&&ue(J.message);break;case"sign_up":let se={emailRedirectTo:m};p&&(se.data=p);const{data:{user:Y,session:R},error:V}=await d.auth.signUp({email:M,password:b,options:se});V?ue(V.message):Y&&!R&&we((Te=_==null?void 0:_.sign_up)==null?void 0:Te.confirmation_text);break}F.current&&ne(!1)},Ve=ye=>{s(M),u(b),r(ye)},ge=_==null?void 0:_[t];return P.createElement("form",{id:t==="sign_in"?"auth-sign-in":"auth-sign-up",onSubmit:Fe,autoComplete:"on",style:{width:"100%"}},P.createElement(Ht,{direction:"vertical",gap:"large",appearance:C},P.createElement(Ht,{direction:"vertical",gap:"large",appearance:C},P.createElement("div",null,P.createElement(Mn,{htmlFor:"email",appearance:C},ge==null?void 0:ge.email_label),P.createElement(Rn,{id:"email",type:"email",name:"email",placeholder:ge==null?void 0:ge.email_input_placeholder,defaultValue:M,onChange:ye=>$(ye.target.value),autoComplete:"email",appearance:C})),P.createElement("div",null,P.createElement(Mn,{htmlFor:"password",appearance:C},ge==null?void 0:ge.password_label),P.createElement(Rn,{id:"password",type:"password",name:"password",placeholder:ge==null?void 0:ge.password_input_placeholder,defaultValue:b,onChange:ye=>q(ye.target.value),autoComplete:t==="sign_in"?"current-password":"new-password",appearance:C})),w),P.createElement(Yo,{type:"submit",color:"primary",loading:j,appearance:C},j?ge==null?void 0:ge.loading_button_label:ge==null?void 0:ge.button_label),h&&P.createElement(Ht,{direction:"vertical",gap:"small",appearance:C},t===He.SIGN_IN&&y&&P.createElement(Qn,{href:"#auth-magic-link",onClick:ye=>{ye.preventDefault(),r(He.MAGIC_LINK)},appearance:C},(E=_==null?void 0:_.magic_link)==null?void 0:E.link_text),t===He.SIGN_IN&&P.createElement(Qn,{href:"#auth-forgot-password",onClick:ye=>{ye.preventDefault(),r(He.FORGOTTEN_PASSWORD)},appearance:C},(A=_==null?void 0:_.forgotten_password)==null?void 0:A.link_text),t===He.SIGN_IN?P.createElement(Qn,{href:"#auth-sign-up",onClick:ye=>{ye.preventDefault(),Ve(He.SIGN_UP)},appearance:C},(I=_==null?void 0:_.sign_up)==null?void 0:I.link_text):P.createElement(Qn,{href:"#auth-sign-in",onClick:ye=>{ye.preventDefault(),Ve(He.SIGN_IN)},appearance:C},(L=_==null?void 0:_.sign_in)==null?void 0:L.link_text))),oe&&P.createElement(qt,{appearance:C},oe),W&&P.createElement(qt,{color:"danger",appearance:C},W))}function Wp({setAuthView:t=()=>{},supabaseClient:e,redirectTo:n,i18n:r,appearance:s,showLinks:u=!1}){var d;const[h,m]=ie.useState(""),[p,y]=ie.useState(""),[_,C]=ie.useState(""),[w,E]=ie.useState(!1),A=async L=>{var F;L.preventDefault(),y(""),C(""),E(!0);const{error:M}=await e.auth.resetPasswordForEmail(h,{redirectTo:n});M?y(M.message):C((F=r==null?void 0:r.forgotten_password)==null?void 0:F.confirmation_text),E(!1)},I=r==null?void 0:r.forgotten_password;return P.createElement("form",{id:"auth-forgot-password",onSubmit:A},P.createElement(Ht,{direction:"vertical",gap:"large",appearance:s},P.createElement(Ht,{gap:"large",direction:"vertical",appearance:s},P.createElement("div",null,P.createElement(Mn,{htmlFor:"email",appearance:s},I==null?void 0:I.email_label),P.createElement(Rn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:I==null?void 0:I.email_input_placeholder,onChange:L=>m(L.target.value),appearance:s})),P.createElement(Yo,{type:"submit",color:"primary",loading:w,appearance:s},w?I==null?void 0:I.loading_button_label:I==null?void 0:I.button_label),u&&P.createElement(Qn,{href:"#auth-sign-in",onClick:L=>{L.preventDefault(),t(He.SIGN_IN)},appearance:s},(d=r==null?void 0:r.sign_in)==null?void 0:d.link_text),_&&P.createElement(qt,{appearance:s},_),p&&P.createElement(qt,{color:"danger",appearance:s},p))))}function Jp({supabaseClient:t,i18n:e,appearance:n}){const[r,s]=ie.useState(""),[u,d]=ie.useState(""),[h,m]=ie.useState(""),[p,y]=ie.useState(!1),_=async w=>{var E;w.preventDefault(),d(""),m(""),y(!0);const{error:A}=await t.auth.updateUser({password:r});A?d(A.message):m((E=e==null?void 0:e.update_password)==null?void 0:E.confirmation_text),y(!1)},C=e==null?void 0:e.update_password;return P.createElement("form",{id:"auth-update-password",onSubmit:_},P.createElement(Ht,{gap:"large",direction:"vertical",appearance:n},P.createElement("div",null,P.createElement(Mn,{htmlFor:"password",appearance:n},C==null?void 0:C.password_label),P.createElement(Rn,{id:"password",name:"password",placeholder:C==null?void 0:C.password_input_placeholder,type:"password",autoFocus:!0,onChange:w=>s(w.target.value),appearance:n})),P.createElement(Yo,{type:"submit",color:"primary",loading:p,appearance:n},p?C==null?void 0:C.loading_button_label:C==null?void 0:C.button_label),h&&P.createElement(qt,{appearance:n},h),u&&P.createElement(qt,{color:"danger",appearance:n},u)))}function q1({setAuthView:t=()=>{},supabaseClient:e,otpType:n="email",i18n:r,appearance:s,showLinks:u=!1}){var d;const[h,m]=ie.useState(""),[p,y]=ie.useState(""),[_,C]=ie.useState(""),[w,E]=ie.useState(""),[A,I]=ie.useState(""),[L,F]=ie.useState(!1),M=async b=>{b.preventDefault(),E(""),I(""),F(!0);let q={email:h,token:_,type:n};["sms","phone_change"].includes(n)&&(q={phone:p,token:_,type:n});const{error:W}=await e.auth.verifyOtp(q);W&&E(W.message),F(!1)},$=r==null?void 0:r.verify_otp;return P.createElement("form",{id:"auth-magic-link",onSubmit:M},P.createElement(Ht,{gap:"large",direction:"vertical",appearance:s},["sms","phone_change"].includes(n)?P.createElement("div",null,P.createElement(Mn,{htmlFor:"phone",appearance:s},$==null?void 0:$.phone_input_label),P.createElement(Rn,{id:"phone",name:"phone",type:"text",autoFocus:!0,placeholder:$==null?void 0:$.phone_input_placeholder,onChange:b=>y(b.target.value),appearance:s})):P.createElement("div",null,P.createElement(Mn,{htmlFor:"email",appearance:s},$==null?void 0:$.email_input_label),P.createElement(Rn,{id:"email",name:"email",type:"email",autoFocus:!0,placeholder:$==null?void 0:$.email_input_placeholder,onChange:b=>m(b.target.value),appearance:s})),P.createElement("div",null,P.createElement(Mn,{htmlFor:"token",appearance:s},$==null?void 0:$.token_input_label),P.createElement(Rn,{id:"token",name:"token",type:"text",placeholder:$==null?void 0:$.token_input_placeholder,onChange:b=>C(b.target.value),appearance:s})),P.createElement(Yo,{color:"primary",type:"submit",loading:L,appearance:s},L?$==null?void 0:$.loading_button_label:$==null?void 0:$.button_label),u&&P.createElement(Qn,{href:"#auth-sign-in",onClick:b=>{b.preventDefault(),t(He.SIGN_IN)},appearance:s},(d=r==null?void 0:r.sign_in)==null?void 0:d.link_text),A&&P.createElement(qt,{appearance:s},A),w&&P.createElement(qt,{color:"danger",appearance:s},w)))}const Kp=ie.createContext({user:null,session:null}),G1=t=>{const{supabaseClient:e}=t,[n,r]=ie.useState(null),[s,u]=ie.useState((n==null?void 0:n.user)??null);ie.useEffect(()=>{(async()=>{var m;const{data:p}=await e.auth.getSession();r(p.session),u(((m=p.session)==null?void 0:m.user)??null)})();const{data:h}=e.auth.onAuthStateChange(async(m,p)=>{r(p),u((p==null?void 0:p.user)??null)});return()=>{h==null||h.subscription.unsubscribe()}},[]);const d={session:n,user:s};return P.createElement(Kp.Provider,{value:d,...t})},W1=()=>{const t=ie.useContext(Kp);if(t===void 0)throw new Error("useUser must be used within a UserContextProvider.");return t};function Qo({supabaseClient:t,socialLayout:e="vertical",providers:n,providerScopes:r,queryParams:s,view:u="sign_in",redirectTo:d,onlyThirdPartyProviders:h=!1,magicLink:m=!1,showLinks:p=!0,appearance:y,theme:_="default",localization:C={variables:{}},otpType:w="email",additionalData:E,children:A}){const I=Fa(g1,C.variables??{}),[L,F]=ie.useState(u),[M,$]=ie.useState(""),[b,q]=ie.useState(""),W=L==="sign_in"||L==="sign_up"||L==="magic_link";ie.useEffect(()=>{var ne,oe;Hp({theme:Fa(((ne=y==null?void 0:y.theme)==null?void 0:ne.default)??{},((oe=y==null?void 0:y.variables)==null?void 0:oe.default)??{})})},[y]);const ue=({children:ne})=>{var oe;return P.createElement("div",{className:_!=="default"?d1(Fa(y==null?void 0:y.theme[_],((oe=y==null?void 0:y.variables)==null?void 0:oe[_])??{})):""},W&&P.createElement(H1,{appearance:y,supabaseClient:t,providers:n,providerScopes:r,queryParams:s,socialLayout:e,redirectTo:d,onlyThirdPartyProviders:h,i18n:I,view:L}),!h&&ne)};ie.useEffect(()=>{const{data:ne}=t.auth.onAuthStateChange(oe=>{oe==="PASSWORD_RECOVERY"?F("update_password"):oe==="USER_UPDATED"&&F("sign_in")});return F(u),()=>ne.subscription.unsubscribe()},[u]);const j={supabaseClient:t,setAuthView:F,defaultEmail:M,defaultPassword:b,setDefaultEmail:$,setDefaultPassword:q,redirectTo:d,magicLink:m,showLinks:p,i18n:I,appearance:y};switch(L){case He.SIGN_IN:return P.createElement(ue,null,P.createElement(ih,{...j,authView:"sign_in"}));case He.SIGN_UP:return P.createElement(ue,null,P.createElement(ih,{appearance:y,supabaseClient:t,authView:"sign_up",setAuthView:F,defaultEmail:M,defaultPassword:b,setDefaultEmail:$,setDefaultPassword:q,redirectTo:d,magicLink:m,showLinks:p,i18n:I,additionalData:E,children:A}));case He.FORGOTTEN_PASSWORD:return P.createElement(ue,null,P.createElement(Wp,{appearance:y,supabaseClient:t,setAuthView:F,redirectTo:d,showLinks:p,i18n:I}));case He.MAGIC_LINK:return P.createElement(ue,null,P.createElement(Gp,{appearance:y,supabaseClient:t,setAuthView:F,redirectTo:d,showLinks:p,i18n:I}));case He.UPDATE_PASSWORD:return P.createElement(Jp,{appearance:y,supabaseClient:t,i18n:I});case He.VERIFY_OTP:return P.createElement(q1,{appearance:y,supabaseClient:t,otpType:w,i18n:I});default:return null}}Qo.ForgottenPassword=Wp;Qo.UpdatePassword=Jp;Qo.MagicLink=Gp;Qo.UserContextProvider=G1;Qo.useUser=W1;on({borderRadius:"12px",boxShadow:"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",width:"360px",padding:"28px 32px"});const J1=t=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.573L16.5 21.75l-.398-1.177a3.375 3.375 0 00-2.455-2.455L12.5 18l1.177-.398a3.375 3.375 0 002.455-2.455L16.5 14.25l.398 1.177a3.375 3.375 0 002.455 2.455L20.5 18l-1.177.398a3.375 3.375 0 00-2.455 2.455z"})}),K1=t=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),Y1=t=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Yp=t=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c.251.042.506.092.766.148a13.487 13.487 0 015.33 2.936m-5.33-2.936c.156-.03.315-.056.475-.08a11.955 11.955 0 003.528.213M9.75 3.104C8.165 3.292 6.75 4.25 6.75 5.25v5.714c0 .921.91 1.668 2.023 1.668h.034a2.25 2.25 0 001.684-.757l.003-.002l.002-.002a2.25 2.25 0 011.684-.757H13.5M19.5 14.5l-5-5.25v5.714a2.25 2.25 0 01-1.28 2.062M19.5 14.5c.156.03.315.056.475.08a11.955 11.955 0 00-3.528-.213m-3.528-.213c.251-.042.506-.092.766-.148a13.487 13.487 0 00-5.33 2.936m5.33-2.936c-.156.03-.315.056-.475.08a11.955 11.955 0 01-3.528.213m3.528.213c-.251.042-.506.092-.766-.148a13.487 13.487 0 01-5.33-2.936M19.5 14.5c1.585-.188 3-1.144 3-2.25v-5.714c0-.921-.91-1.668-2.023-1.668h-.034a2.25 2.25 0 00-1.684.757l-.003.002-.002.002a2.25 2.25 0 01-1.684.757H13.5"})}),Q1=t=>z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),X1=t=>z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",...t,children:[z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9.563C9 9.252 9.252 9 9.563 9h4.874c.311 0 .563.252.563.563v4.874c0 .311-.252.563-.563.563H9.564A.562.562 0 019 14.437V9.564z"})]}),Z1=t=>z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3.75"}),z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75h19.5A2.25 2.25 0 0024 16.5V7.5A2.25 2.25 0 0021.75 5.25H2.25A2.25 2.25 0 000 7.5v9A2.25 2.25 0 002.25 18.75z"})]}),j1=()=>z.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:z.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg border border-gray-700",children:[z.jsxs("div",{className:"text-center space-y-3",children:[z.jsx(Yp,{className:"mx-auto h-12 w-12 text-indigo-400"}),z.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-400",children:"Welcome to logodrop.io"}),z.jsx("p",{className:"text-gray-400",children:"Sign in or create an account to start generating logos."})]}),z.jsx(Qo,{supabaseClient:In,appearance:{theme:f1},providers:["google"],theme:"dark",socialLayout:"horizontal"})]})}),sh=[{category:"Tech & Modern Brands",icon:"",styles:[{name:"Apple Style",description:"Minimalist, flat, sleek, monochrome"},{name:"Google Style",description:"Friendly, colorful, rounded, playful"},{name:"Tesla Style",description:"Futuristic, sharp lines, metallic"},{name:"Microsoft Style",description:"Clean, geometric, vibrant blocks of color"},{name:"Meta Style",description:"Simple, soft curves, futuristic fonts"},{name:"Adobe Style",description:"Abstract, bold shapes, professional"}]},{category:"Gaming Logos",icon:"",styles:[{name:"Brawl Stars Style",description:"Cartoonish, bold outlines, playful icons"},{name:"Fortnite Style",description:"Bold, stylized, youth-oriented, colorful"},{name:"League of Legends Style",description:"Fantasy, elegant serif fonts, ornate designs"},{name:"Valorant Style",description:"Minimalist, tactical, sharp shapes, red/black colors"},{name:"Minecraft Style",description:"Pixelated, blocky, retro aesthetic"},{name:"Overwatch Style",description:"Futuristic, clean, emblematic design"}]},{category:"Sports Logos",icon:"",styles:[{name:"NBA Style",description:"Bold letters, team mascots, dynamic poses"},{name:"NFL Style",description:"Shield/emblem shapes, traditional serif fonts"},{name:"MLS Style",description:"Simplified, clean, angled shapes, crest-based"},{name:"FIFA Style",description:"Globally appealing, crests, flag elements"},{name:"UFC Style",description:"Bold, aggressive, angular typography"},{name:"Olympic Style",description:"Clean, iconic, multi-color simplicity"}]},{category:"Corporate & Finance",icon:"",styles:[{name:"Goldman Sachs Style",description:"Conservative, serif fonts, blue tones"},{name:"Stripe Style",description:"Modern, minimalist, clean sans-serif"},{name:"Chase Bank Style",description:"Geometric icon, bold text, corporate blue"},{name:"Deloitte Style",description:"Simple text-based logo with accent dot"},{name:"PayPal Style",description:"Overlapping elements, italicized, friendly fonts"}]},{category:"Fashion & Lifestyle",icon:"",styles:[{name:"Nike Style",description:"Bold icon with emphasis on motion (swoosh)"},{name:"Adidas Style",description:"Geometric stripes, black and white"},{name:"Gucci Style",description:"Elegant serif, double-letter monogram"},{name:"Supreme Style",description:"Bold white text on red rectangle"},{name:"Chanel Style",description:"Classic monogram (double C), black and white"}]}];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let e_,t_;function n_(){return{geminiUrl:e_,vertexUrl:t_}}function o_(t,e,n,r){var s,u;if(!(t!=null&&t.baseUrl)){const d=n_();return e?(s=d.vertexUrl)!==null&&s!==void 0?s:n:(u=d.geminiUrl)!==null&&u!==void 0?u:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to{}function re(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const u=e[s];return u!=null?String(u):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function a(t,e,n){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in t))if(Array.isArray(n))t[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(t[h])){const m=t[h];if(Array.isArray(n))for(let p=0;p<m.length;p++){const y=m[p];a(y,e.slice(u+1),n[p])}else for(const p of m)a(p,e.slice(u+1),n)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in t||(t[h]=[{}]);const m=t[h];a(m[0],e.slice(u+1),n);return}(!t[d]||typeof t[d]!="object")&&(t[d]={}),t=t[d]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in t){const u=t[s];return Array.isArray(u)?u.map(d=>l(d,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qa(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lh;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lh||(lh={}));var ah;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ah||(ah={}));var Pn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Pn||(Pn={}));var uh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(uh||(uh={}));var ch;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ch||(ch={}));var dh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(dh||(dh={}));var fh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fh||(fh={}));var hh;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hh||(hh={}));var ph;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ph||(ph={}));var mh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mh||(mh={}));var gh;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(gh||(gh={}));var yh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(yh||(yh={}));var vh;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(vh||(vh={}));var _h;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_h||(_h={}));var Ch;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Ch||(Ch={}));var Sh;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sh||(Sh={}));var Ts;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ts||(Ts={}));var wh;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wh||(wh={}));var Xa;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Xa||(Xa={}));var Th;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Th||(Th={}));var Eh;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Eh||(Eh={}));var kh;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(kh||(kh={}));var xh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(xh||(xh={}));var Ah;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Ah||(Ah={}));var Ih;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ih||(Ih={}));var Ph;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ph||(Ph={}));var Rh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Rh||(Rh={}));var Mh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Mh||(Mh={}));var Nh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Nh||(Nh={}));var Dh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Dh||(Dh={}));var Lh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Lh||(Lh={}));var Uh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Uh||(Uh={}));var Fh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Fh||(Fh={}));var $h;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})($h||($h={}));var bh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bh||(bh={}));var Vh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vh||(Vh={}));var Bh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bh||(Bh={}));var Oh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Oh||(Oh={}));var zh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zh||(zh={}));var Hh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Hh||(Hh={}));var qh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qh||(qh={}));var Ho;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ho||(Ho={}));class Za{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class qr{get text(){var e,n,r,s,u,d,h,m;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",y=!1;const _=[];for(const C of(m=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[w,E]of Object.entries(C))w!=="text"&&w!=="thought"&&(E!==null||E!==void 0)&&_.push(w);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;y=!0,p+=C.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?p:void 0}get data(){var e,n,r,s,u,d,h,m;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const y=[];for(const _ of(m=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&m!==void 0?m:[]){for(const[C,w]of Object.entries(_))C!=="inlineData"&&(w!==null||w!==void 0)&&y.push(C);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,r,s,u,d,h,m;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(m=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,r,s,u,d,h,m,p;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(m=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(p=y==null?void 0:y[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,r,s,u,d,h,m,p;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(m=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||m===void 0?void 0:m.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(p=y==null?void 0:y[0])===null||p===void 0?void 0:p.output}}class Gh{}class Wh{}class r_{}class i_{}class Jh{}class Kh{}class Yh{}class s_{}class Qh{}class Xh{}class Zh{}class jh{}class l_{}class a_{}class u_{}class ep{}class c_{get text(){var e,n,r;let s="",u=!1;const d=[];for(const h of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[m,p]of Object.entries(h))m!=="text"&&m!=="thought"&&p!==null&&d.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,s+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var e,n,r;let s="";const u=[];for(const d of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,m]of Object.entries(d))h!=="inlineData"&&m!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Es{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Es;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const s=e.response;if(s){const u=new Qh,d=s.videos;u.generatedVideos=d==null?void 0:d.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?Qa(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),u.raiMediaFilteredCount=s.raiMediaFilteredCount,u.raiMediaFilteredReasons=s.raiMediaFilteredReasons,r.response=u}}else{const s=e.response;if(s){const u=new Qh,d=s.generateVideoResponse,h=d==null?void 0:d.generatedSamples;u.generatedVideos=h==null?void 0:h.map(m=>{const p=m.video;return{video:{uri:p==null?void 0:p.uri,videoBytes:p!=null&&p.encodedVideo?Qa(p==null?void 0:p.encodedVideo):void 0,mimeType:m.encoding}}}),u.raiMediaFilteredCount=d==null?void 0:d.raiMediaFilteredCount,u.raiMediaFilteredReasons=d==null?void 0:d.raiMediaFilteredReasons,r.response=u}}return r}}class d_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qp(t,e){const n=xe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Xp(t){return Array.isArray(t)?t.map(e=>ks(e)):[ks(t)]}function ks(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Zp(t){const e=ks(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jp(t){const e=ks(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tp(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function em(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>tp(e)):[tp(t)]}function ja(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function np(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function op(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function st(t){if(t==null)throw new Error("ContentUnion is required");return ja(t)?t:{role:"user",parts:em(t)}}function tm(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=st(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=st(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>st(n)):[st(e)]}function It(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(np(t)||op(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(t)]}const e=[],n=[],r=ja(t[0]);for(const s of t){const u=ja(s);if(u!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(s);else{if(np(s)||op(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:em(n)}),e}function f_(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Pn).includes(n[0].toUpperCase())?n[0].toUpperCase():Pn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Pn).includes(r.toUpperCase())?r.toUpperCase():Pn.TYPE_UNSPECIFIED})}}function qo(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&f_(t.type,e);for(const[d,h]of Object.entries(t))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Pn).includes(h.toUpperCase())?h.toUpperCase():Pn.TYPE_UNSPECIFIED}else if(n.includes(d))e[d]=qo(h);else if(r.includes(d)){const m=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}m.push(qo(p))}e[d]=m}else if(s.includes(d)){const m={};for(const[p,y]of Object.entries(h))m[p]=qo(y);e[d]=m}else{if(d==="additionalProperties")continue;e[d]=h}return e}function gu(t){return qo(t)}function yu(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vu(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qo(e.response));return t}function Zo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function h_(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function rn(t,e){if(typeof e!="string")throw new Error("name must be a string");return h_(t,e,"cachedContents")}function nm(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function no(t){return Qa(t)}function p_(t){return t!=null&&typeof t=="object"&&"name"in t}function m_(t){return t!=null&&typeof t=="object"&&"video"in t}function g_(t){return t!=null&&typeof t=="object"&&"uri"in t}function om(t){var e;let n;if(p_(t)&&(n=t.name),!(g_(t)&&(n=t.uri,n===void 0))&&!(m_(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function rm(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function im(t){for(const e of["models","tunedModels","publisherModels"])if(y_(t,e))return t[e];return[]}function y_(t,e){return t!==null&&typeof t=="object"&&e in t}function v_(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function __(t,e={}){const n=[],r=new Set;for(const s of t){const u=s.name;if(r.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);r.add(u);const d=v_(s,e);d.functionDeclarations&&n.push(...d.functionDeclarations)}return{functionDeclarations:n}}function sm(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function C_(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function jo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function lm(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function w_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function T_(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function E_(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],S_(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],w_(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],T_(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function am(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>E_(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function k_(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const r=l(t,["default"]);r!=null&&a(e,["default"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const u=l(t,["enum"]);u!=null&&a(e,["enum"],u);const d=l(t,["example"]);d!=null&&a(e,["example"],d);const h=l(t,["format"]);h!=null&&a(e,["format"],h);const m=l(t,["items"]);m!=null&&a(e,["items"],m);const p=l(t,["maxItems"]);p!=null&&a(e,["maxItems"],p);const y=l(t,["maxLength"]);y!=null&&a(e,["maxLength"],y);const _=l(t,["maxProperties"]);_!=null&&a(e,["maxProperties"],_);const C=l(t,["maximum"]);C!=null&&a(e,["maximum"],C);const w=l(t,["minItems"]);w!=null&&a(e,["minItems"],w);const E=l(t,["minLength"]);E!=null&&a(e,["minLength"],E);const A=l(t,["minProperties"]);A!=null&&a(e,["minProperties"],A);const I=l(t,["minimum"]);I!=null&&a(e,["minimum"],I);const L=l(t,["nullable"]);L!=null&&a(e,["nullable"],L);const F=l(t,["pattern"]);F!=null&&a(e,["pattern"],F);const M=l(t,["properties"]);M!=null&&a(e,["properties"],M);const $=l(t,["propertyOrdering"]);$!=null&&a(e,["propertyOrdering"],$);const b=l(t,["required"]);b!=null&&a(e,["required"],b);const q=l(t,["title"]);q!=null&&a(e,["title"],q);const W=l(t,["type"]);return W!=null&&a(e,["type"],W),e}function x_(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&a(e,["category"],n);const r=l(t,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function A_(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function I_(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function P_(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],I_(n)),e}function R_(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function M_(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],R_(n)),e}function N_(){return{}}function D_(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>A_(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],P_(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],M_(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],N_());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function L_(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function U_(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function F_(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],U_(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function $_(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],L_(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],F_(r)),e}function b_(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function um(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],b_(n)),e}function V_(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],um(r)),e}function B_(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>V_(s))),a(e,["speakerVoiceConfigs"],r)}return e}function O_(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],um(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],B_(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function z_(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const r=l(t,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function H_(t,e,n){const r={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],am(st(s)));const u=l(e,["temperature"]);u!=null&&a(r,["temperature"],u);const d=l(e,["topP"]);d!=null&&a(r,["topP"],d);const h=l(e,["topK"]);h!=null&&a(r,["topK"],h);const m=l(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=l(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const y=l(e,["stopSequences"]);y!=null&&a(r,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&a(r,["responseLogprobs"],_);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const w=l(e,["presencePenalty"]);w!=null&&a(r,["presencePenalty"],w);const E=l(e,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const A=l(e,["seed"]);A!=null&&a(r,["seed"],A);const I=l(e,["responseMimeType"]);I!=null&&a(r,["responseMimeType"],I);const L=l(e,["responseSchema"]);L!=null&&a(r,["responseSchema"],k_(gu(L)));const F=l(e,["responseJsonSchema"]);if(F!=null&&a(r,["responseJsonSchema"],F),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=l(e,["safetySettings"]);if(n!==void 0&&M!=null){let oe=M;Array.isArray(oe)&&(oe=oe.map(we=>x_(we))),a(n,["safetySettings"],oe)}const $=l(e,["tools"]);if(n!==void 0&&$!=null){let oe=Zo($);Array.isArray(oe)&&(oe=oe.map(we=>D_(Xo(we)))),a(n,["tools"],oe)}const b=l(e,["toolConfig"]);if(n!==void 0&&b!=null&&a(n,["toolConfig"],$_(b)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=l(e,["cachedContent"]);n!==void 0&&q!=null&&a(n,["cachedContent"],rn(t,q));const W=l(e,["responseModalities"]);W!=null&&a(r,["responseModalities"],W);const ue=l(e,["mediaResolution"]);ue!=null&&a(r,["mediaResolution"],ue);const j=l(e,["speechConfig"]);if(j!=null&&a(r,["speechConfig"],O_(yu(j))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=l(e,["thinkingConfig"]);return ne!=null&&a(r,["thinkingConfig"],z_(ne)),r}function q_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["request","model"],xe(t,r));const s=l(e,["contents"]);if(s!=null){let d=It(s);Array.isArray(d)&&(d=d.map(h=>am(h))),a(n,["request","contents"],d)}const u=l(e,["config"]);return u!=null&&a(n,["request","generationConfig"],H_(t,u,n)),n}function G_(t,e){const n={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=l(e,["fileName"]);r!=null&&a(n,["fileName"],r);const s=l(e,["inlinedRequests"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>q_(t,d))),a(n,["requests","requests"],u)}return n}function W_(t,e){const n={},r=l(t,["displayName"]);if(e!==void 0&&r!=null&&a(e,["batch","displayName"],r),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function J_(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["src"]);s!=null&&a(n,["batch","inputConfig"],G_(t,sm(t,s)));const u=l(e,["config"]);return u!=null&&a(n,["config"],W_(u,n)),n}function K_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],jo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function Y_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],jo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function Q_(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);if(e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function X_(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Q_(n,e)),e}function Z_(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],jo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function j_(t){const e={},n=l(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const r=l(t,["gcsUri"]);r!=null&&a(e,["gcsSource","uris"],r);const s=l(t,["bigqueryUri"]);if(s!=null&&a(e,["bigquerySource","inputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function eC(t){const e={},n=l(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const r=l(t,["gcsUri"]);r!=null&&a(e,["gcsDestination","outputUriPrefix"],r);const s=l(t,["bigqueryUri"]);if(s!=null&&a(e,["bigqueryDestination","outputUri"],s),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function tC(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const s=l(t,["dest"]);return e!==void 0&&s!=null&&a(e,["outputConfig"],eC(C_(s))),n}function nC(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],xe(t,r));const s=l(e,["src"]);s!=null&&a(n,["inputConfig"],j_(sm(t,s)));const u=l(e,["config"]);return u!=null&&a(n,["config"],tC(u,n)),n}function oC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],jo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function rC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],jo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function iC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const u=l(t,["filter"]);return e!==void 0&&u!=null&&a(e,["_query","filter"],u),n}function sC(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],iC(n,e)),e}function lC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],jo(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function aC(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function uC(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function cC(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function dC(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],aC(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],uC(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],cC(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function fC(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>dC(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function hC(t){const e={},n=l(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function pC(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function mC(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>pC(s))),a(e,["urlMetadata"],r)}return e}function gC(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],fC(n));const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],hC(r));const s=l(t,["tokenCount"]);s!=null&&a(e,["tokenCount"],s);const u=l(t,["finishReason"]);u!=null&&a(e,["finishReason"],u);const d=l(t,["urlContextMetadata"]);d!=null&&a(e,["urlContextMetadata"],mC(d));const h=l(t,["avgLogprobs"]);h!=null&&a(e,["avgLogprobs"],h);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=l(t,["index"]);p!=null&&a(e,["index"],p);const y=l(t,["logprobsResult"]);y!=null&&a(e,["logprobsResult"],y);const _=l(t,["safetyRatings"]);return _!=null&&a(e,["safetyRatings"],_),e}function yC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>gC(m))),a(e,["candidates"],h)}const s=l(t,["modelVersion"]);s!=null&&a(e,["modelVersion"],s);const u=l(t,["promptFeedback"]);u!=null&&a(e,["promptFeedback"],u);const d=l(t,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function cm(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["code"]);r!=null&&a(e,["code"],r);const s=l(t,["message"]);return s!=null&&a(e,["message"],s),e}function vC(t){const e={},n=l(t,["response"]);n!=null&&a(e,["response"],yC(n));const r=l(t,["error"]);return r!=null&&a(e,["error"],cm(r)),e}function _C(t){const e={},n=l(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const r=l(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>vC(u))),a(e,["inlinedResponses"],s)}return e}function eu(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["metadata","displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["metadata","state"]);s!=null&&a(e,["state"],lm(s));const u=l(t,["metadata","createTime"]);u!=null&&a(e,["createTime"],u);const d=l(t,["metadata","endTime"]);d!=null&&a(e,["endTime"],d);const h=l(t,["metadata","updateTime"]);h!=null&&a(e,["updateTime"],h);const m=l(t,["metadata","model"]);m!=null&&a(e,["model"],m);const p=l(t,["metadata","output"]);return p!=null&&a(e,["dest"],_C(p)),e}function CC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["operations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>eu(d))),a(e,["batchJobs"],u)}return e}function SC(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["done"]);r!=null&&a(e,["done"],r);const s=l(t,["error"]);return s!=null&&a(e,["error"],cm(s)),e}function dm(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["code"]);r!=null&&a(e,["code"],r);const s=l(t,["message"]);return s!=null&&a(e,["message"],s),e}function wC(t){const e={},n=l(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const r=l(t,["gcsSource","uris"]);r!=null&&a(e,["gcsUri"],r);const s=l(t,["bigquerySource","inputUri"]);return s!=null&&a(e,["bigqueryUri"],s),e}function TC(t){const e={},n=l(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const r=l(t,["gcsDestination","outputUriPrefix"]);r!=null&&a(e,["gcsUri"],r);const s=l(t,["bigqueryDestination","outputUri"]);return s!=null&&a(e,["bigqueryUri"],s),e}function tu(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["state"]);s!=null&&a(e,["state"],lm(s));const u=l(t,["error"]);u!=null&&a(e,["error"],dm(u));const d=l(t,["createTime"]);d!=null&&a(e,["createTime"],d);const h=l(t,["startTime"]);h!=null&&a(e,["startTime"],h);const m=l(t,["endTime"]);m!=null&&a(e,["endTime"],m);const p=l(t,["updateTime"]);p!=null&&a(e,["updateTime"],p);const y=l(t,["model"]);y!=null&&a(e,["model"],y);const _=l(t,["inputConfig"]);_!=null&&a(e,["src"],wC(_));const C=l(t,["outputConfig"]);return C!=null&&a(e,["dest"],TC(C)),e}function EC(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["batchPredictionJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>tu(d))),a(e,["batchJobs"],u)}return e}function kC(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["done"]);r!=null&&a(e,["done"],r);const s=l(t,["error"]);return s!=null&&a(e,["error"],dm(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Zn||(Zn={}));class ei{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,u;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!r||Object.keys(r).length===0?d={config:{}}:typeof r=="object"?d=Object.assign({},r):d=r,d.config&&(d.config.pageToken=n.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xC extends to{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const s=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${s}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new ei(Zn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=nC(this.apiClient,e);return h=re("batchPredictionJobs",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>tu(y))}else{const p=J_(this.apiClient,e);return h=re("{model}:batchGenerateContent",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>eu(y))}}async get(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=oC(this.apiClient,e);return h=re("batchPredictionJobs/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>tu(y))}else{const p=K_(this.apiClient,e);return h=re("batches/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>eu(y))}}async cancel(e){var n,r,s,u;let d="",h={};if(this.apiClient.isVertexAI()){const m=rC(this.apiClient,e);d=re("batchPredictionJobs/{name}:cancel",m._url),h=m._query,delete m.config,delete m._url,delete m._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const m=Y_(this.apiClient,e);d=re("batches/{name}:cancel",m._url),h=m._query,delete m.config,delete m._url,delete m._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=sC(e);return h=re("batchPredictionJobs",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=EC(y),C=new ep;return Object.assign(C,_),C})}else{const p=X_(e);return h=re("batches",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=CC(y),C=new ep;return Object.assign(C,_),C})}}async delete(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=lC(this.apiClient,e);return h=re("batchPredictionJobs/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>kC(y))}else{const p=Z_(this.apiClient,e);return h=re("batches/{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>SC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AC(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function IC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function PC(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function RC(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],AC(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],IC(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],PC(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function rp(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>RC(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function MC(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function NC(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function DC(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],NC(n)),e}function LC(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function UC(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],LC(n)),e}function FC(){return{}}function $C(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>MC(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],DC(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],UC(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],FC());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function bC(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function VC(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function BC(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],VC(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function OC(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],bC(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],BC(r)),e}function zC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&a(e,["expireTime"],s);const u=l(t,["displayName"]);e!==void 0&&u!=null&&a(e,["displayName"],u);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let y=It(d);Array.isArray(y)&&(y=y.map(_=>rp(_))),a(e,["contents"],y)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&a(e,["systemInstruction"],rp(st(h)));const m=l(t,["tools"]);if(e!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>$C(_))),a(e,["tools"],y)}const p=l(t,["toolConfig"]);if(e!==void 0&&p!=null&&a(e,["toolConfig"],OC(p)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function HC(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],Qp(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],zC(s,n)),n}function qC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],rn(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function GC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],rn(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function WC(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&a(e,["expireTime"],s),n}function JC(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],rn(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],WC(s,n)),n}function KC(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),n}function YC(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],KC(n,e)),e}function QC(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function XC(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function ZC(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function jC(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],QC(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],XC(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],ZC(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function ip(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>jC(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function eS(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const u=l(t,["parametersJsonSchema"]);u!=null&&a(e,["parametersJsonSchema"],u);const d=l(t,["response"]);d!=null&&a(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&a(e,["responseJsonSchema"],h),e}function tS(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function nS(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],tS(n)),e}function oS(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function rS(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],oS(n)),e}function iS(){return{}}function sS(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function lS(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],sS(n));const r=l(t,["authType"]);r!=null&&a(e,["authType"],r);const s=l(t,["googleServiceAccountConfig"]);s!=null&&a(e,["googleServiceAccountConfig"],s);const u=l(t,["httpBasicAuthConfig"]);u!=null&&a(e,["httpBasicAuthConfig"],u);const d=l(t,["oauthConfig"]);d!=null&&a(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&a(e,["oidcConfig"],h),e}function aS(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],lS(n)),e}function uS(){return{}}function cS(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(C=>eS(C))),a(e,["functionDeclarations"],_)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const s=l(t,["googleSearch"]);s!=null&&a(e,["googleSearch"],nS(s));const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],rS(u)),l(t,["enterpriseWebSearch"])!=null&&a(e,["enterpriseWebSearch"],iS());const h=l(t,["googleMaps"]);h!=null&&a(e,["googleMaps"],aS(h)),l(t,["urlContext"])!=null&&a(e,["urlContext"],uS());const p=l(t,["codeExecution"]);p!=null&&a(e,["codeExecution"],p);const y=l(t,["computerUse"]);return y!=null&&a(e,["computerUse"],y),e}function dS(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function fS(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function hS(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],fS(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function pS(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],dS(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],hS(r)),e}function mS(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);e!==void 0&&s!=null&&a(e,["expireTime"],s);const u=l(t,["displayName"]);e!==void 0&&u!=null&&a(e,["displayName"],u);const d=l(t,["contents"]);if(e!==void 0&&d!=null){let _=It(d);Array.isArray(_)&&(_=_.map(C=>ip(C))),a(e,["contents"],_)}const h=l(t,["systemInstruction"]);e!==void 0&&h!=null&&a(e,["systemInstruction"],ip(st(h)));const m=l(t,["tools"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(C=>cS(C))),a(e,["tools"],_)}const p=l(t,["toolConfig"]);e!==void 0&&p!=null&&a(e,["toolConfig"],pS(p));const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&a(e,["encryption_spec","kmsKeyName"],y),n}function gS(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["model"],Qp(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],mS(s,n)),n}function yS(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],rn(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function vS(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],rn(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function _S(t,e){const n={},r=l(t,["ttl"]);e!==void 0&&r!=null&&a(e,["ttl"],r);const s=l(t,["expireTime"]);return e!==void 0&&s!=null&&a(e,["expireTime"],s),n}function CS(t,e){const n={},r=l(e,["name"]);r!=null&&a(n,["_url","name"],rn(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],_S(s,n)),n}function SS(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),n}function wS(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],SS(n,e)),e}function _s(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["model"]);s!=null&&a(e,["model"],s);const u=l(t,["createTime"]);u!=null&&a(e,["createTime"],u);const d=l(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&a(e,["expireTime"],h);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function TS(){return{}}function ES(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>_s(d))),a(e,["cachedContents"],u)}return e}function Cs(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["model"]);s!=null&&a(e,["model"],s);const u=l(t,["createTime"]);u!=null&&a(e,["createTime"],u);const d=l(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const h=l(t,["expireTime"]);h!=null&&a(e,["expireTime"],h);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function kS(){return{}}function xS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Cs(d))),a(e,["cachedContents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AS extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ei(Zn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=gS(this.apiClient,e);return h=re("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Cs(y))}else{const p=HC(this.apiClient,e);return h=re("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>_s(y))}}async get(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=yS(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Cs(y))}else{const p=qC(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>_s(y))}}async delete(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=vS(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(()=>{const y=kS(),_=new Zh;return Object.assign(_,y),_})}else{const p=GC(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(()=>{const y=TS(),_=new Zh;return Object.assign(_,y),_})}}async update(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=CS(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>Cs(y))}else{const p=JC(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>_s(y))}}async listInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=wS(e);return h=re("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=xS(y),C=new jh;return Object.assign(C,_),C})}else{const p=YC(e);return h=re("cachedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=ES(y),C=new jh;return Object.assign(C,_),C})}}}function sp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(t){return this instanceof De?(this.v=t,this):new De(t)}function Go(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,u=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(w){return function(E){return Promise.resolve(E).then(w,_)}}function h(w,E){r[w]&&(s[w]=function(A){return new Promise(function(I,L){u.push([w,A,I,L])>1||m(w,A)})},E&&(s[w]=E(s[w])))}function m(w,E){try{p(r[w](E))}catch(A){C(u[0][3],A)}}function p(w){w.value instanceof De?Promise.resolve(w.value.v).then(y,_):C(u[0][2],w)}function y(w){m("next",w)}function _(w){m("throw",w)}function C(w,E){w(E),u.shift(),u.length&&m(u[0][0],u[0][1])}}function Yr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sp=="function"?sp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(u){n[u]=t[u]&&function(d){return new Promise(function(h,m){d=t[u](d),s(h,m,d.done,d.value)})}}function s(u,d,h,m){Promise.resolve(m).then(function(p){u({value:p,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:fm(n)}function fm(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function PS(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function lp(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let u=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),u&&!fm(t[r])&&(u=!1),r++;u?e.push(...s):e.pop()}return e}class RS{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new MS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class MS{constructor(e,n,r,s={},u=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=u,this.sendPromise=Promise.resolve(),PS(u)}async sendMessage(e){var n;await this.sendPromise;const r=st(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var u,d,h;const m=await s,p=(d=(u=m.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,y=m.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let C=[];y!=null&&(C=(h=y.slice(_))!==null&&h!==void 0?h:[]);const w=p?[p]:[];this.recordHistory(r,w,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=st(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const u=await s;return this.processStreamResponse(u,r)}getHistory(e=!1){const n=e?lp(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return Go(this,arguments,function*(){var d,h,m,p;const y=[];try{for(var _=!0,C=Yr(e),w;w=yield De(C.next()),d=w.done,!d;_=!0){p=w.value,_=!1;const E=p;if(IS(E)){const A=(s=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;A!==void 0&&y.push(A)}yield yield De(E)}}catch(E){h={error:E}}finally{try{!_&&!d&&(m=C.return)&&(yield De(m.call(C)))}finally{if(h)throw h.error}}this.recordHistory(n,y)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(u=>u.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...lp(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class As extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,As.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NS(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);return e!==void 0&&s!=null&&a(e,["_query","pageToken"],s),n}function DS(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],NS(n,e)),e}function LS(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["message"]);r!=null&&a(e,["message"],r);const s=l(t,["code"]);return s!=null&&a(e,["code"],s),e}function US(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["mimeType"]);s!=null&&a(e,["mimeType"],s);const u=l(t,["sizeBytes"]);u!=null&&a(e,["sizeBytes"],u);const d=l(t,["createTime"]);d!=null&&a(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&a(e,["expirationTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["sha256Hash"]);p!=null&&a(e,["sha256Hash"],p);const y=l(t,["uri"]);y!=null&&a(e,["uri"],y);const _=l(t,["downloadUri"]);_!=null&&a(e,["downloadUri"],_);const C=l(t,["state"]);C!=null&&a(e,["state"],C);const w=l(t,["source"]);w!=null&&a(e,["source"],w);const E=l(t,["videoMetadata"]);E!=null&&a(e,["videoMetadata"],E);const A=l(t,["error"]);return A!=null&&a(e,["error"],LS(A)),e}function FS(t){const e={},n=l(t,["file"]);n!=null&&a(e,["file"],US(n));const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function $S(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","file"],om(n));const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function bS(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","file"],om(n));const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function VS(t){const e={},n=l(t,["details"]);n!=null&&a(e,["details"],n);const r=l(t,["message"]);r!=null&&a(e,["message"],r);const s=l(t,["code"]);return s!=null&&a(e,["code"],s),e}function nu(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["mimeType"]);s!=null&&a(e,["mimeType"],s);const u=l(t,["sizeBytes"]);u!=null&&a(e,["sizeBytes"],u);const d=l(t,["createTime"]);d!=null&&a(e,["createTime"],d);const h=l(t,["expirationTime"]);h!=null&&a(e,["expirationTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["sha256Hash"]);p!=null&&a(e,["sha256Hash"],p);const y=l(t,["uri"]);y!=null&&a(e,["uri"],y);const _=l(t,["downloadUri"]);_!=null&&a(e,["downloadUri"],_);const C=l(t,["state"]);C!=null&&a(e,["state"],C);const w=l(t,["source"]);w!=null&&a(e,["source"],w);const E=l(t,["videoMetadata"]);E!=null&&a(e,["videoMetadata"],E);const A=l(t,["error"]);return A!=null&&a(e,["error"],VS(A)),e}function BS(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["files"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>nu(d))),a(e,["files"],u)}return e}function OS(t){const e={},n=l(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function zS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ei(Zn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>nu(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DS(e);return u=re("files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=BS(m),y=new l_;return Object.assign(y,p),y})}}async createInternal(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FS(e);return u=re("upload/v1beta/files",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>{const p=OS(m),y=new a_;return Object.assign(y,p),y})}}async get(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$S(e);return u=re("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(m=>nu(m))}}async delete(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=bS(e);return u=re("files/{file}",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s.then(()=>{const m=zS(),p=new u_;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qS(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function hm(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],qS(n)),e}function GS(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],hm(r)),e}function WS(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>GS(s))),a(e,["speakerVoiceConfigs"],r)}return e}function JS(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],hm(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],WS(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function KS(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function YS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function QS(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function XS(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],KS(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],YS(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],QS(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function ZS(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>XS(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function jS(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function ew(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function tw(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],ew(n)),e}function nw(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function ow(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],nw(n)),e}function rw(){return{}}function iw(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>jS(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],tw(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],ow(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],rw());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function sw(t){const e={},n=l(t,["handle"]);if(n!=null&&a(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ap(){return{}}function lw(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const r=l(t,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&a(e,["endOfSpeechSensitivity"],s);const u=l(t,["prefixPaddingMs"]);u!=null&&a(e,["prefixPaddingMs"],u);const d=l(t,["silenceDurationMs"]);return d!=null&&a(e,["silenceDurationMs"],d),e}function aw(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],lw(n));const r=l(t,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const s=l(t,["turnCoverage"]);return s!=null&&a(e,["turnCoverage"],s),e}function uw(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function cw(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const r=l(t,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],uw(r)),e}function dw(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function fw(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","responseModalities"],s);const u=l(t,["temperature"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","temperature"],u);const d=l(t,["topP"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","topK"],h);const m=l(t,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=l(t,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","seed"],y);const _=l(t,["speechConfig"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","speechConfig"],JS(vu(_)));const C=l(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],C);const w=l(t,["systemInstruction"]);e!==void 0&&w!=null&&a(e,["setup","systemInstruction"],ZS(st(w)));const E=l(t,["tools"]);if(e!==void 0&&E!=null){let b=Zo(E);Array.isArray(b)&&(b=b.map(q=>iw(Xo(q)))),a(e,["setup","tools"],b)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&a(e,["setup","sessionResumption"],sw(A));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&a(e,["setup","inputAudioTranscription"],ap());const L=l(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&a(e,["setup","outputAudioTranscription"],ap());const F=l(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&a(e,["setup","realtimeInputConfig"],aw(F));const M=l(t,["contextWindowCompression"]);e!==void 0&&M!=null&&a(e,["setup","contextWindowCompression"],cw(M));const $=l(t,["proactivity"]);return e!==void 0&&$!=null&&a(e,["setup","proactivity"],dw($)),n}function hw(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],fw(s,n)),n}function pw(){return{}}function mw(){return{}}function gw(t){const e={},n=l(t,["media"]);n!=null&&a(e,["mediaChunks"],Xp(n));const r=l(t,["audio"]);r!=null&&a(e,["audio"],jp(r));const s=l(t,["audioStreamEnd"]);s!=null&&a(e,["audioStreamEnd"],s);const u=l(t,["video"]);u!=null&&a(e,["video"],Zp(u));const d=l(t,["text"]);return d!=null&&a(e,["text"],d),l(t,["activityStart"])!=null&&a(e,["activityStart"],pw()),l(t,["activityEnd"])!=null&&a(e,["activityEnd"],mw()),e}function pm(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["weight"]);return r!=null&&a(e,["weight"],r),e}function yw(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>pm(s))),a(e,["weightedPrompts"],r)}return e}function mm(t){const e={},n=l(t,["temperature"]);n!=null&&a(e,["temperature"],n);const r=l(t,["topK"]);r!=null&&a(e,["topK"],r);const s=l(t,["seed"]);s!=null&&a(e,["seed"],s);const u=l(t,["guidance"]);u!=null&&a(e,["guidance"],u);const d=l(t,["bpm"]);d!=null&&a(e,["bpm"],d);const h=l(t,["density"]);h!=null&&a(e,["density"],h);const m=l(t,["brightness"]);m!=null&&a(e,["brightness"],m);const p=l(t,["scale"]);p!=null&&a(e,["scale"],p);const y=l(t,["muteBass"]);y!=null&&a(e,["muteBass"],y);const _=l(t,["muteDrums"]);_!=null&&a(e,["muteDrums"],_);const C=l(t,["onlyBassAndDrums"]);return C!=null&&a(e,["onlyBassAndDrums"],C),e}function vw(t){const e={},n=l(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],mm(n)),e}function gm(t){const e={},n=l(t,["model"]);return n!=null&&a(e,["model"],n),e}function ym(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>pm(s))),a(e,["weightedPrompts"],r)}return e}function ou(t){const e={},n=l(t,["setup"]);n!=null&&a(e,["setup"],gm(n));const r=l(t,["clientContent"]);r!=null&&a(e,["clientContent"],ym(r));const s=l(t,["musicGenerationConfig"]);s!=null&&a(e,["musicGenerationConfig"],mm(s));const u=l(t,["playbackControl"]);return u!=null&&a(e,["playbackControl"],u),e}function _w(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function Cw(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],_w(n)),e}function Sw(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],Cw(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function ww(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function Tw(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function Ew(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function kw(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],ww(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],Tw(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],Ew(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function xw(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>kw(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function Aw(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const u=l(t,["parametersJsonSchema"]);u!=null&&a(e,["parametersJsonSchema"],u);const d=l(t,["response"]);d!=null&&a(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&a(e,["responseJsonSchema"],h),e}function Iw(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function Pw(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],Iw(n)),e}function Rw(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function Mw(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],Rw(n)),e}function Nw(){return{}}function Dw(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function Lw(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],Dw(n));const r=l(t,["authType"]);r!=null&&a(e,["authType"],r);const s=l(t,["googleServiceAccountConfig"]);s!=null&&a(e,["googleServiceAccountConfig"],s);const u=l(t,["httpBasicAuthConfig"]);u!=null&&a(e,["httpBasicAuthConfig"],u);const d=l(t,["oauthConfig"]);d!=null&&a(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&a(e,["oidcConfig"],h),e}function Uw(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],Lw(n)),e}function Fw(){return{}}function $w(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(C=>Aw(C))),a(e,["functionDeclarations"],_)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const s=l(t,["googleSearch"]);s!=null&&a(e,["googleSearch"],Pw(s));const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],Mw(u)),l(t,["enterpriseWebSearch"])!=null&&a(e,["enterpriseWebSearch"],Nw());const h=l(t,["googleMaps"]);h!=null&&a(e,["googleMaps"],Uw(h)),l(t,["urlContext"])!=null&&a(e,["urlContext"],Fw());const p=l(t,["codeExecution"]);p!=null&&a(e,["codeExecution"],p);const y=l(t,["computerUse"]);return y!=null&&a(e,["computerUse"],y),e}function bw(t){const e={},n=l(t,["handle"]);n!=null&&a(e,["handle"],n);const r=l(t,["transparent"]);return r!=null&&a(e,["transparent"],r),e}function up(){return{}}function Vw(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const r=l(t,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&a(e,["endOfSpeechSensitivity"],s);const u=l(t,["prefixPaddingMs"]);u!=null&&a(e,["prefixPaddingMs"],u);const d=l(t,["silenceDurationMs"]);return d!=null&&a(e,["silenceDurationMs"],d),e}function Bw(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],Vw(n));const r=l(t,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const s=l(t,["turnCoverage"]);return s!=null&&a(e,["turnCoverage"],s),e}function Ow(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function zw(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const r=l(t,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],Ow(r)),e}function Hw(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function qw(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","responseModalities"],s);const u=l(t,["temperature"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","temperature"],u);const d=l(t,["topP"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","topK"],h);const m=l(t,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=l(t,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","seed"],y);const _=l(t,["speechConfig"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","speechConfig"],Sw(vu(_)));const C=l(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],C);const w=l(t,["systemInstruction"]);e!==void 0&&w!=null&&a(e,["setup","systemInstruction"],xw(st(w)));const E=l(t,["tools"]);if(e!==void 0&&E!=null){let b=Zo(E);Array.isArray(b)&&(b=b.map(q=>$w(Xo(q)))),a(e,["setup","tools"],b)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&a(e,["setup","sessionResumption"],bw(A));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&a(e,["setup","inputAudioTranscription"],up());const L=l(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&a(e,["setup","outputAudioTranscription"],up());const F=l(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&a(e,["setup","realtimeInputConfig"],Bw(F));const M=l(t,["contextWindowCompression"]);e!==void 0&&M!=null&&a(e,["setup","contextWindowCompression"],zw(M));const $=l(t,["proactivity"]);return e!==void 0&&$!=null&&a(e,["setup","proactivity"],Hw($)),n}function Gw(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],qw(s,n)),n}function Ww(){return{}}function Jw(){return{}}function Kw(t){const e={},n=l(t,["media"]);n!=null&&a(e,["mediaChunks"],Xp(n));const r=l(t,["audio"]);r!=null&&a(e,["audio"],jp(r));const s=l(t,["audioStreamEnd"]);s!=null&&a(e,["audioStreamEnd"],s);const u=l(t,["video"]);u!=null&&a(e,["video"],Zp(u));const d=l(t,["text"]);return d!=null&&a(e,["text"],d),l(t,["activityStart"])!=null&&a(e,["activityStart"],Ww()),l(t,["activityEnd"])!=null&&a(e,["activityEnd"],Jw()),e}function Yw(){return{}}function Qw(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function Xw(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Zw(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function jw(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],Qw(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],Xw(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],Zw(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function eT(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>jw(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function cp(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["finished"]);return r!=null&&a(e,["finished"],r),e}function tT(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function nT(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>tT(s))),a(e,["urlMetadata"],r)}return e}function oT(t){const e={},n=l(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],eT(n));const r=l(t,["turnComplete"]);r!=null&&a(e,["turnComplete"],r);const s=l(t,["interrupted"]);s!=null&&a(e,["interrupted"],s);const u=l(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=l(t,["generationComplete"]);d!=null&&a(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&a(e,["inputTranscription"],cp(h));const m=l(t,["outputTranscription"]);m!=null&&a(e,["outputTranscription"],cp(m));const p=l(t,["urlContextMetadata"]);return p!=null&&a(e,["urlContextMetadata"],nT(p)),e}function rT(t){const e={},n=l(t,["id"]);n!=null&&a(e,["id"],n);const r=l(t,["args"]);r!=null&&a(e,["args"],r);const s=l(t,["name"]);return s!=null&&a(e,["name"],s),e}function iT(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>rT(s))),a(e,["functionCalls"],r)}return e}function sT(t){const e={},n=l(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function gs(t){const e={},n=l(t,["modality"]);n!=null&&a(e,["modality"],n);const r=l(t,["tokenCount"]);return r!=null&&a(e,["tokenCount"],r),e}function lT(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&a(e,["cachedContentTokenCount"],r);const s=l(t,["responseTokenCount"]);s!=null&&a(e,["responseTokenCount"],s);const u=l(t,["toolUsePromptTokenCount"]);u!=null&&a(e,["toolUsePromptTokenCount"],u);const d=l(t,["thoughtsTokenCount"]);d!=null&&a(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&a(e,["totalTokenCount"],h);const m=l(t,["promptTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(w=>gs(w))),a(e,["promptTokensDetails"],C)}const p=l(t,["cacheTokensDetails"]);if(p!=null){let C=p;Array.isArray(C)&&(C=C.map(w=>gs(w))),a(e,["cacheTokensDetails"],C)}const y=l(t,["responseTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(w=>gs(w))),a(e,["responseTokensDetails"],C)}const _=l(t,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(w=>gs(w))),a(e,["toolUsePromptTokensDetails"],C)}return e}function aT(t){const e={},n=l(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function uT(t){const e={},n=l(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const r=l(t,["resumable"]);r!=null&&a(e,["resumable"],r);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&a(e,["lastConsumedClientMessageIndex"],s),e}function cT(t){const e={};l(t,["setupComplete"])!=null&&a(e,["setupComplete"],Yw());const r=l(t,["serverContent"]);r!=null&&a(e,["serverContent"],oT(r));const s=l(t,["toolCall"]);s!=null&&a(e,["toolCall"],iT(s));const u=l(t,["toolCallCancellation"]);u!=null&&a(e,["toolCallCancellation"],sT(u));const d=l(t,["usageMetadata"]);d!=null&&a(e,["usageMetadata"],lT(d));const h=l(t,["goAway"]);h!=null&&a(e,["goAway"],aT(h));const m=l(t,["sessionResumptionUpdate"]);return m!=null&&a(e,["sessionResumptionUpdate"],uT(m)),e}function dT(){return{}}function fT(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["weight"]);return r!=null&&a(e,["weight"],r),e}function hT(t){const e={},n=l(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>fT(s))),a(e,["weightedPrompts"],r)}return e}function pT(t){const e={},n=l(t,["temperature"]);n!=null&&a(e,["temperature"],n);const r=l(t,["topK"]);r!=null&&a(e,["topK"],r);const s=l(t,["seed"]);s!=null&&a(e,["seed"],s);const u=l(t,["guidance"]);u!=null&&a(e,["guidance"],u);const d=l(t,["bpm"]);d!=null&&a(e,["bpm"],d);const h=l(t,["density"]);h!=null&&a(e,["density"],h);const m=l(t,["brightness"]);m!=null&&a(e,["brightness"],m);const p=l(t,["scale"]);p!=null&&a(e,["scale"],p);const y=l(t,["muteBass"]);y!=null&&a(e,["muteBass"],y);const _=l(t,["muteDrums"]);_!=null&&a(e,["muteDrums"],_);const C=l(t,["onlyBassAndDrums"]);return C!=null&&a(e,["onlyBassAndDrums"],C),e}function mT(t){const e={},n=l(t,["clientContent"]);n!=null&&a(e,["clientContent"],hT(n));const r=l(t,["musicGenerationConfig"]);return r!=null&&a(e,["musicGenerationConfig"],pT(r)),e}function gT(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);r!=null&&a(e,["mimeType"],r);const s=l(t,["sourceMetadata"]);return s!=null&&a(e,["sourceMetadata"],mT(s)),e}function yT(t){const e={},n=l(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>gT(s))),a(e,["audioChunks"],r)}return e}function vT(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["filteredReason"]);return r!=null&&a(e,["filteredReason"],r),e}function _T(t){const e={};l(t,["setupComplete"])!=null&&a(e,["setupComplete"],dT());const r=l(t,["serverContent"]);r!=null&&a(e,["serverContent"],yT(r));const s=l(t,["filteredPrompt"]);return s!=null&&a(e,["filteredPrompt"],vT(s)),e}function CT(t){const e={},n=l(t,["sessionId"]);return n!=null&&a(e,["sessionId"],n),e}function ST(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function wT(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function TT(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function ET(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],ST(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],wT(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],TT(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function kT(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>ET(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function dp(t){const e={},n=l(t,["text"]);n!=null&&a(e,["text"],n);const r=l(t,["finished"]);return r!=null&&a(e,["finished"],r),e}function xT(t){const e={},n=l(t,["modelTurn"]);n!=null&&a(e,["modelTurn"],kT(n));const r=l(t,["turnComplete"]);r!=null&&a(e,["turnComplete"],r);const s=l(t,["interrupted"]);s!=null&&a(e,["interrupted"],s);const u=l(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=l(t,["generationComplete"]);d!=null&&a(e,["generationComplete"],d);const h=l(t,["inputTranscription"]);h!=null&&a(e,["inputTranscription"],dp(h));const m=l(t,["outputTranscription"]);return m!=null&&a(e,["outputTranscription"],dp(m)),e}function AT(t){const e={},n=l(t,["args"]);n!=null&&a(e,["args"],n);const r=l(t,["name"]);return r!=null&&a(e,["name"],r),e}function IT(t){const e={},n=l(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>AT(s))),a(e,["functionCalls"],r)}return e}function PT(t){const e={},n=l(t,["ids"]);return n!=null&&a(e,["ids"],n),e}function ys(t){const e={},n=l(t,["modality"]);n!=null&&a(e,["modality"],n);const r=l(t,["tokenCount"]);return r!=null&&a(e,["tokenCount"],r),e}function RT(t){const e={},n=l(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const r=l(t,["cachedContentTokenCount"]);r!=null&&a(e,["cachedContentTokenCount"],r);const s=l(t,["candidatesTokenCount"]);s!=null&&a(e,["responseTokenCount"],s);const u=l(t,["toolUsePromptTokenCount"]);u!=null&&a(e,["toolUsePromptTokenCount"],u);const d=l(t,["thoughtsTokenCount"]);d!=null&&a(e,["thoughtsTokenCount"],d);const h=l(t,["totalTokenCount"]);h!=null&&a(e,["totalTokenCount"],h);const m=l(t,["promptTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(E=>ys(E))),a(e,["promptTokensDetails"],w)}const p=l(t,["cacheTokensDetails"]);if(p!=null){let w=p;Array.isArray(w)&&(w=w.map(E=>ys(E))),a(e,["cacheTokensDetails"],w)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(E=>ys(E))),a(e,["responseTokensDetails"],w)}const _=l(t,["toolUsePromptTokensDetails"]);if(_!=null){let w=_;Array.isArray(w)&&(w=w.map(E=>ys(E))),a(e,["toolUsePromptTokensDetails"],w)}const C=l(t,["trafficType"]);return C!=null&&a(e,["trafficType"],C),e}function MT(t){const e={},n=l(t,["timeLeft"]);return n!=null&&a(e,["timeLeft"],n),e}function NT(t){const e={},n=l(t,["newHandle"]);n!=null&&a(e,["newHandle"],n);const r=l(t,["resumable"]);r!=null&&a(e,["resumable"],r);const s=l(t,["lastConsumedClientMessageIndex"]);return s!=null&&a(e,["lastConsumedClientMessageIndex"],s),e}function DT(t){const e={},n=l(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],CT(n));const r=l(t,["serverContent"]);r!=null&&a(e,["serverContent"],xT(r));const s=l(t,["toolCall"]);s!=null&&a(e,["toolCall"],IT(s));const u=l(t,["toolCallCancellation"]);u!=null&&a(e,["toolCallCancellation"],PT(u));const d=l(t,["usageMetadata"]);d!=null&&a(e,["usageMetadata"],RT(d));const h=l(t,["goAway"]);h!=null&&a(e,["goAway"],MT(h));const m=l(t,["sessionResumptionUpdate"]);return m!=null&&a(e,["sessionResumptionUpdate"],NT(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LT(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function UT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function FT(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function $T(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],LT(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],UT(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],FT(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function Is(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>$T(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function bT(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const r=l(t,["default"]);r!=null&&a(e,["default"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const u=l(t,["enum"]);u!=null&&a(e,["enum"],u);const d=l(t,["example"]);d!=null&&a(e,["example"],d);const h=l(t,["format"]);h!=null&&a(e,["format"],h);const m=l(t,["items"]);m!=null&&a(e,["items"],m);const p=l(t,["maxItems"]);p!=null&&a(e,["maxItems"],p);const y=l(t,["maxLength"]);y!=null&&a(e,["maxLength"],y);const _=l(t,["maxProperties"]);_!=null&&a(e,["maxProperties"],_);const C=l(t,["maximum"]);C!=null&&a(e,["maximum"],C);const w=l(t,["minItems"]);w!=null&&a(e,["minItems"],w);const E=l(t,["minLength"]);E!=null&&a(e,["minLength"],E);const A=l(t,["minProperties"]);A!=null&&a(e,["minProperties"],A);const I=l(t,["minimum"]);I!=null&&a(e,["minimum"],I);const L=l(t,["nullable"]);L!=null&&a(e,["nullable"],L);const F=l(t,["pattern"]);F!=null&&a(e,["pattern"],F);const M=l(t,["properties"]);M!=null&&a(e,["properties"],M);const $=l(t,["propertyOrdering"]);$!=null&&a(e,["propertyOrdering"],$);const b=l(t,["required"]);b!=null&&a(e,["required"],b);const q=l(t,["title"]);q!=null&&a(e,["title"],q);const W=l(t,["type"]);return W!=null&&a(e,["type"],W),e}function VT(t){const e={};if(l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(t,["category"]);n!=null&&a(e,["category"],n);const r=l(t,["threshold"]);return r!=null&&a(e,["threshold"],r),e}function BT(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function OT(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function zT(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],OT(n)),e}function HT(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function qT(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],HT(n)),e}function GT(){return{}}function WT(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>BT(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],zT(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],qT(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],GT());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function JT(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function KT(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function YT(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],KT(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function QT(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],JT(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],YT(r)),e}function XT(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function vm(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],XT(n)),e}function ZT(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],vm(r)),e}function jT(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>ZT(s))),a(e,["speakerVoiceConfigs"],r)}return e}function eE(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],vm(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],jT(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function tE(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const r=l(t,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function nE(t,e,n){const r={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],Is(st(s)));const u=l(e,["temperature"]);u!=null&&a(r,["temperature"],u);const d=l(e,["topP"]);d!=null&&a(r,["topP"],d);const h=l(e,["topK"]);h!=null&&a(r,["topK"],h);const m=l(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=l(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const y=l(e,["stopSequences"]);y!=null&&a(r,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&a(r,["responseLogprobs"],_);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const w=l(e,["presencePenalty"]);w!=null&&a(r,["presencePenalty"],w);const E=l(e,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const A=l(e,["seed"]);A!=null&&a(r,["seed"],A);const I=l(e,["responseMimeType"]);I!=null&&a(r,["responseMimeType"],I);const L=l(e,["responseSchema"]);L!=null&&a(r,["responseSchema"],bT(gu(L)));const F=l(e,["responseJsonSchema"]);if(F!=null&&a(r,["responseJsonSchema"],F),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=l(e,["safetySettings"]);if(n!==void 0&&M!=null){let oe=M;Array.isArray(oe)&&(oe=oe.map(we=>VT(we))),a(n,["safetySettings"],oe)}const $=l(e,["tools"]);if(n!==void 0&&$!=null){let oe=Zo($);Array.isArray(oe)&&(oe=oe.map(we=>WT(Xo(we)))),a(n,["tools"],oe)}const b=l(e,["toolConfig"]);if(n!==void 0&&b!=null&&a(n,["toolConfig"],QT(b)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=l(e,["cachedContent"]);n!==void 0&&q!=null&&a(n,["cachedContent"],rn(t,q));const W=l(e,["responseModalities"]);W!=null&&a(r,["responseModalities"],W);const ue=l(e,["mediaResolution"]);ue!=null&&a(r,["mediaResolution"],ue);const j=l(e,["speechConfig"]);if(j!=null&&a(r,["speechConfig"],eE(yu(j))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=l(e,["thinkingConfig"]);return ne!=null&&a(r,["thinkingConfig"],tE(ne)),r}function fp(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["contents"]);if(s!=null){let d=It(s);Array.isArray(d)&&(d=d.map(h=>Is(h))),a(n,["contents"],d)}const u=l(e,["config"]);return u!=null&&a(n,["generationConfig"],nE(t,u,n)),n}function oE(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&a(e,["requests[]","taskType"],r);const s=l(t,["title"]);e!==void 0&&s!=null&&a(e,["requests[]","title"],s);const u=l(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&a(e,["requests[]","outputDimensionality"],u),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["contents"]);s!=null&&a(n,["requests[]","content"],tm(t,s));const u=l(e,["config"]);u!=null&&a(n,["config"],oE(u,n));const d=l(e,["model"]);return d!==void 0&&a(n,["requests[]","model"],xe(t,d)),n}function iE(t,e){const n={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const s=l(t,["aspectRatio"]);e!==void 0&&s!=null&&a(e,["parameters","aspectRatio"],s);const u=l(t,["guidanceScale"]);if(e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=l(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const h=l(t,["personGeneration"]);e!==void 0&&h!=null&&a(e,["parameters","personGeneration"],h);const m=l(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=l(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const y=l(t,["language"]);e!==void 0&&y!=null&&a(e,["parameters","language"],y);const _=l(t,["outputMimeType"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","mimeType"],_);const C=l(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&a(e,["parameters","outputOptions","compressionQuality"],C),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function sE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const u=l(e,["config"]);return u!=null&&a(n,["config"],iE(u,n)),n}function lE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function aE(t,e,n){const r={},s=l(e,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const u=l(e,["pageToken"]);n!==void 0&&u!=null&&a(n,["_query","pageToken"],u);const d=l(e,["filter"]);n!==void 0&&d!=null&&a(n,["_query","filter"],d);const h=l(e,["queryBase"]);return n!==void 0&&h!=null&&a(n,["_url","models_url"],rm(t,h)),r}function uE(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],aE(t,r,n)),n}function cE(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);e!==void 0&&s!=null&&a(e,["description"],s);const u=l(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&a(e,["defaultCheckpointId"],u),n}function dE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],cE(s,n)),n}function fE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function hE(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function pE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["contents"]);if(s!=null){let d=It(s);Array.isArray(d)&&(d=d.map(h=>Is(h))),a(n,["contents"],d)}const u=l(e,["config"]);return u!=null&&a(n,["config"],hE(u)),n}function mE(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],no(n));const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function gE(t,e){const n={},r=l(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(t,["durationSeconds"]);if(e!==void 0&&s!=null&&a(e,["parameters","durationSeconds"],s),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(t,["aspectRatio"]);if(e!==void 0&&u!=null&&a(e,["parameters","aspectRatio"],u),l(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const d=l(t,["personGeneration"]);if(e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=l(t,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function yE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const u=l(e,["image"]);if(u!=null&&a(n,["instances[0]","image"],mE(u)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const d=l(e,["config"]);return d!=null&&a(n,["config"],gE(d,n)),n}function vE(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function _E(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function CE(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function SE(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],vE(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],_E(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],CE(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function er(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>SE(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function wE(t){const e={},n=l(t,["anyOf"]);n!=null&&a(e,["anyOf"],n);const r=l(t,["default"]);r!=null&&a(e,["default"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const u=l(t,["enum"]);u!=null&&a(e,["enum"],u);const d=l(t,["example"]);d!=null&&a(e,["example"],d);const h=l(t,["format"]);h!=null&&a(e,["format"],h);const m=l(t,["items"]);m!=null&&a(e,["items"],m);const p=l(t,["maxItems"]);p!=null&&a(e,["maxItems"],p);const y=l(t,["maxLength"]);y!=null&&a(e,["maxLength"],y);const _=l(t,["maxProperties"]);_!=null&&a(e,["maxProperties"],_);const C=l(t,["maximum"]);C!=null&&a(e,["maximum"],C);const w=l(t,["minItems"]);w!=null&&a(e,["minItems"],w);const E=l(t,["minLength"]);E!=null&&a(e,["minLength"],E);const A=l(t,["minProperties"]);A!=null&&a(e,["minProperties"],A);const I=l(t,["minimum"]);I!=null&&a(e,["minimum"],I);const L=l(t,["nullable"]);L!=null&&a(e,["nullable"],L);const F=l(t,["pattern"]);F!=null&&a(e,["pattern"],F);const M=l(t,["properties"]);M!=null&&a(e,["properties"],M);const $=l(t,["propertyOrdering"]);$!=null&&a(e,["propertyOrdering"],$);const b=l(t,["required"]);b!=null&&a(e,["required"],b);const q=l(t,["title"]);q!=null&&a(e,["title"],q);const W=l(t,["type"]);return W!=null&&a(e,["type"],W),e}function TE(t){const e={},n=l(t,["featureSelectionPreference"]);return n!=null&&a(e,["featureSelectionPreference"],n),e}function EE(t){const e={},n=l(t,["method"]);n!=null&&a(e,["method"],n);const r=l(t,["category"]);r!=null&&a(e,["category"],r);const s=l(t,["threshold"]);return s!=null&&a(e,["threshold"],s),e}function kE(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(t,["description"]);n!=null&&a(e,["description"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["parameters"]);s!=null&&a(e,["parameters"],s);const u=l(t,["parametersJsonSchema"]);u!=null&&a(e,["parametersJsonSchema"],u);const d=l(t,["response"]);d!=null&&a(e,["response"],d);const h=l(t,["responseJsonSchema"]);return h!=null&&a(e,["responseJsonSchema"],h),e}function xE(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function AE(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],xE(n)),e}function IE(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function PE(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],IE(n)),e}function RE(){return{}}function ME(t){const e={},n=l(t,["apiKeyString"]);return n!=null&&a(e,["apiKeyString"],n),e}function NE(t){const e={},n=l(t,["apiKeyConfig"]);n!=null&&a(e,["apiKeyConfig"],ME(n));const r=l(t,["authType"]);r!=null&&a(e,["authType"],r);const s=l(t,["googleServiceAccountConfig"]);s!=null&&a(e,["googleServiceAccountConfig"],s);const u=l(t,["httpBasicAuthConfig"]);u!=null&&a(e,["httpBasicAuthConfig"],u);const d=l(t,["oauthConfig"]);d!=null&&a(e,["oauthConfig"],d);const h=l(t,["oidcConfig"]);return h!=null&&a(e,["oidcConfig"],h),e}function DE(t){const e={},n=l(t,["authConfig"]);return n!=null&&a(e,["authConfig"],NE(n)),e}function LE(){return{}}function _m(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(C=>kE(C))),a(e,["functionDeclarations"],_)}const r=l(t,["retrieval"]);r!=null&&a(e,["retrieval"],r);const s=l(t,["googleSearch"]);s!=null&&a(e,["googleSearch"],AE(s));const u=l(t,["googleSearchRetrieval"]);u!=null&&a(e,["googleSearchRetrieval"],PE(u)),l(t,["enterpriseWebSearch"])!=null&&a(e,["enterpriseWebSearch"],RE());const h=l(t,["googleMaps"]);h!=null&&a(e,["googleMaps"],DE(h)),l(t,["urlContext"])!=null&&a(e,["urlContext"],LE());const p=l(t,["codeExecution"]);p!=null&&a(e,["codeExecution"],p);const y=l(t,["computerUse"]);return y!=null&&a(e,["computerUse"],y),e}function UE(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["allowedFunctionNames"]);return r!=null&&a(e,["allowedFunctionNames"],r),e}function FE(t){const e={},n=l(t,["latitude"]);n!=null&&a(e,["latitude"],n);const r=l(t,["longitude"]);return r!=null&&a(e,["longitude"],r),e}function $E(t){const e={},n=l(t,["latLng"]);n!=null&&a(e,["latLng"],FE(n));const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function bE(t){const e={},n=l(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],UE(n));const r=l(t,["retrievalConfig"]);return r!=null&&a(e,["retrievalConfig"],$E(r)),e}function VE(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function BE(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],VE(n)),e}function OE(t){const e={},n=l(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],BE(n)),l(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(t,["languageCode"]);return r!=null&&a(e,["languageCode"],r),e}function zE(t){const e={},n=l(t,["includeThoughts"]);n!=null&&a(e,["includeThoughts"],n);const r=l(t,["thinkingBudget"]);return r!=null&&a(e,["thinkingBudget"],r),e}function HE(t,e,n){const r={},s=l(e,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],er(st(s)));const u=l(e,["temperature"]);u!=null&&a(r,["temperature"],u);const d=l(e,["topP"]);d!=null&&a(r,["topP"],d);const h=l(e,["topK"]);h!=null&&a(r,["topK"],h);const m=l(e,["candidateCount"]);m!=null&&a(r,["candidateCount"],m);const p=l(e,["maxOutputTokens"]);p!=null&&a(r,["maxOutputTokens"],p);const y=l(e,["stopSequences"]);y!=null&&a(r,["stopSequences"],y);const _=l(e,["responseLogprobs"]);_!=null&&a(r,["responseLogprobs"],_);const C=l(e,["logprobs"]);C!=null&&a(r,["logprobs"],C);const w=l(e,["presencePenalty"]);w!=null&&a(r,["presencePenalty"],w);const E=l(e,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const A=l(e,["seed"]);A!=null&&a(r,["seed"],A);const I=l(e,["responseMimeType"]);I!=null&&a(r,["responseMimeType"],I);const L=l(e,["responseSchema"]);L!=null&&a(r,["responseSchema"],wE(gu(L)));const F=l(e,["responseJsonSchema"]);F!=null&&a(r,["responseJsonSchema"],F);const M=l(e,["routingConfig"]);M!=null&&a(r,["routingConfig"],M);const $=l(e,["modelSelectionConfig"]);$!=null&&a(r,["modelConfig"],TE($));const b=l(e,["safetySettings"]);if(n!==void 0&&b!=null){let ge=b;Array.isArray(ge)&&(ge=ge.map(ye=>EE(ye))),a(n,["safetySettings"],ge)}const q=l(e,["tools"]);if(n!==void 0&&q!=null){let ge=Zo(q);Array.isArray(ge)&&(ge=ge.map(ye=>_m(Xo(ye)))),a(n,["tools"],ge)}const W=l(e,["toolConfig"]);n!==void 0&&W!=null&&a(n,["toolConfig"],bE(W));const ue=l(e,["labels"]);n!==void 0&&ue!=null&&a(n,["labels"],ue);const j=l(e,["cachedContent"]);n!==void 0&&j!=null&&a(n,["cachedContent"],rn(t,j));const ne=l(e,["responseModalities"]);ne!=null&&a(r,["responseModalities"],ne);const oe=l(e,["mediaResolution"]);oe!=null&&a(r,["mediaResolution"],oe);const we=l(e,["speechConfig"]);we!=null&&a(r,["speechConfig"],OE(yu(we)));const Fe=l(e,["audioTimestamp"]);Fe!=null&&a(r,["audioTimestamp"],Fe);const Ve=l(e,["thinkingConfig"]);return Ve!=null&&a(r,["thinkingConfig"],zE(Ve)),r}function hp(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["contents"]);if(s!=null){let d=It(s);Array.isArray(d)&&(d=d.map(h=>er(h))),a(n,["contents"],d)}const u=l(e,["config"]);return u!=null&&a(n,["generationConfig"],HE(t,u,n)),n}function qE(t,e){const n={},r=l(t,["taskType"]);e!==void 0&&r!=null&&a(e,["instances[]","task_type"],r);const s=l(t,["title"]);e!==void 0&&s!=null&&a(e,["instances[]","title"],s);const u=l(t,["outputDimensionality"]);e!==void 0&&u!=null&&a(e,["parameters","outputDimensionality"],u);const d=l(t,["mimeType"]);e!==void 0&&d!=null&&a(e,["instances[]","mimeType"],d);const h=l(t,["autoTruncate"]);return e!==void 0&&h!=null&&a(e,["parameters","autoTruncate"],h),n}function GE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["contents"]);s!=null&&a(n,["instances[]","content"],tm(t,s));const u=l(e,["config"]);return u!=null&&a(n,["config"],qE(u,n)),n}function WE(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&a(e,["parameters","negativePrompt"],s);const u=l(t,["numberOfImages"]);e!==void 0&&u!=null&&a(e,["parameters","sampleCount"],u);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&a(e,["parameters","guidanceScale"],h);const m=l(t,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const p=l(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&a(e,["parameters","safetySetting"],p);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const _=l(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&a(e,["parameters","includeSafetyAttributes"],_);const C=l(t,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const w=l(t,["language"]);e!==void 0&&w!=null&&a(e,["parameters","language"],w);const E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const A=l(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&a(e,["parameters","outputOptions","compressionQuality"],A);const I=l(t,["addWatermark"]);e!==void 0&&I!=null&&a(e,["parameters","addWatermark"],I);const L=l(t,["imageSize"]);e!==void 0&&L!=null&&a(e,["parameters","sampleImageSize"],L);const F=l(t,["enhancePrompt"]);return e!==void 0&&F!=null&&a(e,["parameters","enhancePrompt"],F),n}function JE(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const u=l(e,["config"]);return u!=null&&a(n,["config"],WE(u,n)),n}function Ps(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const r=l(t,["imageBytes"]);r!=null&&a(e,["bytesBase64Encoded"],no(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function KE(t){const e={},n=l(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const r=l(t,["segmentationClasses"]);r!=null&&a(e,["maskClasses"],r);const s=l(t,["maskDilation"]);return s!=null&&a(e,["dilation"],s),e}function YE(t){const e={},n=l(t,["controlType"]);n!=null&&a(e,["controlType"],n);const r=l(t,["enableControlImageComputation"]);return r!=null&&a(e,["computeControl"],r),e}function QE(t){const e={},n=l(t,["styleDescription"]);return n!=null&&a(e,["styleDescription"],n),e}function XE(t){const e={},n=l(t,["subjectType"]);n!=null&&a(e,["subjectType"],n);const r=l(t,["subjectDescription"]);return r!=null&&a(e,["subjectDescription"],r),e}function ZE(t){const e={},n=l(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],Ps(n));const r=l(t,["referenceId"]);r!=null&&a(e,["referenceId"],r);const s=l(t,["referenceType"]);s!=null&&a(e,["referenceType"],s);const u=l(t,["maskImageConfig"]);u!=null&&a(e,["maskImageConfig"],KE(u));const d=l(t,["controlImageConfig"]);d!=null&&a(e,["controlImageConfig"],YE(d));const h=l(t,["styleImageConfig"]);h!=null&&a(e,["styleImageConfig"],QE(h));const m=l(t,["subjectImageConfig"]);return m!=null&&a(e,["subjectImageConfig"],XE(m)),e}function jE(t,e){const n={},r=l(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const s=l(t,["negativePrompt"]);e!==void 0&&s!=null&&a(e,["parameters","negativePrompt"],s);const u=l(t,["numberOfImages"]);e!==void 0&&u!=null&&a(e,["parameters","sampleCount"],u);const d=l(t,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const h=l(t,["guidanceScale"]);e!==void 0&&h!=null&&a(e,["parameters","guidanceScale"],h);const m=l(t,["seed"]);e!==void 0&&m!=null&&a(e,["parameters","seed"],m);const p=l(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&a(e,["parameters","safetySetting"],p);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const _=l(t,["includeSafetyAttributes"]);e!==void 0&&_!=null&&a(e,["parameters","includeSafetyAttributes"],_);const C=l(t,["includeRaiReason"]);e!==void 0&&C!=null&&a(e,["parameters","includeRaiReason"],C);const w=l(t,["language"]);e!==void 0&&w!=null&&a(e,["parameters","language"],w);const E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const A=l(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&a(e,["parameters","outputOptions","compressionQuality"],A);const I=l(t,["addWatermark"]);e!==void 0&&I!=null&&a(e,["parameters","addWatermark"],I);const L=l(t,["editMode"]);e!==void 0&&L!=null&&a(e,["parameters","editMode"],L);const F=l(t,["baseSteps"]);return e!==void 0&&F!=null&&a(e,["parameters","editConfig","baseSteps"],F),n}function e2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const u=l(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(m=>ZE(m))),a(n,["instances[0]","referenceImages"],h)}const d=l(e,["config"]);return d!=null&&a(n,["config"],jE(d,n)),n}function t2(t,e){const n={},r=l(t,["includeRaiReason"]);e!==void 0&&r!=null&&a(e,["parameters","includeRaiReason"],r);const s=l(t,["outputMimeType"]);e!==void 0&&s!=null&&a(e,["parameters","outputOptions","mimeType"],s);const u=l(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","compressionQuality"],u);const d=l(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=l(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=l(t,["numberOfImages"]);e!==void 0&&m!=null&&a(e,["parameters","sampleCount"],m);const p=l(t,["mode"]);return e!==void 0&&p!=null&&a(e,["parameters","mode"],p),n}function n2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["image"]);s!=null&&a(n,["instances[0]","image"],Ps(s));const u=l(e,["upscaleFactor"]);u!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],u);const d=l(e,["config"]);return d!=null&&a(n,["config"],t2(d,n)),n}function o2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function r2(t,e,n){const r={},s=l(e,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const u=l(e,["pageToken"]);n!==void 0&&u!=null&&a(n,["_query","pageToken"],u);const d=l(e,["filter"]);n!==void 0&&d!=null&&a(n,["_query","filter"],d);const h=l(e,["queryBase"]);return n!==void 0&&h!=null&&a(n,["_url","models_url"],rm(t,h)),r}function i2(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],r2(t,r,n)),n}function s2(t,e){const n={},r=l(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);e!==void 0&&s!=null&&a(e,["description"],s);const u=l(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&a(e,["defaultCheckpointId"],u),n}function l2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s2(s,n)),n}function a2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","name"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],s),n}function u2(t,e){const n={},r=l(t,["systemInstruction"]);e!==void 0&&r!=null&&a(e,["systemInstruction"],er(st(r)));const s=l(t,["tools"]);if(e!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>_m(h))),a(e,["tools"],d)}const u=l(t,["generationConfig"]);return e!==void 0&&u!=null&&a(e,["generationConfig"],u),n}function c2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["contents"]);if(s!=null){let d=It(s);Array.isArray(d)&&(d=d.map(h=>er(h))),a(n,["contents"],d)}const u=l(e,["config"]);return u!=null&&a(n,["config"],u2(u,n)),n}function d2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["contents"]);if(s!=null){let d=It(s);Array.isArray(d)&&(d=d.map(h=>er(h))),a(n,["contents"],d)}const u=l(e,["config"]);return u!=null&&a(n,["config"],u),n}function f2(t){const e={},n=l(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const r=l(t,["videoBytes"]);r!=null&&a(e,["bytesBase64Encoded"],no(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function h2(t,e){const n={},r=l(t,["numberOfVideos"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const s=l(t,["outputGcsUri"]);e!==void 0&&s!=null&&a(e,["parameters","storageUri"],s);const u=l(t,["fps"]);e!==void 0&&u!=null&&a(e,["parameters","fps"],u);const d=l(t,["durationSeconds"]);e!==void 0&&d!=null&&a(e,["parameters","durationSeconds"],d);const h=l(t,["seed"]);e!==void 0&&h!=null&&a(e,["parameters","seed"],h);const m=l(t,["aspectRatio"]);e!==void 0&&m!=null&&a(e,["parameters","aspectRatio"],m);const p=l(t,["resolution"]);e!==void 0&&p!=null&&a(e,["parameters","resolution"],p);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&a(e,["parameters","personGeneration"],y);const _=l(t,["pubsubTopic"]);e!==void 0&&_!=null&&a(e,["parameters","pubsubTopic"],_);const C=l(t,["negativePrompt"]);e!==void 0&&C!=null&&a(e,["parameters","negativePrompt"],C);const w=l(t,["enhancePrompt"]);e!==void 0&&w!=null&&a(e,["parameters","enhancePrompt"],w);const E=l(t,["generateAudio"]);e!==void 0&&E!=null&&a(e,["parameters","generateAudio"],E);const A=l(t,["lastFrame"]);e!==void 0&&A!=null&&a(e,["instances[0]","lastFrame"],Ps(A));const I=l(t,["compressionQuality"]);return e!==void 0&&I!=null&&a(e,["parameters","compressionQuality"],I),n}function p2(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["_url","model"],xe(t,r));const s=l(e,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const u=l(e,["image"]);u!=null&&a(n,["instances[0]","image"],Ps(u));const d=l(e,["video"]);d!=null&&a(n,["instances[0]","video"],f2(d));const h=l(e,["config"]);return h!=null&&a(n,["config"],h2(h,n)),n}function m2(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function g2(t){const e={},n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function y2(t){const e={},n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function v2(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],m2(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],g2(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],y2(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function _2(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>v2(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function C2(t){const e={},n=l(t,["citationSources"]);return n!=null&&a(e,["citations"],n),e}function S2(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function w2(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>S2(s))),a(e,["urlMetadata"],r)}return e}function T2(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],_2(n));const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],C2(r));const s=l(t,["tokenCount"]);s!=null&&a(e,["tokenCount"],s);const u=l(t,["finishReason"]);u!=null&&a(e,["finishReason"],u);const d=l(t,["urlContextMetadata"]);d!=null&&a(e,["urlContextMetadata"],w2(d));const h=l(t,["avgLogprobs"]);h!=null&&a(e,["avgLogprobs"],h);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=l(t,["index"]);p!=null&&a(e,["index"],p);const y=l(t,["logprobsResult"]);y!=null&&a(e,["logprobsResult"],y);const _=l(t,["safetyRatings"]);return _!=null&&a(e,["safetyRatings"],_),e}function pp(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>T2(m))),a(e,["candidates"],h)}const s=l(t,["modelVersion"]);s!=null&&a(e,["modelVersion"],s);const u=l(t,["promptFeedback"]);u!=null&&a(e,["promptFeedback"],u);const d=l(t,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function E2(t){const e={},n=l(t,["values"]);return n!=null&&a(e,["values"],n),e}function k2(){return{}}function x2(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>E2(d))),a(e,["embeddings"],u)}return l(t,["metadata"])!=null&&a(e,["metadata"],k2()),e}function A2(t){const e={},n=l(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],no(n));const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Cm(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const s=l(t,["contentType"]);return s!=null&&a(e,["contentType"],s),e}function I2(t){const e={},n=l(t,["_self"]);n!=null&&a(e,["image"],A2(n));const r=l(t,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const s=l(t,["_self"]);return s!=null&&a(e,["safetyAttributes"],Cm(s)),e}function P2(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>I2(d))),a(e,["generatedImages"],u)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&a(e,["positivePromptSafetyAttributes"],Cm(s)),e}function R2(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const s=l(t,["updateTime"]);return s!=null&&a(e,["updateTime"],s),e}function ru(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const u=l(t,["version"]);u!=null&&a(e,["version"],u);const d=l(t,["_self"]);d!=null&&a(e,["tunedModelInfo"],R2(d));const h=l(t,["inputTokenLimit"]);h!=null&&a(e,["inputTokenLimit"],h);const m=l(t,["outputTokenLimit"]);m!=null&&a(e,["outputTokenLimit"],m);const p=l(t,["supportedGenerationMethods"]);return p!=null&&a(e,["supportedActions"],p),e}function M2(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["_self"]);if(s!=null){let u=im(s);Array.isArray(u)&&(u=u.map(d=>ru(d))),a(e,["models"],u)}return e}function N2(){return{}}function D2(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);r!=null&&a(e,["totalTokens"],r);const s=l(t,["cachedContentTokenCount"]);return s!=null&&a(e,["cachedContentTokenCount"],s),e}function L2(t){const e={},n=l(t,["video","uri"]);n!=null&&a(e,["uri"],n);const r=l(t,["video","encodedVideo"]);r!=null&&a(e,["videoBytes"],no(r));const s=l(t,["encoding"]);return s!=null&&a(e,["mimeType"],s),e}function U2(t){const e={},n=l(t,["_self"]);return n!=null&&a(e,["video"],L2(n)),e}function F2(t){const e={},n=l(t,["generatedSamples"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>U2(d))),a(e,["generatedVideos"],u)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&a(e,["raiMediaFilteredReasons"],s),e}function $2(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const s=l(t,["done"]);s!=null&&a(e,["done"],s);const u=l(t,["error"]);u!=null&&a(e,["error"],u);const d=l(t,["response","generateVideoResponse"]);return d!=null&&a(e,["response"],F2(d)),e}function b2(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function V2(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["data"]);r!=null&&a(e,["data"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function B2(t){const e={},n=l(t,["displayName"]);n!=null&&a(e,["displayName"],n);const r=l(t,["fileUri"]);r!=null&&a(e,["fileUri"],r);const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function O2(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],b2(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],V2(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],B2(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function z2(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>O2(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function H2(t){const e={},n=l(t,["citations"]);return n!=null&&a(e,["citations"],n),e}function q2(t){const e={},n=l(t,["retrievedUrl"]);n!=null&&a(e,["retrievedUrl"],n);const r=l(t,["urlRetrievalStatus"]);return r!=null&&a(e,["urlRetrievalStatus"],r),e}function G2(t){const e={},n=l(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>q2(s))),a(e,["urlMetadata"],r)}return e}function W2(t){const e={},n=l(t,["content"]);n!=null&&a(e,["content"],z2(n));const r=l(t,["citationMetadata"]);r!=null&&a(e,["citationMetadata"],H2(r));const s=l(t,["finishMessage"]);s!=null&&a(e,["finishMessage"],s);const u=l(t,["finishReason"]);u!=null&&a(e,["finishReason"],u);const d=l(t,["urlContextMetadata"]);d!=null&&a(e,["urlContextMetadata"],G2(d));const h=l(t,["avgLogprobs"]);h!=null&&a(e,["avgLogprobs"],h);const m=l(t,["groundingMetadata"]);m!=null&&a(e,["groundingMetadata"],m);const p=l(t,["index"]);p!=null&&a(e,["index"],p);const y=l(t,["logprobsResult"]);y!=null&&a(e,["logprobsResult"],y);const _=l(t,["safetyRatings"]);return _!=null&&a(e,["safetyRatings"],_),e}function mp(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(y=>W2(y))),a(e,["candidates"],p)}const s=l(t,["createTime"]);s!=null&&a(e,["createTime"],s);const u=l(t,["responseId"]);u!=null&&a(e,["responseId"],u);const d=l(t,["modelVersion"]);d!=null&&a(e,["modelVersion"],d);const h=l(t,["promptFeedback"]);h!=null&&a(e,["promptFeedback"],h);const m=l(t,["usageMetadata"]);return m!=null&&a(e,["usageMetadata"],m),e}function J2(t){const e={},n=l(t,["truncated"]);n!=null&&a(e,["truncated"],n);const r=l(t,["token_count"]);return r!=null&&a(e,["tokenCount"],r),e}function K2(t){const e={},n=l(t,["values"]);n!=null&&a(e,["values"],n);const r=l(t,["statistics"]);return r!=null&&a(e,["statistics"],J2(r)),e}function Y2(t){const e={},n=l(t,["billableCharacterCount"]);return n!=null&&a(e,["billableCharacterCount"],n),e}function Q2(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions[]","embeddings"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>K2(d))),a(e,["embeddings"],u)}const s=l(t,["metadata"]);return s!=null&&a(e,["metadata"],Y2(s)),e}function X2(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["imageBytes"],no(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function Sm(t){const e={},n=l(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const r=l(t,["safetyAttributes","scores"]);r!=null&&a(e,["scores"],r);const s=l(t,["contentType"]);return s!=null&&a(e,["contentType"],s),e}function _u(t){const e={},n=l(t,["_self"]);n!=null&&a(e,["image"],X2(n));const r=l(t,["raiFilteredReason"]);r!=null&&a(e,["raiFilteredReason"],r);const s=l(t,["_self"]);s!=null&&a(e,["safetyAttributes"],Sm(s));const u=l(t,["prompt"]);return u!=null&&a(e,["enhancedPrompt"],u),e}function Z2(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>_u(d))),a(e,["generatedImages"],u)}const s=l(t,["positivePromptSafetyAttributes"]);return s!=null&&a(e,["positivePromptSafetyAttributes"],Sm(s)),e}function j2(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>_u(u))),a(e,["generatedImages"],s)}return e}function ek(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>_u(u))),a(e,["generatedImages"],s)}return e}function tk(t){const e={},n=l(t,["endpoint"]);n!=null&&a(e,["name"],n);const r=l(t,["deployedModelId"]);return r!=null&&a(e,["deployedModelId"],r),e}function nk(t){const e={},n=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["createTime"]);r!=null&&a(e,["createTime"],r);const s=l(t,["updateTime"]);return s!=null&&a(e,["updateTime"],s),e}function ok(t){const e={},n=l(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const r=l(t,["epoch"]);r!=null&&a(e,["epoch"],r);const s=l(t,["step"]);return s!=null&&a(e,["step"],s),e}function iu(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["displayName"]);r!=null&&a(e,["displayName"],r);const s=l(t,["description"]);s!=null&&a(e,["description"],s);const u=l(t,["versionId"]);u!=null&&a(e,["version"],u);const d=l(t,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(C=>tk(C))),a(e,["endpoints"],_)}const h=l(t,["labels"]);h!=null&&a(e,["labels"],h);const m=l(t,["_self"]);m!=null&&a(e,["tunedModelInfo"],nk(m));const p=l(t,["defaultCheckpointId"]);p!=null&&a(e,["defaultCheckpointId"],p);const y=l(t,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(C=>ok(C))),a(e,["checkpoints"],_)}return e}function rk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["_self"]);if(s!=null){let u=im(s);Array.isArray(u)&&(u=u.map(d=>iu(d))),a(e,["models"],u)}return e}function ik(){return{}}function sk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["totalTokens"]);return r!=null&&a(e,["totalTokens"],r),e}function lk(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["tokensInfo"]);return r!=null&&a(e,["tokensInfo"],r),e}function ak(t){const e={},n=l(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const r=l(t,["bytesBase64Encoded"]);r!=null&&a(e,["videoBytes"],no(r));const s=l(t,["mimeType"]);return s!=null&&a(e,["mimeType"],s),e}function uk(t){const e={},n=l(t,["_self"]);return n!=null&&a(e,["video"],ak(n)),e}function ck(t){const e={},n=l(t,["videos"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>uk(d))),a(e,["generatedVideos"],u)}const r=l(t,["raiMediaFilteredCount"]);r!=null&&a(e,["raiMediaFilteredCount"],r);const s=l(t,["raiMediaFilteredReasons"]);return s!=null&&a(e,["raiMediaFilteredReasons"],s),e}function dk(t){const e={},n=l(t,["name"]);n!=null&&a(e,["name"],n);const r=l(t,["metadata"]);r!=null&&a(e,["metadata"],r);const s=l(t,["done"]);s!=null&&a(e,["done"],s);const u=l(t,["error"]);u!=null&&a(e,["error"],u);const d=l(t,["response"]);return d!=null&&a(e,["response"],ck(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fk="Content-Type",hk="X-Server-Timeout",pk="User-Agent",su="x-goog-api-client",mk="1.12.0",gk=`google-genai-sdk/${mk}`,yk="v1beta1",vk="v1beta",gp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _k{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:yk,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vk,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))s.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.unaryApiCall(s,u,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,u]of Object.entries(n))typeof u=="object"?r[s]=Object.assign(Object.assign({},r[s]),u):u!==void 0&&(r[s]=u);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,n,e.abortSignal),this.streamApiCall(s,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const s=new AbortController,u=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>s.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=u}return n&&n.extraBody!==null&&Ck(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await yp(s),new Za(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await yp(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return Go(this,arguments,function*(){const s=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),u=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";for(;;){const{done:h,value:m}=yield De(s.read());if(h){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(m,{stream:!0});try{const _=JSON.parse(p);if("error"in _){const C=JSON.parse(JSON.stringify(_.error)),w=C.status,E=C.code,A=`got status: ${w}. ${JSON.stringify(_)}`;if(E>=400&&E<600)throw new As({message:A,status:E})}}catch(_){if(_.name==="ApiError")throw _}d+=p;let y=d.match(gp);for(;y;){const _=y[1];try{const C=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield De(new Za(C)),d=d.slice(y[0].length),y=d.match(gp)}catch(C){throw new Error(`exception parsing stream chunk ${_}. ${C}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=gk+" "+this.clientOptions.userAgentExtra;return e[pk]=n,e[su]=n,e[fk]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))n.append(r,s);e.timeout&&e.timeout>0&&n.append(hk,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);s.sizeBytes=String(d.size);const h=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const m=await this.fetchUploadUrl(s,n);return u.upload(e,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},d=await this.request({path:re("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:s});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(r=d==null?void 0:d.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function yp(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new As({message:s,status:n}):new Error(s)}}function Ck(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))n=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(u,d){const h=Object.assign({},u);for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m)){const p=d[m],y=h[m];p&&typeof p=="object"&&!Array.isArray(p)&&y&&typeof y=="object"&&!Array.isArray(y)?h[m]=r(y,p):(y&&p&&typeof y!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof y}, New type: ${typeof p}. Overwriting.`),h[m]=p)}return h}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sk="mcp_used/unknown";let wk=!1;function wm(t){for(const e of t)if(Tk(e)||typeof e=="object"&&"inputSchema"in e)return!0;return wk}function Tm(t){var e;const n=(e=t[su])!==null&&e!==void 0?e:"";t[su]=(n+` ${Sk}`).trimStart()}function Tk(t){return t!==null&&typeof t=="object"&&t instanceof Cu}function Ek(t,e=100){return Go(this,arguments,function*(){let r,s=0;for(;s<e;){const u=yield De(t.listTools({cursor:r}));for(const d of u.tools)yield yield De(d),s++;if(!u.nextCursor)break;r=u.nextCursor}})}class Cu{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Cu(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const u={},d=[];for(const y of this.mcpClients)try{for(var h=!0,m=(n=void 0,Yr(Ek(y))),p;p=await m.next(),e=p.done,!e;h=!0){s=p.value,h=!1;const _=s;d.push(_);const C=_.name;if(u[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);u[C]=y}}catch(_){n={error:_}}finally{try{!h&&!e&&(r=m.return)&&await r.call(m)}finally{if(n)throw n.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),__(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await s.callTool({name:r.name,arguments:r.args},void 0,u);n.push({functionResponse:{name:r.name,response:d.isError?{error:d}:d}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kk(t,e,n){const r=new d_;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const u=_T(s);Object.assign(r,u),e(r)}class xk{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=Pk(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),m=`${s}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const y=new Promise(M=>{p=M}),_=e.callbacks,C=function(){p({})},w=this.apiClient,E={onopen:C,onmessage:M=>{kk(w,_.onmessage,M)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(M){}},A=this.webSocketFactory.create(m,Ik(d),E);A.connect(),await y;const I=xe(this.apiClient,e.model),L=gm({model:I}),F=ou({setup:L});return A.send(JSON.stringify(F)),new Ak(A,this.apiClient)}}class Ak{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=yw(e),r=ym(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=vw(e),r=ou(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=ou({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ho.PLAY)}pause(){this.sendPlaybackControl(Ho.PAUSE)}stop(){this.sendPlaybackControl(Ho.STOP)}resetContext(){this.sendPlaybackControl(Ho.RESET_CONTEXT)}close(){this.conn.close()}}function Ik(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Pk(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rk="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Mk(t,e,n){const r=new c_;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const u=JSON.parse(s);if(t.isVertexAI()){const d=DT(u);Object.assign(r,d)}else{const d=cT(u);Object.assign(r,d)}e(r)}class Nk{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new xk(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&wm(e.config.tools)&&Tm(_);const C=Fk(_);if(this.apiClient.isVertexAI())y=`${m}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C);else{const j=this.apiClient.getApiKey();let ne="BidiGenerateContent",oe="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",oe="access_token"),y=`${m}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ne}?${oe}=${j}`}let w=()=>{};const E=new Promise(j=>{w=j}),A=e.callbacks,I=function(){var j;(j=A==null?void 0:A.onopen)===null||j===void 0||j.call(A),w({})},L=this.apiClient,F={onopen:I,onmessage:j=>{Mk(L,A.onmessage,j)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(j){}},M=this.webSocketFactory.create(y,Uk(C),F);M.connect(),await E;let $=xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const j=this.apiClient.getProject(),ne=this.apiClient.getLocation();$=`projects/${j}/locations/${ne}/`+$}let b={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ts.AUDIO]}:e.config.responseModalities=[Ts.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],W=[];for(const j of q)if(this.isCallableTool(j)){const ne=j;W.push(await ne.tool())}else W.push(j);W.length>0&&(e.config.tools=W);const ue={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?b=Gw(this.apiClient,ue):b=hw(this.apiClient,ue),delete b.config,M.send(JSON.stringify(b)),new Lk(M,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Dk={turnComplete:!0};class Lk{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=It(n.turns),e.isVertexAI()?r=r.map(s=>er(s)):r=r.map(s=>Is(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const u of r){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(Rk)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Dk),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Kw(e)}:n={realtimeInput:gw(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Uk(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Fk(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vp=10;function _p(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const d of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Wo(d)){s=!0;break}if(!s)return!0;const u=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Wo(t){return"callTool"in t&&typeof t.callTool=="function"}function $k(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Wo(s)))!==null&&r!==void 0?r:!1}function bk(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>!Wo(s)))!==null&&r!==void 0?r:!1}function Cp(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vk extends to{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,u,d,h;const m=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!$k(n)||_p(n.config))return await this.generateContentInternal(m);if(bk(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,y;const _=It(m.contents),C=(u=(s=(r=m.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:vp;let w=0;for(;w<C&&(p=await this.generateContentInternal(m),!(!p.functionCalls||p.functionCalls.length===0));){const E=p.candidates[0].content,A=[];for(const I of(h=(d=n.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(Wo(I)){const F=await I.callTool(p.functionCalls);A.push(...F)}w++,y={role:"user",parts:A},m.contents=It(m.contents),m.contents.push(E),m.contents.push(y),Cp(m.config)&&(_.push(E),_.push(y))}return Cp(m.config)&&(p.automaticFunctionCallingHistory=_),p},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),_p(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let u;const d=[];if(r!=null&&r.generatedImages)for(const m of r.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((s=m==null?void 0:m.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?u=m==null?void 0:m.safetyAttributes:d.push(m);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:r.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:r.sdkHttpResponse},h}),this.list=async n=>{var r;const d={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((r=d.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new ei(Zn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>await this.generateVideosInternal(n)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const u=(n=e.config)===null||n===void 0?void 0:n.tools;if(!u)return e;const d=await Promise.all(u.map(async m=>Wo(m)?await m.tool():m)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&wm(e.config.tools)){const m=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let p=Object.assign({},m);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Tm(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var n,r,s;const u=new Map;for(const d of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wo(d)){const h=d,m=await h.tool();for(const p of(s=m.functionDeclarations)!==null&&s!==void 0?s:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,h)}}return u}async processAfcStream(e){var n,r,s;const u=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:vp;let d=!1,h=0;const m=await this.initAfcToolsMap(e);return function(p,y,_){var C,w;return Go(this,arguments,function*(){for(var E,A,I,L;h<u;){d&&(h++,d=!1);const b=yield De(p.processParamsMaybeAddMcpUsage(_)),q=yield De(p.generateContentStreamInternal(b)),W=[],ue=[];try{for(var F=!0,M=(A=void 0,Yr(q)),$;$=yield De(M.next()),E=$.done,!E;F=!0){L=$.value,F=!1;const j=L;if(yield yield De(j),j.candidates&&(!((C=j.candidates[0])===null||C===void 0)&&C.content)){ue.push(j.candidates[0].content);for(const ne of(w=j.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(h<u&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ne.functionCall.name)){const oe=yield De(y.get(ne.functionCall.name).callTool([ne.functionCall]));W.push(...oe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(j){A={error:j}}finally{try{!F&&!E&&(I=M.return)&&(yield De(I.call(M)))}finally{if(A)throw A.error}}if(W.length>0){d=!0;const j=new qr;j.candidates=[{content:{role:"user",parts:W}}],yield yield De(j);const ne=[];ne.push(...ue),ne.push({role:"user",parts:W});const oe=It(_.contents).concat(ne);_.contents=oe}else break}})}(this,m,e)}async generateContentInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=hp(this.apiClient,e);return h=re("{model}:generateContent",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=mp(y),C=new qr;return Object.assign(C,_),C})}else{const p=fp(this.apiClient,e);return h=re("{model}:generateContent",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=pp(y),C=new qr;return Object.assign(C,_),C})}}async generateContentStreamInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=hp(this.apiClient,e);return h=re("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),d.then(function(_){return Go(this,arguments,function*(){var C,w,E,A;try{for(var I=!0,L=Yr(_),F;F=yield De(L.next()),C=F.done,!C;I=!0){A=F.value,I=!1;const M=A,$=mp(yield De(M.json()));$.sdkHttpResponse={headers:M.headers};const b=new qr;Object.assign(b,$),yield yield De(b)}}catch(M){w={error:M}}finally{try{!I&&!C&&(E=L.return)&&(yield De(E.call(L)))}finally{if(w)throw w.error}}})})}else{const p=fp(this.apiClient,e);return h=re("{model}:streamGenerateContent?alt=sse",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.requestStream({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(_){return Go(this,arguments,function*(){var C,w,E,A;try{for(var I=!0,L=Yr(_),F;F=yield De(L.next()),C=F.done,!C;I=!0){A=F.value,I=!1;const M=A,$=pp(yield De(M.json()));$.sdkHttpResponse={headers:M.headers};const b=new qr;Object.assign(b,$),yield yield De(b)}}catch(M){w={error:M}}finally{try{!I&&!C&&(E=L.return)&&(yield De(E.call(L)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=GE(this.apiClient,e);return h=re("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Q2(y),C=new Gh;return Object.assign(C,_),C})}else{const p=rE(this.apiClient,e);return h=re("{model}:batchEmbedContents",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=x2(y),C=new Gh;return Object.assign(C,_),C})}}async generateImagesInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=JE(this.apiClient,e);return h=re("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Z2(y),C=new Wh;return Object.assign(C,_),C})}else{const p=sE(this.apiClient,e);return h=re("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=P2(y),C=new Wh;return Object.assign(C,_),C})}}async editImageInternal(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=e2(this.apiClient,e);return u=re("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=j2(m),y=new r_;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=n2(this.apiClient,e);return u=re("{model}:predict",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=ek(m),y=new i_;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=o2(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>iu(y))}else{const p=lE(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>ru(y))}}async listInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=i2(this.apiClient,e);return h=re("{models_url}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=rk(y),C=new Jh;return Object.assign(C,_),C})}else{const p=uE(this.apiClient,e);return h=re("{models_url}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=M2(y),C=new Jh;return Object.assign(C,_),C})}}async update(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=l2(this.apiClient,e);return h=re("{model}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>iu(y))}else{const p=dE(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>ru(y))}}async delete(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=a2(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(()=>{const y=ik(),_=new Kh;return Object.assign(_,y),_})}else{const p=fE(this.apiClient,e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(()=>{const y=N2(),_=new Kh;return Object.assign(_,y),_})}}async countTokens(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=c2(this.apiClient,e);return h=re("{model}:countTokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=sk(y),C=new Yh;return Object.assign(C,_),C})}else{const p=pE(this.apiClient,e);return h=re("{model}:countTokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=D2(y),C=new Yh;return Object.assign(C,_),C})}}async computeTokens(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=d2(this.apiClient,e);return u=re("{model}:computeTokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>{const p=lk(m),y=new s_;return Object.assign(y,p),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=p2(this.apiClient,e);return h=re("{model}:predictLongRunning",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>{const _=dk(y),C=new Es;return Object.assign(C,_),C})}else{const p=yE(this.apiClient,e);return h=re("{model}:predictLongRunning",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d.then(y=>{const _=$2(y),C=new Es;return Object.assign(C,_),C})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bk(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function Ok(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["_url","operationName"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function zk(t){const e={},n=l(t,["operationName"]);n!=null&&a(e,["operationName"],n);const r=l(t,["resourceName"]);r!=null&&a(e,["_url","resourceName"],r);const s=l(t,["config"]);return s!=null&&a(e,["config"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hk extends to{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:u}});return n._fromAPIResponse({apiResponse:d,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=Ok(e);return h=re("{operationName}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d}else{const p=Bk(e);return h=re("{operationName}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=zk(e);return u=re("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qk(t){const e={},n=l(t,["voiceName"]);return n!=null&&a(e,["voiceName"],n),e}function Em(t){const e={},n=l(t,["prebuiltVoiceConfig"]);return n!=null&&a(e,["prebuiltVoiceConfig"],qk(n)),e}function Gk(t){const e={},n=l(t,["speaker"]);n!=null&&a(e,["speaker"],n);const r=l(t,["voiceConfig"]);return r!=null&&a(e,["voiceConfig"],Em(r)),e}function Wk(t){const e={},n=l(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Gk(s))),a(e,["speakerVoiceConfigs"],r)}return e}function Jk(t){const e={},n=l(t,["voiceConfig"]);n!=null&&a(e,["voiceConfig"],Em(n));const r=l(t,["multiSpeakerVoiceConfig"]);r!=null&&a(e,["multiSpeakerVoiceConfig"],Wk(r));const s=l(t,["languageCode"]);return s!=null&&a(e,["languageCode"],s),e}function Kk(t){const e={},n=l(t,["fps"]);n!=null&&a(e,["fps"],n);const r=l(t,["endOffset"]);r!=null&&a(e,["endOffset"],r);const s=l(t,["startOffset"]);return s!=null&&a(e,["startOffset"],s),e}function Yk(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["data"]);n!=null&&a(e,["data"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Qk(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const r=l(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Xk(t){const e={},n=l(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],Kk(n));const r=l(t,["thought"]);r!=null&&a(e,["thought"],r);const s=l(t,["inlineData"]);s!=null&&a(e,["inlineData"],Yk(s));const u=l(t,["fileData"]);u!=null&&a(e,["fileData"],Qk(u));const d=l(t,["thoughtSignature"]);d!=null&&a(e,["thoughtSignature"],d);const h=l(t,["codeExecutionResult"]);h!=null&&a(e,["codeExecutionResult"],h);const m=l(t,["executableCode"]);m!=null&&a(e,["executableCode"],m);const p=l(t,["functionCall"]);p!=null&&a(e,["functionCall"],p);const y=l(t,["functionResponse"]);y!=null&&a(e,["functionResponse"],y);const _=l(t,["text"]);return _!=null&&a(e,["text"],_),e}function Zk(t){const e={},n=l(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(u=>Xk(u))),a(e,["parts"],s)}const r=l(t,["role"]);return r!=null&&a(e,["role"],r),e}function jk(t){const e={},n=l(t,["behavior"]);n!=null&&a(e,["behavior"],n);const r=l(t,["description"]);r!=null&&a(e,["description"],r);const s=l(t,["name"]);s!=null&&a(e,["name"],s);const u=l(t,["parameters"]);u!=null&&a(e,["parameters"],u);const d=l(t,["parametersJsonSchema"]);d!=null&&a(e,["parametersJsonSchema"],d);const h=l(t,["response"]);h!=null&&a(e,["response"],h);const m=l(t,["responseJsonSchema"]);return m!=null&&a(e,["responseJsonSchema"],m),e}function ex(t){const e={},n=l(t,["startTime"]);n!=null&&a(e,["startTime"],n);const r=l(t,["endTime"]);return r!=null&&a(e,["endTime"],r),e}function tx(t){const e={},n=l(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],ex(n)),e}function nx(t){const e={},n=l(t,["mode"]);n!=null&&a(e,["mode"],n);const r=l(t,["dynamicThreshold"]);return r!=null&&a(e,["dynamicThreshold"],r),e}function ox(t){const e={},n=l(t,["dynamicRetrievalConfig"]);return n!=null&&a(e,["dynamicRetrievalConfig"],nx(n)),e}function rx(){return{}}function ix(t){const e={},n=l(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>jk(p))),a(e,["functionDeclarations"],m)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(t,["googleSearch"]);r!=null&&a(e,["googleSearch"],tx(r));const s=l(t,["googleSearchRetrieval"]);if(s!=null&&a(e,["googleSearchRetrieval"],ox(s)),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(t,["urlContext"])!=null&&a(e,["urlContext"],rx());const d=l(t,["codeExecution"]);d!=null&&a(e,["codeExecution"],d);const h=l(t,["computerUse"]);return h!=null&&a(e,["computerUse"],h),e}function sx(t){const e={},n=l(t,["handle"]);if(n!=null&&a(e,["handle"],n),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sp(){return{}}function lx(t){const e={},n=l(t,["disabled"]);n!=null&&a(e,["disabled"],n);const r=l(t,["startOfSpeechSensitivity"]);r!=null&&a(e,["startOfSpeechSensitivity"],r);const s=l(t,["endOfSpeechSensitivity"]);s!=null&&a(e,["endOfSpeechSensitivity"],s);const u=l(t,["prefixPaddingMs"]);u!=null&&a(e,["prefixPaddingMs"],u);const d=l(t,["silenceDurationMs"]);return d!=null&&a(e,["silenceDurationMs"],d),e}function ax(t){const e={},n=l(t,["automaticActivityDetection"]);n!=null&&a(e,["automaticActivityDetection"],lx(n));const r=l(t,["activityHandling"]);r!=null&&a(e,["activityHandling"],r);const s=l(t,["turnCoverage"]);return s!=null&&a(e,["turnCoverage"],s),e}function ux(t){const e={},n=l(t,["targetTokens"]);return n!=null&&a(e,["targetTokens"],n),e}function cx(t){const e={},n=l(t,["triggerTokens"]);n!=null&&a(e,["triggerTokens"],n);const r=l(t,["slidingWindow"]);return r!=null&&a(e,["slidingWindow"],ux(r)),e}function dx(t){const e={},n=l(t,["proactiveAudio"]);return n!=null&&a(e,["proactiveAudio"],n),e}function fx(t,e){const n={},r=l(t,["generationConfig"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig"],r);const s=l(t,["responseModalities"]);e!==void 0&&s!=null&&a(e,["setup","generationConfig","responseModalities"],s);const u=l(t,["temperature"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","temperature"],u);const d=l(t,["topP"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","topP"],d);const h=l(t,["topK"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","topK"],h);const m=l(t,["maxOutputTokens"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","maxOutputTokens"],m);const p=l(t,["mediaResolution"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","mediaResolution"],p);const y=l(t,["seed"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","seed"],y);const _=l(t,["speechConfig"]);e!==void 0&&_!=null&&a(e,["setup","generationConfig","speechConfig"],Jk(vu(_)));const C=l(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],C);const w=l(t,["systemInstruction"]);e!==void 0&&w!=null&&a(e,["setup","systemInstruction"],Zk(st(w)));const E=l(t,["tools"]);if(e!==void 0&&E!=null){let b=Zo(E);Array.isArray(b)&&(b=b.map(q=>ix(Xo(q)))),a(e,["setup","tools"],b)}const A=l(t,["sessionResumption"]);e!==void 0&&A!=null&&a(e,["setup","sessionResumption"],sx(A));const I=l(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&a(e,["setup","inputAudioTranscription"],Sp());const L=l(t,["outputAudioTranscription"]);e!==void 0&&L!=null&&a(e,["setup","outputAudioTranscription"],Sp());const F=l(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&a(e,["setup","realtimeInputConfig"],ax(F));const M=l(t,["contextWindowCompression"]);e!==void 0&&M!=null&&a(e,["setup","contextWindowCompression"],cx(M));const $=l(t,["proactivity"]);return e!==void 0&&$!=null&&a(e,["setup","proactivity"],dx($)),n}function hx(t,e){const n={},r=l(e,["model"]);r!=null&&a(n,["setup","model"],xe(t,r));const s=l(e,["config"]);return s!=null&&a(n,["config"],fx(s,n)),n}function px(t,e,n){const r={},s=l(e,["expireTime"]);n!==void 0&&s!=null&&a(n,["expireTime"],s);const u=l(e,["newSessionExpireTime"]);n!==void 0&&u!=null&&a(n,["newSessionExpireTime"],u);const d=l(e,["uses"]);n!==void 0&&d!=null&&a(n,["uses"],d);const h=l(e,["liveConnectConstraints"]);n!==void 0&&h!=null&&a(n,["bidiGenerateContentSetup"],hx(t,h));const m=l(e,["lockAdditionalFields"]);return n!==void 0&&m!=null&&a(n,["fieldMask"],m),r}function mx(t,e){const n={},r=l(e,["config"]);return r!=null&&a(n,["config"],px(t,r,n)),n}function gx(t){const e={},n=l(t,["name"]);return n!=null&&a(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yx(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(u=>`${n}.${u}`);e.push(...s)}else e.push(n)}return e.join(",")}function vx(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const u=r.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,n=u):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const u=yx(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(p=>d.includes(p)?`generationConfig.${p}`:p));const m=[];u&&m.push(u),h.length>0&&m.push(...h),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class _x extends to{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=mx(this.apiClient,e);u=re("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const m=vx(h,e.config);return s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),s.then(p=>gx(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cx(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function Sx(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const u=l(t,["filter"]);return e!==void 0&&u!=null&&a(e,["_query","filter"],u),n}function wx(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Sx(n,e)),e}function Tx(t){const e={},n=l(t,["textInput"]);n!=null&&a(e,["textInput"],n);const r=l(t,["output"]);return r!=null&&a(e,["output"],r),e}function Ex(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=l(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Tx(s))),a(e,["examples","examples"],r)}return e}function kx(t,e){const n={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(t,["epochCount"]);e!==void 0&&s!=null&&a(e,["tuningTask","hyperparameters","epochCount"],s);const u=l(t,["learningRateMultiplier"]);if(u!=null&&a(n,["tuningTask","hyperparameters","learningRateMultiplier"],u),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=l(t,["batchSize"]);e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","batchSize"],d);const h=l(t,["learningRate"]);return e!==void 0&&h!=null&&a(e,["tuningTask","hyperparameters","learningRate"],h),n}function xx(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["trainingDataset"]);r!=null&&a(e,["tuningTask","trainingData"],Ex(r));const s=l(t,["config"]);return s!=null&&a(e,["config"],kx(s,e)),e}function Ax(t){const e={},n=l(t,["name"]);n!=null&&a(e,["_url","name"],n);const r=l(t,["config"]);return r!=null&&a(e,["config"],r),e}function Ix(t,e){const n={},r=l(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const s=l(t,["pageToken"]);e!==void 0&&s!=null&&a(e,["_query","pageToken"],s);const u=l(t,["filter"]);return e!==void 0&&u!=null&&a(e,["_query","filter"],u),n}function Px(t){const e={},n=l(t,["config"]);return n!=null&&a(e,["config"],Ix(n,e)),e}function Rx(t,e){const n={},r=l(t,["gcsUri"]);e!==void 0&&r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],r);const s=l(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],s),l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function Mx(t,e){const n={},r=l(t,["gcsUri"]);r!=null&&a(n,["validationDatasetUri"],r);const s=l(t,["vertexDatasetResource"]);return e!==void 0&&s!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],s),n}function Nx(t,e){const n={},r=l(t,["validationDataset"]);e!==void 0&&r!=null&&a(e,["supervisedTuningSpec"],Mx(r,n));const s=l(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&a(e,["tunedModelDisplayName"],s);const u=l(t,["description"]);e!==void 0&&u!=null&&a(e,["description"],u);const d=l(t,["epochCount"]);e!==void 0&&d!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],d);const h=l(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const m=l(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m);const p=l(t,["adapterSize"]);if(e!==void 0&&p!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Dx(t){const e={},n=l(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const r=l(t,["trainingDataset"]);r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],Rx(r,e));const s=l(t,["config"]);return s!=null&&a(e,["config"],Nx(s,e)),e}function Lx(t){const e={},n=l(t,["name"]);n!=null&&a(e,["model"],n);const r=l(t,["name"]);return r!=null&&a(e,["endpoint"],r),e}function km(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["state"]);s!=null&&a(e,["state"],nm(s));const u=l(t,["createTime"]);u!=null&&a(e,["createTime"],u);const d=l(t,["tuningTask","startTime"]);d!=null&&a(e,["startTime"],d);const h=l(t,["tuningTask","completeTime"]);h!=null&&a(e,["endTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["description"]);p!=null&&a(e,["description"],p);const y=l(t,["baseModel"]);y!=null&&a(e,["baseModel"],y);const _=l(t,["_self"]);_!=null&&a(e,["tunedModel"],Lx(_));const C=l(t,["distillationSpec"]);C!=null&&a(e,["distillationSpec"],C);const w=l(t,["experiment"]);w!=null&&a(e,["experiment"],w);const E=l(t,["labels"]);E!=null&&a(e,["labels"],E);const A=l(t,["pipelineJob"]);A!=null&&a(e,["pipelineJob"],A);const I=l(t,["satisfiesPzi"]);I!=null&&a(e,["satisfiesPzi"],I);const L=l(t,["satisfiesPzs"]);L!=null&&a(e,["satisfiesPzs"],L);const F=l(t,["serviceAccount"]);F!=null&&a(e,["serviceAccount"],F);const M=l(t,["tunedModelDisplayName"]);return M!=null&&a(e,["tunedModelDisplayName"],M),e}function Ux(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["tunedModels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>km(d))),a(e,["tuningJobs"],u)}return e}function Fx(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["metadata"]);s!=null&&a(e,["metadata"],s);const u=l(t,["done"]);u!=null&&a(e,["done"],u);const d=l(t,["error"]);return d!=null&&a(e,["error"],d),e}function $x(t){const e={},n=l(t,["checkpointId"]);n!=null&&a(e,["checkpointId"],n);const r=l(t,["epoch"]);r!=null&&a(e,["epoch"],r);const s=l(t,["step"]);s!=null&&a(e,["step"],s);const u=l(t,["endpoint"]);return u!=null&&a(e,["endpoint"],u),e}function bx(t){const e={},n=l(t,["model"]);n!=null&&a(e,["model"],n);const r=l(t,["endpoint"]);r!=null&&a(e,["endpoint"],r);const s=l(t,["checkpoints"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>$x(d))),a(e,["checkpoints"],u)}return e}function lu(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["name"]);r!=null&&a(e,["name"],r);const s=l(t,["state"]);s!=null&&a(e,["state"],nm(s));const u=l(t,["createTime"]);u!=null&&a(e,["createTime"],u);const d=l(t,["startTime"]);d!=null&&a(e,["startTime"],d);const h=l(t,["endTime"]);h!=null&&a(e,["endTime"],h);const m=l(t,["updateTime"]);m!=null&&a(e,["updateTime"],m);const p=l(t,["error"]);p!=null&&a(e,["error"],p);const y=l(t,["description"]);y!=null&&a(e,["description"],y);const _=l(t,["baseModel"]);_!=null&&a(e,["baseModel"],_);const C=l(t,["tunedModel"]);C!=null&&a(e,["tunedModel"],bx(C));const w=l(t,["supervisedTuningSpec"]);w!=null&&a(e,["supervisedTuningSpec"],w);const E=l(t,["tuningDataStats"]);E!=null&&a(e,["tuningDataStats"],E);const A=l(t,["encryptionSpec"]);A!=null&&a(e,["encryptionSpec"],A);const I=l(t,["partnerModelTuningSpec"]);I!=null&&a(e,["partnerModelTuningSpec"],I);const L=l(t,["distillationSpec"]);L!=null&&a(e,["distillationSpec"],L);const F=l(t,["experiment"]);F!=null&&a(e,["experiment"],F);const M=l(t,["labels"]);M!=null&&a(e,["labels"],M);const $=l(t,["pipelineJob"]);$!=null&&a(e,["pipelineJob"],$);const b=l(t,["satisfiesPzi"]);b!=null&&a(e,["satisfiesPzi"],b);const q=l(t,["satisfiesPzs"]);q!=null&&a(e,["satisfiesPzs"],q);const W=l(t,["serviceAccount"]);W!=null&&a(e,["serviceAccount"],W);const ue=l(t,["tunedModelDisplayName"]);return ue!=null&&a(e,["tunedModelDisplayName"],ue),e}function Vx(t){const e={},n=l(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const r=l(t,["nextPageToken"]);r!=null&&a(e,["nextPageToken"],r);const s=l(t,["tuningJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>lu(d))),a(e,["tuningJobs"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bx extends to{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ei(Zn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:Xa.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=Ax(e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>lu(y))}else{const p=Cx(e);return h=re("{name}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>km(y))}}async listInternal(e){var n,r,s,u;let d,h="",m={};if(this.apiClient.isVertexAI()){const p=Px(e);return h=re("tuningJobs",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Vx(y),C=new Xh;return Object.assign(C,_),C})}else{const p=wx(e);return h=re("tunedModels",p._url),m=p._query,delete p.config,delete p._url,delete p._query,d=this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const C=_;return C.sdkHttpResponse={headers:y.headers},C})),d.then(y=>{const _=Ux(y),C=new Xh;return Object.assign(C,_),C})}}async tuneInternal(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI()){const h=Dx(e);return u=re("tuningJobs",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>lu(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xx(e);return u=re("tunedModels",h._url),d=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:m.headers},y})),s.then(m=>Fx(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ox{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zx=1024*1024*8,Hx=3,qx=1e3,Gx=2,$a="x-goog-upload-status";async function Wx(t,e,n){var r,s,u;let d=0,h=0,m=new Za(new Response),p="upload";for(d=t.size;h<d;){const _=Math.min(zx,d-h),C=t.slice(h,h+_);h+_>=d&&(p+=", finalize");let w=0,E=qx;for(;w<Hx&&(m=await n.request({path:"",body:C,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(_)}}}),!(!((r=m==null?void 0:m.headers)===null||r===void 0)&&r[$a]));)w++,await Kx(E),E=E*Gx;if(h+=_,((s=m==null?void 0:m.headers)===null||s===void 0?void 0:s[$a])!=="active")break;if(d<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const y=await(m==null?void 0:m.json());if(((u=m==null?void 0:m.headers)===null||u===void 0?void 0:u[$a])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return y.file}async function Jx(t){return{size:t.size,type:t.type}}function Kx(t){return new Promise(e=>setTimeout(e,t))}class Yx{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wx(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx{create(e,n,r){return new Xx(e,n,r)}}class Xx{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wp="x-goog-api-key";class Zx{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(wp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jx="gl-node/";class e3{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=o_(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new Zx(this.apiKey);this.apiClient=new _k({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:jx+"web",uploader:new Yx,downloader:new Ox}),this.models=new Vk(this.apiClient),this.live=new Nk(this.apiClient,s,new Qx),this.batches=new xC(this.apiClient),this.chats=new RS(this.models,this.apiClient),this.caches=new AS(this.apiClient),this.files=new HS(this.apiClient),this.operations=new Hk(this.apiClient),this.authTokens=new _x(this.apiClient),this.tunings=new Bx(this.apiClient)}}const t3="AIzaSyAynXbxIWJc5hcDBeCMDef1gzMoYqKzLBk",n3=new e3({apiKey:t3});async function o3(t,e,n){const r=`A professional logo for a brand named '${t}'.
The logo should be a visual representation of: '${e}'.
Style: ${n.name} - ${n.description}.
The logo must be a simple, modern, vector-style icon.
It should be on a clean, solid, flat white background.
Do not include any text in the logo.
The image should show ONLY the logo itself, not presented on a business card, building sign, or any other mockup.
The design should be centered and high-quality.`;try{const s=await n3.models.generateImages({model:"imagen-3.0-generate-002",prompt:r,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"1:1"}});if(!s.generatedImages||s.generatedImages.length===0||!s.generatedImages[0].image.imageBytes)throw new Error("Image generation failed, the API did not return an image.");return{imageUrl:`data:image/jpeg;base64,${s.generatedImages[0].image.imageBytes}`}}catch(s){throw console.error("Error generating logo with Gemini API:",s),s instanceof Error?new Error(`Gemini API Error: ${s.message}`):new Error("An unexpected error occurred during generation.")}}const r3=({categories:t,selectedStyle:e,onSelectStyle:n})=>z.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4 max-h-[400px] overflow-y-auto",children:z.jsx("div",{className:"space-y-4",children:t.map(r=>z.jsxs("div",{children:[z.jsx("h3",{className:"text-base font-semibold text-gray-300 mb-2",children:`${r.icon} ${r.category}`}),z.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:r.styles.map(s=>z.jsx("button",{onClick:()=>n(s),title:s.description,className:`w-full p-2 text-left rounded-md text-sm transition-all duration-200 ${e.name===s.name?"bg-indigo-600 text-white font-semibold ring-2 ring-indigo-400":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:s.name},s.name))})]},r.category))})}),i3=({image:t,isLoading:e})=>z.jsxs("div",{className:"aspect-square w-full bg-gray-800 border-2 border-dashed border-gray-700 rounded-lg flex items-center justify-center p-2 relative overflow-hidden",children:[e&&z.jsx("div",{className:"absolute inset-0 bg-gray-900/50 flex items-center justify-center z-10",children:z.jsx("div",{className:"w-16 h-16 border-4 border-indigo-400 border-t-transparent rounded-full animate-spin"})}),!e&&!t&&z.jsxs("div",{className:"text-center text-gray-500",children:[z.jsx(Y1,{className:"mx-auto h-12 w-12 text-gray-600"}),z.jsx("p",{className:"mt-2 text-sm",children:"Your generated logo will appear here"})]}),t&&z.jsx("img",{src:t,alt:"Generated Logo",className:"w-full h-full object-contain rounded-md"})]}),s3=()=>{const[t,e]=ie.useState(!1),[n,r]=ie.useState(null),s=async()=>{e(!0),r(null);try{const{data:u,error:d}=await In.functions.invoke("create-checkout-session");if(d)throw d;if(u.url)window.location.href=u.url;else throw new Error("Could not retrieve the checkout URL.")}catch(u){console.error("Checkout error:",u),r(u.message||"Failed to start checkout. Please try again."),e(!1)}};return z.jsxs("div",{className:"mt-4 text-center p-4 bg-gray-800 border border-indigo-500 rounded-lg shadow-lg",children:[z.jsx("h3",{className:"text-lg font-bold text-white",children:"You're Out of Credits!"}),z.jsx("p",{className:"text-gray-400 mt-1 mb-4",children:"Purchase more to continue creating amazing logos."}),z.jsx("button",{onClick:s,disabled:t,className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-4 rounded-md transition-all duration-300 transform active:scale-95",children:t?"Redirecting to payment...":z.jsxs(z.Fragment,{children:[z.jsx(Z1,{className:"h-5 w-5"}),"Buy 50 Credits for $5"]})}),n&&z.jsx("p",{className:"text-red-400 mt-2 text-sm",children:n})]})};function l3({credits:t,onGenerationSuccess:e}){const[n,r]=ie.useState("Aura"),[s,u]=ie.useState("A stylized phoenix rising"),[d,h]=ie.useState(sh[0].styles[0]),[m,p]=ie.useState(null),[y,_]=ie.useState(null),[C,w]=ie.useState(!1),[E,A]=ie.useState(null),I=ie.useCallback(async()=>{if(t===0){A("You are out of credits. Please purchase more to continue.");return}if(!s||!n||!d){A("Please fill out all fields and select a style.");return}w(!0),A(null),p(null),_(null);try{const{imageUrl:M}=await o3(n,s,d);p(M),_(n),await e()}catch(M){A(M instanceof Error?M.message:"An unknown error occurred.")}finally{w(!1)}},[s,n,d,t,e]),L=ie.useCallback(()=>{if(!m||!y)return;const M=document.createElement("a");M.href=m,M.download=`${y.toLowerCase().replace(/\s+/g,"-")}-logo.jpeg`,document.body.appendChild(M),M.click(),document.body.removeChild(M)},[m,y]),F=!C&&!!n&&!!s&&t!==null&&t>0;return z.jsx("main",{className:"container mx-auto p-4 md:p-8",children:z.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[z.jsxs("div",{className:"flex flex-col gap-6",children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"brandName",className:"block text-sm font-medium text-gray-400 mb-2",children:"1. What is your brand name?"}),z.jsx("input",{id:"brandName",type:"text",value:n,onChange:M=>r(M.target.value),placeholder:"e.g., Aura, Phoenix, Nova",className:"w-full bg-gray-800 border border-gray-700 rounded-md p-3 text-white placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"logoPrompt",className:"block text-sm font-medium text-gray-400 mb-2",children:"2. What should your logo look like?"}),z.jsx("input",{id:"logoPrompt",type:"text",value:s,onChange:M=>u(M.target.value),placeholder:"e.g., a minimal wolf head, a tech startup brain icon",className:"w-full bg-gray-800 border border-gray-700 rounded-md p-3 text-white placeholder-gray-500 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"3. Choose a style"}),z.jsx(r3,{categories:sh,selectedStyle:d,onSelectStyle:h})]}),z.jsxs("div",{children:[z.jsx("button",{onClick:I,disabled:!F,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-md transition-all duration-300 transform active:scale-95",children:C?z.jsxs(z.Fragment,{children:[z.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):z.jsxs(z.Fragment,{children:[z.jsx(J1,{className:"h-5 w-5"}),"Generate Logo (1 Credit)"]})}),t===0&&z.jsx(s3,{})]})]}),z.jsxs("div",{className:"flex flex-col",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"4. Your result"}),E&&z.jsxs("div",{className:"bg-red-900/50 border border-red-700 text-red-300 p-4 rounded-md mb-4 flex items-center gap-3",children:[z.jsx(K1,{className:"h-6 w-6"}),z.jsxs("div",{children:[z.jsx("h3",{className:"font-bold",children:"Generation Failed"}),z.jsx("p",{className:"text-sm",children:E})]})]}),z.jsx(i3,{image:m,isLoading:C}),!C&&m&&y&&z.jsxs("div",{className:"mt-6 text-center",children:[z.jsx("div",{className:"bg-gray-800/50 p-4 rounded-lg",children:z.jsx("h2",{className:"text-3xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-400",children:y})}),z.jsx("div",{className:"mt-4",children:z.jsxs("button",{onClick:L,className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-md transition-all duration-300 transform active:scale-95",children:[z.jsx(Q1,{className:"h-5 w-5"}),"Download Logo"]})})]})]})]})})}const a3=({session:t,credits:e})=>{const n=async()=>{await In.auth.signOut()};return z.jsx("header",{className:"py-4 px-4 md:px-8 border-b border-gray-800",children:z.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx(Yp,{className:"h-8 w-8 text-indigo-400"}),z.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-gray-200 to-gray-400",children:"logodrop.io"})]}),z.jsxs("div",{className:"flex items-center gap-4",children:[e!==null&&z.jsxs("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-md",children:[z.jsx(X1,{className:"h-5 w-5 text-yellow-400"}),z.jsxs("span",{className:"text-white font-medium text-sm",children:[e," Credits"]})]}),z.jsx("span",{className:"text-gray-400 text-sm hidden md:block",children:t.user.email}),z.jsx("button",{onClick:n,className:"bg-gray-700 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200 text-sm",children:"Sign Out"})]})]})})};function u3(){const[t,e]=ie.useState(null),[n,r]=ie.useState(null),[s,u]=ie.useState(!0),d=async m=>{try{const{data:p,error:y}=await In.from("profiles").select("credits").eq("id",m.user.id).single();y&&console.error("Error fetching profile:",y.message),r((p==null?void 0:p.credits)??null)}catch(p){console.error("An unexpected error occurred fetching profile:",p),r(null)}};ie.useEffect(()=>{u(!0);const{data:{subscription:m}}=In.auth.onAuthStateChange(async(_,C)=>{e(C),C?await d(C):r(null),u(!1)});new URLSearchParams(window.location.search).get("checkout_status")==="success"&&(In.auth.getSession().then(({data:{session:_}})=>{_&&d(_)}),window.history.replaceState({},document.title,window.location.pathname));const y=()=>{In.auth.getSession().then(({data:{session:_}})=>{_&&d(_)})};return window.addEventListener("focus",y),()=>{m.unsubscribe(),window.removeEventListener("focus",y)}},[]);const h=async()=>{if(t)try{const{data:m,error:p}=await In.rpc("decrement_credits",{user_id:t.user.id});if(p)throw new Error(`Failed to decrement credits: ${p.message}`);typeof m=="number"&&r(m)}catch(m){console.error(m)}};return s?null:t?z.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans",children:[z.jsx(a3,{session:t,credits:n}),z.jsx(l3,{credits:n,onGenerationSuccess:h},t.user.id),z.jsx("footer",{className:"text-center p-4 text-gray-500 text-sm",children:z.jsx("p",{children:"Powered by Gemini. Secured by Supabase."})})]}):z.jsx(j1,{})}const xm=document.getElementById("root");if(!xm)throw new Error("Could not find root element to mount to");const c3=D0.createRoot(xm);c3.render(z.jsx(P.StrictMode,{children:z.jsx(u3,{})}));
